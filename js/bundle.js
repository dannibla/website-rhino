!function(e){function t(t){for(var i,r,a=t[0],l=t[1],d=t[2],u=0,h=[];u<a.length;u++)r=a[u],s[r]&&h.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);h.length;)h.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={0:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var c=l;o.push([104,1]),n()}(Array(28).concat([function(e,t,n){var i,s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};window,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="https://www.ciaobellanairobi.com/src/basis/index.ts")}({"./node_modules/raw-loader/dist/cjs.js!https://www.ciaobellanairobi.com/src/basis/worker_bundle.js":
/*!**************************************************************************!*\
          !*** ./node_modules/raw-loader/dist/cjs.js!https://www.ciaobellanairobi.com/src/basis/worker_bundle.js ***!
          \**************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default='!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){(function(e){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var r,o=void 0!==(t=t||{})?t:{},i={};for(r in o)o.hasOwnProperty(r)&&(i[r]=o[r]);var a,u,s=[];a="object"==typeof window,u="function"==typeof importScripts,"object"==typeof e&&"object"==typeof e.versions&&e.versions.node;var c,l="";(a||u)&&(u?l=self.location.href:document.currentScript&&(l=document.currentScript.src),n&&(l=n),l=0!==l.indexOf("blob:")?l.substr(0,l.lastIndexOf("/")+1):"",u&&(c=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var f=o.print||console.log.bind(console),p=o.printErr||console.warn.bind(console);for(r in i)i.hasOwnProperty(r)&&(o[r]=i[r]);i=null,o.arguments&&(s=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&o.quit;var d,h,y={"f64-rem":function(t,e){return t%e},debugger:function(){}};new Array(0),o.wasmBinary&&(d=o.wasmBinary),o.noExitRuntime&&o.noExitRuntime,"object"!=typeof WebAssembly&&p("no native wasm support detected");var v,m,g,w,T,b,C,$,P,_=!1,A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&A)return A.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var u=63&t[e++];if(192!=(224&a)){var s=63&t[e++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function E(t,e){return t?F(g,t,e):""}function S(t,e){return t%e>0&&(t+=e-t%e),t}function O(t){v=t,o.HEAP8=m=new Int8Array(t),o.HEAP16=w=new Int16Array(t),o.HEAP32=b=new Int32Array(t),o.HEAPU8=g=new Uint8Array(t),o.HEAPU16=T=new Uint16Array(t),o.HEAPU32=C=new Uint32Array(t),o.HEAPF32=$=new Float32Array(t),o.HEAPF64=P=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var W=o.TOTAL_MEMORY||16777216;function k(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?o.dynCall_v(n):o.dynCall_vi(n,e.arg):n(void 0===e.arg?null:e.arg)}else e()}}(h=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:W/65536}))&&(v=h.buffer),W=v.byteLength,O(v),b[59864]=5482368;var j=[],I=[],R=[],x=[],D=0,U=null,B=null;function M(t){return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}o.preloadedImages={},o.preloadedAudios={};var N,L="basis_transcoder.wasm";function V(){try{if(d)return new Uint8Array(d);if(c)return c(L);throw"both async and sync fetching of the wasm failed"}catch(t){Pe(t)}}function H(t){var e={env:t,wasi_unstable:t,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:y};function n(t,e){var n=t.exports;o.asm=n,function(t){if(D--,o.monitorRunDependencies&&o.monitorRunDependencies(D),0==D&&(null!==U&&(clearInterval(U),U=null),B)){var e=B;B=null,e()}}()}function r(t){n(t.instance)}function i(t){return(d||!a&&!u||"function"!=typeof fetch?new Promise((function(t,e){t(V())})):fetch(L,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+L+"\'";return t.arrayBuffer()})).catch((function(){return V()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(t){p("failed to asynchronously prepare wasm: "+t),Pe(t)}))}if(D++,o.monitorRunDependencies&&o.monitorRunDependencies(D),o.instantiateWasm)try{return o.instantiateWasm(e,n)}catch(t){return p("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(d||"function"!=typeof WebAssembly.instantiateStreaming||M(L)||"function"!=typeof fetch)return i(r);fetch(L,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(t){p("wasm streaming compile failed: "+t),p("falling back to ArrayBuffer instantiation"),i(r)}))}))}(),{}}M(L)||(N=L,L=o.locateFile?o.locateFile(N,l):l+N),o.asm=function(t,e,n){return e.memory=h,e.table=new WebAssembly.Table({initial:342,maximum:342,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,H(e)},I.push({func:function(){Ce()}});var z={},G={buffers:[null,[],[]],printChar:function(t,e){var n=G.buffers[t];0===e||10===e?((1===t?f:p)(F(n,0)),n.length=0):n.push(e)},varargs:0,get:function(t){return G.varargs+=4,b[G.varargs-4>>2]},getStr:function(){return E(G.get())},get64:function(){var t=G.get();return G.get(),t},getZero:function(){G.get()}};function q(t,e,n,r){try{for(var o=0,i=0;i<n;i++){for(var a=b[e+8*i>>2],u=b[e+(8*i+4)>>2],s=0;s<u;s++)G.printChar(t,g[a+s]);o+=u}return b[r>>2]=o,0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||Pe(t),-t.errno}}function X(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var Z=void 0;function J(t){for(var e="",n=t;g[n];)e+=Z[g[n++]];return e}var Y={},K={},Q={};function tt(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function et(t,e){return t=tt(t),new Function("body","return function "+t+\'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n\')(e)}function nt(t,e){var n=et(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\\n"+n.replace(/^Error(:[^\\n]*)?\\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var rt=void 0;function ot(t){throw new rt(t)}var it=void 0;function at(t){throw new it(t)}function ut(t,e,n){function r(e){var r=n(e);r.length!==t.length&&at("Mismatched type converter count");for(var o=0;o<t.length;++o)st(t[o],r[o])}t.forEach((function(t){Q[t]=e}));var o=new Array(e.length),i=[],a=0;e.forEach((function(t,e){K.hasOwnProperty(t)?o[e]=K[t]:(i.push(t),Y.hasOwnProperty(t)||(Y[t]=[]),Y[t].push((function(){o[e]=K[t],++a===i.length&&r(o)})))})),0===i.length&&r(o)}function st(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||ot(\'type "\'+r+\'" must have a positive integer typeid pointer\'),K.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;ot("Cannot register type \'"+r+"\' twice")}if(K[t]=e,delete Q[t],Y.hasOwnProperty(t)){var o=Y[t];delete Y[t],o.forEach((function(t){t()}))}}function ct(t){if(!(this instanceof Ct))return!1;if(!(t instanceof Ct))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=t.$$.ptrType.registeredClass,o=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;r.baseClass;)o=r.upcast(o),r=r.baseClass;return e===r&&n===o}function lt(t){ot(t.$$.ptrType.registeredClass.name+" instance already deleted")}var ft=!1;function pt(t){}function dt(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function ht(t){return"undefined"==typeof FinalizationGroup?(ht=function(t){return t},t):(ft=new FinalizationGroup((function(t){for(var e=t.next();!e.done;e=t.next()){var n=e.value;n.ptr?dt(n):console.warn("object already deleted: "+n.ptr)}})),pt=function(t){ft.unregister(t.$$)},(ht=function(t){return ft.register(t,t.$$,t.$$),t})(t))}function yt(){if(this.$$.ptr||lt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=ht(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function vt(){this.$$.ptr||lt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ot("Object already scheduled for deletion"),pt(this),dt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function mt(){return!this.$$.ptr}var gt=void 0,wt=[];function Tt(){for(;wt.length;){var t=wt.pop();t.$$.deleteScheduled=!1,t.delete()}}function bt(){return this.$$.ptr||lt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ot("Object already scheduled for deletion"),wt.push(this),1===wt.length&&gt&&gt(Tt),this.$$.deleteScheduled=!0,this}function Ct(){}var $t={};function Pt(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||ot("Function \'"+n+"\' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}function _t(t,e,n){o.hasOwnProperty(t)?((void 0===n||void 0!==o[t].overloadTable&&void 0!==o[t].overloadTable[n])&&ot("Cannot register public name \'"+t+"\' twice"),Pt(o,t,t),o.hasOwnProperty(n)&&ot("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[t].overloadTable[n]=e):(o[t]=e,void 0!==n&&(o[t].numArguments=n))}function At(t,e,n,r,o,i,a,u){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=u,this.pureVirtualFunctions=[]}function Ft(t,e,n){for(;e!==n;)e.upcast||ot("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Et(t,e){if(null===e)return this.isReference&&ot("null is not a valid "+this.name),0;e.$$||ot(\'Cannot pass "\'+oe(e)+\'" as a \'+this.name),e.$$.ptr||ot("Cannot pass deleted object as a pointer of type "+this.name);var n=e.$$.ptrType.registeredClass;return Ft(e.$$.ptr,n,this.registeredClass)}function St(t,e){var n;if(null===e)return this.isReference&&ot("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;e.$$||ot(\'Cannot pass "\'+oe(e)+\'" as a \'+this.name),e.$$.ptr||ot("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&ot("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;if(n=Ft(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&ot("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:ot("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var o=e.clone();n=this.rawShare(n,re((function(){o.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:ot("Unsupporting sharing policy")}return n}function Ot(t,e){if(null===e)return this.isReference&&ot("null is not a valid "+this.name),0;e.$$||ot(\'Cannot pass "\'+oe(e)+\'" as a \'+this.name),e.$$.ptr||ot("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&ot("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;return Ft(e.$$.ptr,n,this.registeredClass)}function Wt(t){return this.fromWireType(C[t>>2])}function kt(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function jt(t){this.rawDestructor&&this.rawDestructor(t)}function It(t){null!==t&&t.delete()}function Rt(){return Object.keys(Ut).length}function xt(){var t=[];for(var e in Ut)Ut.hasOwnProperty(e)&&t.push(Ut[e]);return t}function Dt(t){gt=t,wt.length&&gt&&gt(Tt)}var Ut={};function Bt(t,e){return e=function(t,e){for(void 0===e&&ot("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),Ut[e]}function Mt(t,e){return e.ptrType&&e.ptr||at("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&at("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ht(Object.create(t,{$$:{value:e}}))}function Nt(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=Bt(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var r=n.clone();return this.destructor(t),r}function o(){return this.isSmartPointer?Mt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):Mt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var i,a=this.registeredClass.getActualType(e),u=$t[a];if(!u)return o.call(this);i=this.isConst?u.constPointerType:u.pointerType;var s=function t(e,n,r){if(n===r)return e;if(void 0===r.baseClass)return null;var o=t(e,n,r.baseClass);return null===o?null:r.downcast(o)}(e,this.registeredClass,i.registeredClass);return null===s?o.call(this):this.isSmartPointer?Mt(i.registeredClass.instancePrototype,{ptrType:i,ptr:s,smartPtrType:this,smartPtr:t}):Mt(i.registeredClass.instancePrototype,{ptrType:i,ptr:s})}function Lt(t,e,n,r,o,i,a,u,s,c,l){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=r,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=l,o||void 0!==e.baseClass?this.toWireType=St:r?(this.toWireType=Et,this.destructorFunction=null):(this.toWireType=Ot,this.destructorFunction=null)}function Vt(t,e,n){o.hasOwnProperty(t)||at("Replacing nonexistant public symbol"),void 0!==o[t].overloadTable&&void 0!==n?o[t].overloadTable[n]=e:(o[t]=e,o[t].argCount=n)}function Ht(t,e){var n;if(t=J(t),void 0!==o["FUNCTION_TABLE_"+t])n=o["FUNCTION_TABLE_"+t][e];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[e];else{var r=o["dynCall_"+t];void 0===r&&void 0===(r=o["dynCall_"+t.replace(/f/g,"d")])&&ot("No dynCall invoker for signature: "+t),n=function(n){for(var r=[],o=1;o<t.length;++o)r.push("a"+o);var i="return function dynCall_"+t+"_"+e+"("+r.join(", ")+") {\\n";return i+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\\n",i+="};\\n",new Function("dynCall","rawFunction",i)(n,e)}(r)}return"function"!=typeof n&&ot("unknown function pointer with signature "+t+": "+e),n}var zt=void 0;function Gt(t){var e=we(t),n=J(e);return Te(e),n}function qt(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||K[e]||(Q[e]?Q[e].forEach(t):(n.push(e),r[e]=!0))})),new zt(t+": "+n.map(Gt).join([", "]))}function Xt(t,e){for(var n=[],r=0;r<t;r++)n.push(b[(e>>2)+r]);return n}function Zt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Jt(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=et(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return o instanceof Object?o:r}function Yt(t,e,n,r,o){var i=e.length;i<2&&ot("argTypes array size mismatch! Must at least get return value and \'this\' types!");for(var a=null!==e[1]&&null!==n,u=!1,s=1;s<e.length;++s)if(null!==e[s]&&void 0===e[s].destructorFunction){u=!0;break}var c="void"!==e[0].name,l="",f="";for(s=0;s<i-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var p="return function "+tt(t)+"("+l+") {\\nif (arguments.length !== "+(i-2)+") {\\nthrowBindingError(\'function "+t+" called with \' + arguments.length + \' arguments, expected "+(i-2)+" args!\');\\n}\\n";u&&(p+="var destructors = [];\\n");var d=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[ot,r,o,Zt,e[0],e[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\\n"),s=0;s<i-2;++s)p+="var arg"+s+"Wired = argType"+s+".toWireType("+d+", arg"+s+"); // "+e[s+2].name+"\\n",h.push("argType"+s),y.push(e[s+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\\n",u)p+="runDestructors(destructors);\\n";else for(s=a?1:2;s<e.length;++s){var v=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==e[s].destructorFunction&&(p+=v+"_dtor("+v+"); // "+e[s].name+"\\n",h.push(v+"_dtor"),y.push(e[s].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\\nreturn ret;\\n"),p+="}\\n",h.push(p),Jt(Function,h).apply(null,y)}var Kt=[],Qt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function te(t){t>4&&0==--Qt[t].refcount&&(Qt[t]=void 0,Kt.push(t))}function ee(){for(var t=0,e=5;e<Qt.length;++e)void 0!==Qt[e]&&++t;return t}function ne(){for(var t=5;t<Qt.length;++t)if(void 0!==Qt[t])return Qt[t];return null}function re(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Kt.length?Kt.pop():Qt.length;return Qt[e]={refcount:1,value:t},e}}function oe(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function ie(t,e){switch(e){case 2:return function(t){return this.fromWireType($[t>>2])};case 3:return function(t){return this.fromWireType(P[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function ae(t,e,n){switch(e){case 0:return n?function(t){return m[t]}:function(t){return g[t]};case 1:return n?function(t){return w[t>>1]}:function(t){return T[t>>1]};case 2:return n?function(t){return b[t>>2]}:function(t){return C[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function ue(t){return t||ot("Cannot use deleted val. handle = "+t),Qt[t].value}function se(t,e){var n=K[t];return void 0===n&&ot(e+" has unknown type "+Gt(t)),n}var ce={};function le(t){var e=ce[t];return void 0===e?J(t):e}var fe=[];function pe(){return"object"==typeof globalThis?globalThis:Function("return this")()}var de={};function he(){return m.length}!function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Z=t}(),rt=o.BindingError=nt(Error,"BindingError"),it=o.InternalError=nt(Error,"InternalError"),Ct.prototype.isAliasOf=ct,Ct.prototype.clone=yt,Ct.prototype.delete=vt,Ct.prototype.isDeleted=mt,Ct.prototype.deleteLater=bt,Lt.prototype.getPointee=kt,Lt.prototype.destructor=jt,Lt.prototype.argPackAdvance=8,Lt.prototype.readValueFromPointer=Wt,Lt.prototype.deleteObject=It,Lt.prototype.fromWireType=Nt,o.getInheritedInstanceCount=Rt,o.getLiveInheritedInstances=xt,o.flushPendingDeletes=Tt,o.setDelayFunction=Dt,zt=o.UnboundTypeError=nt(Error,"UnboundTypeError"),o.count_emval_handles=ee,o.get_first_emval=ne;var ye={c:Pe,A:function(t){},i:function(t){return be(t)},I:function(){throw _=!0,"Pure virtual function called!"},h:function(t,e,n){throw z[t]={ptr:t,adjusted:[t],type:e,destructor:n,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in ge?ge.uncaught_exceptions++:ge.uncaught_exceptions=1,t},z:function(){return ge.uncaught_exceptions},m:function(t){return o.___errno_location&&(b[o.___errno_location()>>2]=t),t},y:function(t,e){G.varargs=e;try{return G.getStreamFromFD(),G.get(),G.get(),G.get(),G.get(),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||Pe(t),-t.errno}},x:function(t,e){G.varargs=e;try{return G.getStreamFromFD(),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||Pe(t),-t.errno}},w:function(){return q.apply(null,arguments)},v:function(t,e,n,r,o){var i=X(n);st(t,{name:e=J(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:o},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=m;else if(2===n)r=w;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=b}return this.fromWireType(r[t>>i])},destructorFunction:null})},N:function(t,e,n,r,o,i,a,u,s,c,l,f,p){l=J(l),i=Ht(o,i),u&&(u=Ht(a,u)),c&&(c=Ht(s,c)),p=Ht(f,p);var d=tt(l);_t(d,(function(){qt("Cannot construct "+l+" due to unbound types",[r])})),ut([t,e,n],r?[r]:[],(function(e){var n,o;e=e[0],o=r?(n=e.registeredClass).instancePrototype:Ct.prototype;var a=et(d,(function(){if(Object.getPrototypeOf(this)!==s)throw new rt("Use \'new\' to construct "+l);if(void 0===f.constructor_body)throw new rt(l+" has no accessible constructor");var t=f.constructor_body[arguments.length];if(void 0===t)throw new rt("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),s=Object.create(o,{constructor:{value:a}});a.prototype=s;var f=new At(l,a,s,p,n,i,u,c),h=new Lt(l,f,!0,!1,!1),y=new Lt(l+"*",f,!1,!1,!1),v=new Lt(l+" const*",f,!1,!0,!1);return $t[t]={pointerType:y,constPointerType:v},Vt(d,a),[h,y,v]}))},M:function(t,e,n,r,o,i){var a=Xt(e,n);o=Ht(r,o),ut([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new rt("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class \'"+t.name+"\'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){qt("Cannot construct "+t.name+" due to unbound types",a)},ut([],a,(function(r){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&ot(n+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],a=new Array(e);a[0]=i;for(var u=1;u<e;++u)a[u]=r[u].toWireType(t,arguments[u-1]);var s=o.apply(null,a);return Zt(t),r[0].fromWireType(s)},[]})),[]}))},g:function(t,e,n,r,o,i,a,u){var s=Xt(n,r);e=J(e),i=Ht(o,i),ut([],[t],(function(t){var r=(t=t[0]).name+"."+e;function o(){qt("Cannot call "+r+" due to unbound types",s)}u&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,l=c[e];return void 0===l||void 0===l.overloadTable&&l.className!==t.name&&l.argCount===n-2?(o.argCount=n-2,o.className=t.name,c[e]=o):(Pt(c,e,r),c[e].overloadTable[n-2]=o),ut([],s,(function(o){var u=Yt(r,o,t,i,a);return void 0===c[e].overloadTable?(u.argCount=n-2,c[e]=u):c[e].overloadTable[n-2]=u,[]})),[]}))},L:function(t,e){st(t,{name:e=J(e),fromWireType:function(t){var e=Qt[t].value;return te(t),e},toWireType:function(t,e){return re(e)},argPackAdvance:8,readValueFromPointer:Wt,destructorFunction:null})},u:function(t,e,n){var r=X(n);st(t,{name:e=J(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError(\'Cannot convert "\'+oe(e)+\'" to \'+this.name);return e},argPackAdvance:8,readValueFromPointer:ie(e,r),destructorFunction:null})},K:function(t,e,n,r,o,i){var a=Xt(e,n);t=J(t),o=Ht(r,o),_t(t,(function(){qt("Cannot call "+t+" due to unbound types",a)}),e-1),ut([],a,(function(n){var r=[n[0],null].concat(n.slice(1));return Vt(t,Yt(t,r,null,o,i),e-1),[]}))},f:function(t,e,n,r,o){e=J(e),-1===o&&(o=4294967295);var i=X(n),a=function(t){return t};if(0===r){var u=32-8*n;a=function(t){return t<<u>>>u}}var s=-1!=e.indexOf("unsigned");st(t,{name:e,fromWireType:a,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError(\'Cannot convert "\'+oe(n)+\'" to \'+this.name);if(n<r||n>o)throw new TypeError(\'Passing a number "\'+oe(n)+\'" from JS side to C/C++ side to an argument of type "\'+e+\'", which is outside the valid range [\'+r+", "+o+"]!");return s?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:ae(e,i,0!==r),destructorFunction:null})},e:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=C,n=e[t>>=2],o=e[t+1];return new r(e.buffer,o,n)}st(t,{name:n=J(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},t:function(t,e){var n="std::string"===(e=J(e));st(t,{name:e,fromWireType:function(t){var e,r=C[t>>2];if(n){var o=g[t+4+r],i=0;0!=o&&(i=o,g[t+4+r]=0);for(var a=t+4,u=0;u<=r;++u){var s=t+4+u;if(0==g[s]){var c=E(a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=s+1}}0!=i&&(g[t+4+r]=i)}else{var l=new Array(r);for(u=0;u<r;++u)l[u]=String.fromCharCode(g[t+4+u]);e=l.join("")}return Te(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||ot("Cannot pass non-string to std::string");var o=(n&&r?function(){return function(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}(e)}:function(){return e.length})(),i=be(4+o+1);if(C[i>>2]=o,n&&r)!function(t,e,n,r){if(!(r>0))return 0;for(var o=n+r-1,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),a<=127){if(n>=o)break;e[n++]=a}else if(a<=2047){if(n+1>=o)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=o)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}e[n]=0}(e,g,i+4,o+1);else if(r)for(var a=0;a<o;++a){var u=e.charCodeAt(a);u>255&&(Te(i),ot("String has UTF-16 code units that do not fit in 8 bits")),g[i+4+a]=u}else for(a=0;a<o;++a)g[i+4+a]=e[a];return null!==t&&t.push(Te,i),i},argPackAdvance:8,readValueFromPointer:Wt,destructorFunction:function(t){Te(t)}})},J:function(t,e,n){var r,o;n=J(n),2===e?(r=function(){return T},o=1):4===e&&(r=function(){return C},o=2),st(t,{name:n,fromWireType:function(t){for(var e=r(),n=C[t>>2],i=new Array(n),a=t+4>>o,u=0;u<n;++u)i[u]=String.fromCharCode(e[a+u]);return Te(t),i.join("")},toWireType:function(t,n){var i=r(),a=n.length,u=be(4+a*e);C[u>>2]=a;for(var s=u+4>>o,c=0;c<a;++c)i[s+c]=n.charCodeAt(c);return null!==t&&t.push(Te,u),u},argPackAdvance:8,readValueFromPointer:Wt,destructorFunction:function(t){Te(t)}})},H:function(t,e){st(t,{isVoid:!0,name:e=J(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},s:function(t,e,n){t=ue(t),e=se(e,"emval::as");var r=[],o=re(r);return b[n>>2]=o,e.toWireType(r,t)},r:function(t,e,n,r){(t=fe[t])(e=ue(e),n=le(n),null,r)},b:te,G:function(t){return 0===t?re(pe()):(t=le(t),re(pe()[t]))},q:function(t,e){for(var n=function(t,e,n){for(var r=new Array(t),o=0;o<t;++o)r[o]=se(b[(e>>2)+o],"parameter "+o);return r}(t,e),r=n[0],o=r.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",i=["retType"],a=[r],u="",s=0;s<t-1;++s)u+=(0!==s?", ":"")+"arg"+s,i.push("argType"+s),a.push(n[1+s]);var c="return function "+tt("methodCaller_"+o)+"(handle, name, destructors, args) {\\n",l=0;for(s=0;s<t-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(l?"+"+l:"")+");\\n",l+=n[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+u+");\\n",s=0;s<t-1;++s)n[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\\n");r.isVoid||(c+="    return retType.toWireType(destructors, rv);\\n"),c+="};\\n",i.push(c);var f,p,d=Jt(Function,i).apply(null,a);return f=d,p=fe.length,fe.push(f),p},p:function(t){return t=le(t),re(o[t])},k:function(t,e){return re((t=ue(t))[e=ue(e)])},l:function(t){t>4&&(Qt[t].refcount+=1)},o:function(t,e,n,r){t=ue(t);var i=de[e];return i||(i=function(t){for(var e="",n=0;n<t;++n)e+=(0!==n?", ":"")+"arg"+n;var r="return function emval_allocator_"+t+"(constructor, argTypes, args) {\\n";for(n=0;n<t;++n)r+="var argType"+n+" = requireRegisteredType(Module[\'HEAP32\'][(argTypes >> 2) + "+n+\'], "parameter \'+n+\'");\\nvar arg\'+n+" = argType"+n+".readValueFromPointer(args);\\nargs += argType"+n+"[\'argPackAdvance\'];\\n";return r+="var obj = new constructor("+e+");\\nreturn __emval_register(obj);\\n}\\n",new Function("requireRegisteredType","Module","__emval_register",r)(se,o,re)}(e),de[e]=i),i(t,n,r)},j:function(t){return re(le(t))},n:function(t){Zt(Qt[t].value),te(t)},d:function(){o.abort()},F:he,E:function(t,e,n){g.set(g.subarray(e,e+n),t)},D:function(t){var e=he();if(t>2147418112)return!1;for(var n=Math.max(e,16777216);n<t;)n=n<=536870912?S(2*n,65536):Math.min(S((3*n+2147483648)/4,65536),2147418112);return!!function(t){try{return h.grow(t-v.byteLength+65535>>16),O(h.buffer),1}catch(t){}}(n)},C:function(){Pe("trap!")},B:function(t){Pe("OOM")},a:239456},ve=o.asm({},ye,v);o.asm=ve;var me,ge=o.__ZSt18uncaught_exceptionv=function(){return o.asm.O.apply(null,arguments)},we=(o.___embind_register_native_and_builtin_types=function(){return o.asm.P.apply(null,arguments)},o.___errno_location=function(){return o.asm.Q.apply(null,arguments)},o.___getTypeName=function(){return o.asm.R.apply(null,arguments)}),Te=o._free=function(){return o.asm.S.apply(null,arguments)},be=o._malloc=function(){return o.asm.T.apply(null,arguments)},Ce=o.globalCtors=function(){return o.asm.ha.apply(null,arguments)};function $e(t){function e(){me||(me=!0,_||(k(I),k(R),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)t=o.postRun.shift(),x.unshift(t);var t;k(x)}()))}t=t||s,D>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)t=o.preRun.shift(),j.unshift(t);var t;k(j)}(),D>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e()))}function Pe(t){throw o.onAbort&&o.onAbort(t),f(t+=""),p(t),_=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(o.dynCall_ii=function(){return o.asm.U.apply(null,arguments)},o.dynCall_iidiiii=function(){return o.asm.V.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.W.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.X.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.Y.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.Z.apply(null,arguments)},o.dynCall_iiiiiiii=function(){return o.asm._.apply(null,arguments)},o.dynCall_iiiiiiiii=function(){return o.asm.$.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.aa.apply(null,arguments)},o.dynCall_v=function(){return o.asm.ba.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.ca.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.da.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.ea.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.fa.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.ga.apply(null,arguments)},o.asm=ve,o.then=function(t){if(me)t(o);else{var e=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){e&&e(),t(o)}}return o},B=function t(){me||$e(),me||(B=t)},o.run=$e,o.abort=Pe,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return $e(),t});t.exports=r}).call(this,n(1))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r,o=n(0),i=n.n(o);!function(t){t[t.ASTC=0]="ASTC",t[t.DXT=1]="DXT",t[t.ETC=2]="ETC",t[t.PVRTC=3]="PVRTC",t[t.RGB565=4]="RGB565"}(r||(r={}));function a(t){switch(t){case 10:return{internalformat:37808,format:0,type:0};case 2:return{internalformat:33776,format:0,type:0};case 3:return{internalformat:33779,format:0,type:0};case 0:return{internalformat:36196,format:0,type:0};case 8:return{internalformat:35840,format:0,type:0};case 9:return{internalformat:35842,format:0,type:0};case 14:return{internalformat:6407,format:6407,type:33635}}}const u=self;const s=new class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};async function c(t){const e=await s.promise,{BasisFile:n}=e,o=new n(new Uint8Array(t.payload.basisFile));function i(e){o.close(),o.delete(),l(t,{error:e,images:[]})}const u=o.getNumImages(),c=!!o.getHasAlpha(),f=function(t,e){switch(t){case r.ASTC:return 10;case r.DXT:return e?3:2;case r.PVRTC:return e?9:8;case r.ETC:return 0;case r.RGB565:return 14}}(t.payload.outputFormat,c);if(!o.startTranscoding())return void i("startTranscoding failed");const p=[];for(let t=0;t<u;t++){const e=o.getImageWidth(t,0),n=o.getImageHeight(t,0),r=o.getNumLevels(0),u=[];for(let e=0;e<r;e++){const n=o.getImageWidth(t,e)+3&-4,r=o.getImageHeight(t,e)+3&-4,a=o.getImageTranscodedSizeInBytes(t,e,f),s=new ArrayBuffer(a);if(!o.transcodeImage(new Uint8Array(s),t,e,f,0,!1))return void i("transcodeImage failed");const c={alignedWidth:n,alignedHeight:r,data:s};u.push(c)}const s={alpha:c,width:e,height:n,levels:u,format:a(f)};p.push(s)}o.close(),o.delete(),l(t,{images:p})}function l(t,e){const n={uid:t.uid,type:3,payload:e},r=function(t){const e=[];for(const n of t.images)for(const t of n.levels)e.push(t.data);return e}(e);u.postMessage(n,r)}u.addEventListener("message",t=>{const e=t.data;switch(null,e.type){case 0:!async function(t){const e={wasmBinary:t.payload};i()(e).then(t=>{s.resolve({BasisFile:t.BasisFile,initializeBasis:t.initializeBasis})}),(await s.promise).initializeBasis(),u.postMessage({uid:"",type:1,payload:!0})}(e);break;case 2:c(e)}})}]);'},"https://www.ciaobellanairobi.com/src/basis/BasisRequest.ts":
/*!***********************************!*\
          !*** https://www.ciaobellanairobi.com/src/basis/BasisRequest.ts ***!
          \***********************************/
/*! exports provided: BasisOutputFormat */function(e,t,n){"use strict";var i;n.r(t),n.d(t,"BasisOutputFormat",(function(){return i})),function(e){e[e.ASTC=0]="ASTC",e[e.DXT=1]="DXT",e[e.ETC=2]="ETC",e[e.PVRTC=3]="PVRTC",e[e.RGB565=4]="RGB565"}(i||(i={}))},"https://www.ciaobellanairobi.com/src/basis/BasisTranscoderPool.ts":
/*!******************************************!*\
          !*** https://www.ciaobellanairobi.com/src/basis/BasisTranscoderPool.ts ***!
          \******************************************/
/*! exports provided: BasisTranscoderPool */function(e,t,n){"use strict";n.r(t),n.d(t,"BasisTranscoderPool",(function(){return d}));var i=n(/*! raw-loader!basis/worker_bundle.js */"./node_modules/raw-loader/dist/cjs.js!https://www.ciaobellanairobi.com/src/basis/worker_bundle.js");let o=null;class r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a{constructor(e){this.id=""+a.UID++,this._defered=new r,this.basisFile=e}response(){return s(this,void 0,void 0,(function*(){return this._defered.promise}))}}a.UID=0;class l{constructor(){this._initDeferred=null,this._status=0,this._onMessage=e=>{const t=e.data;switch(t.type){case 1:this._initDeferred.resolve();break;case 3:this._handleTranscodeResponse(t);break;default:throw"unknown message "+t.type}},this._requests=new Map,this._initDeferred=new r,this.worker=function(){let e;try{e=new Blob([i.default],{type:"application/javascript"})}catch(t){const n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);n.append(i.default),e=n.getBlob()}const t=URL.createObjectURL(e),n=new Worker(t);return URL.revokeObjectURL(t),n}(),this.worker.addEventListener("message",this._onMessage)}init(e){return s(this,void 0,void 0,(function*(){return this._postMessage({type:0,payload:e,uid:""}),this._initDeferred.promise}))}transcode(e,t){return s(this,void 0,void 0,(function*(){const n=new a(e);return this._requests.set(n.id,n),this._postMessage({type:2,payload:{basisFile:e,outputFormat:t},uid:n.id},[e]),n.response()}))}_postMessage(e,t){this.worker.postMessage(e,t)}_handleTranscodeResponse(e){const t=this._requests.get(e.uid)._defered;e.payload.error?t.reject(e.payload.error):t.resolve(e.payload),this._requests.delete(e.uid)}}class d{constructor(e){this.maxWorkers=1,this._transcoders=[],this._available=[],this._pendingRequests=[],this._wasmBinaryPath=e}getTranscoder(){return s(this,void 0,void 0,(function*(){if(this._available.length>0)return this._available.pop();if(this._transcoders.length<this.maxWorkers){const e=new l;this._transcoders.push(e);const t=yield function(e){return s(this,void 0,void 0,(function*(){if(null===o){const t=yield fetch(e);o=yield t.arrayBuffer()}return o}))}(this._wasmBinaryPath);return e.init(t),e}const e=new r;return this._pendingRequests.push(e),e.promise}))}releaseTranscoder(e){this._makeAvailable(e)}_makeAvailable(e){this._pendingRequests.length>0?this._pendingRequests.shift().resolve(e):this._available.push(e)}}},"https://www.ciaobellanairobi.com/src/basis/index.ts":
/*!****************************!*\
          !*** https://www.ciaobellanairobi.com/src/basis/index.ts ***!
          \****************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(/*! ./BasisTranscoderPool */"https://www.ciaobellanairobi.com/src/basis/BasisTranscoderPool.ts"),o=n(/*! ./BasisRequest */"https://www.ciaobellanairobi.com/src/basis/BasisRequest.ts");class r{constructor(e){this._transcoderPool=new i.BasisTranscoderPool(e)}transcode(e,t){return s(this,void 0,void 0,(function*(){const n=yield this._transcoderPool.getTranscoder();try{return yield n.transcode(e,t)}finally{this._transcoderPool.releaseTranscoder(n)}}))}}r.BasisOutputFormat=o.BasisOutputFormat}}).default},e.exports=i()},,,,,,function(e,t){var n=function(e){return"\n#ifndef _INC_BLENDS\n#define _INC_BLENDS 1\n\n\nfloat blendLinearLight( float base, float blend ) {\n  return clamp( base+ 2.0*blend -1.0, 0.0, 1.0 );\n}\n\n\nvec3 blendLinearLight( vec3 base, vec3 blend ) {\n  return vec3(\n    blendLinearLight( base.r, blend.r ),\n    blendLinearLight( base.g, blend.g ),\n    blendLinearLight( base.b, blend.b )\n  );\n}\n\nvec3 blendLinearLight( vec3 base, vec3 blend, float opacity ) {\n  return (blendLinearLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n\n\nfloat blendOverlay(float base, float blend) {\n  return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend) {\n  return vec3(\n    blendOverlay(base.r,blend.r),\n    blendOverlay(base.g,blend.g),\n    blendOverlay(base.b,blend.b)\n  );\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend, float opacity) {\n  return (blendOverlay(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n#endif // _INC_BLENDS","\n#ifndef _INC_BLENDS\n#define _INC_BLENDS 1\n\n\nfloat blendLinearLight( float base, float blend ) {\n  return clamp( base+ 2.0*blend -1.0, 0.0, 1.0 );\n}\n\n\nvec3 blendLinearLight( vec3 base, vec3 blend ) {\n  return vec3(\n    blendLinearLight( base.r, blend.r ),\n    blendLinearLight( base.g, blend.g ),\n    blendLinearLight( base.b, blend.b )\n  );\n}\n\nvec3 blendLinearLight( vec3 base, vec3 blend, float opacity ) {\n  return (blendLinearLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n\n\nfloat blendOverlay(float base, float blend) {\n  return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend) {\n  return vec3(\n    blendOverlay(base.r,blend.r),\n    blendOverlay(base.g,blend.g),\n    blendOverlay(base.b,blend.b)\n  );\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend, float opacity) {\n  return (blendOverlay(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n#endif // _INC_BLENDS"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\n\n#if useDerivatives\n\n\n  #if 0\n  vec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n    // compute derivations of the world position\n    n = 2.0 * n - 1.0;\n\n    #define SC 1000000.0\n\n    vec3 p_dx = dFdx(vWorldPosition);\n    vec3 p_dy = dFdy(vWorldPosition);\n    // compute derivations of the texture coordinate\n    vec2 tc_dx = dFdx(texcoord);\n    vec2 tc_dy = dFdy(texcoord);\n\n    float l = (tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n    \n    // prevent some low precision issue (on )\n    // l = max( 0.001 , l );\n\n    float r = 1.0 / l;\n\n    // compute initial tangent and bi-tangent\n    vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*r;\n    vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*r;\n\n    // get new tangent from a given world normal\n    vec3 x = cross(nrm, t);\n    t = cross(x, nrm);\n    t = normalize(t);\n    // get updated bi-tangent\n    x = cross(b, nrm);\n    b = cross(nrm, x);\n    b = normalize(b);\n    mat3 tbn = mat3(t, b, nrm);\n    return tbn * n;\n  }\n\n  #else\n\n  vec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n    // compute derivations of the world position\n    n = 2.0 * n - 1.0;\n\n    #define SC 1000000.0\n\n    vec3 p_dx = dFdx(vWorldPosition);\n    vec3 p_dy = dFdy(vWorldPosition);\n    // compute derivations of the texture coordinate\n    vec2 tc_dx = dFdx(texcoord);\n    vec2 tc_dy = dFdy(texcoord);\n\n    float l = sign(tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n    \n    // prevent some low precision issue (on )\n    // l = max( 0.001 , l );\n\n\n    // compute initial tangent and bi-tangent\n    vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*l;\n    vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*l;\n\n    // get new tangent from a given world normal\n    vec3 x = cross(nrm, t);\n    t = cross(x, nrm);\n    t = normalize(t);\n    // get updated bi-tangent\n    x = cross(b, nrm);\n    b = cross(nrm, x);\n    b = -normalize(b);\n    mat3 tbn = mat3(t, b, nrm);\n    return tbn * n;\n  }\n\n\n  #endif\n  \n#endif\n\nvec3 perturbWorldNormal( vec3 nrm, vec3 n, vec3 wtan, vec3 wbitan ){\n  n = 2.0*n - 1.0;\n  return wtan * n.x + wbitan*n.y + nrm * n.z;\n}\n\n","\n\n#if useDerivatives\n\n\n  #if 0\n  vec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n    // compute derivations of the world position\n    n = 2.0 * n - 1.0;\n\n    #define SC 1000000.0\n\n    vec3 p_dx = dFdx(vWorldPosition);\n    vec3 p_dy = dFdy(vWorldPosition);\n    // compute derivations of the texture coordinate\n    vec2 tc_dx = dFdx(texcoord);\n    vec2 tc_dy = dFdy(texcoord);\n\n    float l = (tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n    \n    // prevent some low precision issue (on )\n    // l = max( 0.001 , l );\n\n    float r = 1.0 / l;\n\n    // compute initial tangent and bi-tangent\n    vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*r;\n    vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*r;\n\n    // get new tangent from a given world normal\n    vec3 x = cross(nrm, t);\n    t = cross(x, nrm);\n    t = normalize(t);\n    // get updated bi-tangent\n    x = cross(b, nrm);\n    b = cross(nrm, x);\n    b = normalize(b);\n    mat3 tbn = mat3(t, b, nrm);\n    return tbn * n;\n  }\n\n  #else\n\n  vec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n    // compute derivations of the world position\n    n = 2.0 * n - 1.0;\n\n    #define SC 1000000.0\n\n    vec3 p_dx = dFdx(vWorldPosition);\n    vec3 p_dy = dFdy(vWorldPosition);\n    // compute derivations of the texture coordinate\n    vec2 tc_dx = dFdx(texcoord);\n    vec2 tc_dy = dFdy(texcoord);\n\n    float l = sign(tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n    \n    // prevent some low precision issue (on )\n    // l = max( 0.001 , l );\n\n\n    // compute initial tangent and bi-tangent\n    vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*l;\n    vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*l;\n\n    // get new tangent from a given world normal\n    vec3 x = cross(nrm, t);\n    t = cross(x, nrm);\n    t = normalize(t);\n    // get updated bi-tangent\n    x = cross(b, nrm);\n    b = cross(nrm, x);\n    b = -normalize(b);\n    mat3 tbn = mat3(t, b, nrm);\n    return tbn * n;\n  }\n\n\n  #endif\n  \n#endif\n\nvec3 perturbWorldNormal( vec3 nrm, vec3 n, vec3 wtan, vec3 wbitan ){\n  n = 2.0*n - 1.0;\n  return wtan * n.x + wbitan*n.y + nrm * n.z;\n}\n\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\n\n#ifndef _H_TONEMAP_\n#define _H_TONEMAP_\n\n\n  // Exposure\n  // ===========\n \n\n\n  #if HAS_exposure\n    #define EXPOSURE(color) color *= vec3( exposure() );\n  #else\n    #define EXPOSURE(color)\n  #endif\n\n\n  // Gamma correction\n  // ===========\n\n  #if gammaMode( GAMMA_STD ) && HAS_gamma\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( gamma() ) );\n\n\n  #elif gammaMode( GAMMA_2_2 )\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( 1.0/2.2 ) );\n\n\n  #elif gammaMode( GAMMA_TB )\n\n    void ToneMapTB( inout vec3 color ) {\n      vec3 c = color;\n      vec3 sqrtc = sqrt( c );\n      color = (sqrtc-sqrtc*c) + c*(0.4672*c+vec3(0.5328));\n    }\n\n    #define GAMMA_CORRECTION(color) ToneMapTB( color );\n\n  #else\n    #define GAMMA_CORRECTION(color)\n\n  #endif\n\n\n\n#endif","\n\n#ifndef _H_TONEMAP_\n#define _H_TONEMAP_\n\n\n  // Exposure\n  // ===========\n \n\n\n  #if HAS_exposure\n    #define EXPOSURE(color) color *= vec3( exposure() );\n  #else\n    #define EXPOSURE(color)\n  #endif\n\n\n  // Gamma correction\n  // ===========\n\n  #if gammaMode( GAMMA_STD ) && HAS_gamma\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( gamma() ) );\n\n\n  #elif gammaMode( GAMMA_2_2 )\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( 1.0/2.2 ) );\n\n\n  #elif gammaMode( GAMMA_TB )\n\n    void ToneMapTB( inout vec3 color ) {\n      vec3 c = color;\n      vec3 sqrtc = sqrt( c );\n      color = (sqrtc-sqrtc*c) + c*(0.4672*c+vec3(0.5328));\n    }\n\n    #define GAMMA_CORRECTION(color) ToneMapTB( color );\n\n  #else\n    #define GAMMA_CORRECTION(color)\n\n  #endif\n\n\n\n#endif"};n.toString=n,e.exports=n},,,,,,,,,,function(e){e.exports=[{media:{image:"photo/photo_resistencia_corner_16_media.png",video:""},thumb:{image:"photo/photo_resistencia_corner_16_thumb.png"},uuid:16,type:"picture-resistencia"},{media:{image:"video/video_play_2_media.jpg",video:"video/video_play_2.mp4"},thumb:{image:"video/video_play_2_thumb.jpg"},uuid:2,type:"video-play"},{media:{image:"photo/photo_poster_17_media.png",video:""},thumb:{image:"photo/photo_poster_17_thumb.png"},uuid:17,type:"picture-poster"},{media:{image:"video/video_ugc_41_media.jpg",video:"video/video_ugc_41.mp4"},thumb:{image:"video/video_ugc_41_thumb.jpg"},uuid:41,type:"video"},{media:{image:"video/video_play_10_media.jpg",video:"video/video_play_10.mp4"},thumb:{image:"video/video_play_10_thumb.jpg"},uuid:10,type:"video-play"},{media:{image:"quote/quote_half_image_26_media.png",video:""},thumb:{image:"quote/quote_half_image_26_thumb.png"},uuid:26,type:"quote-half-image"},{media:{image:"video/video_ugc_42_media.jpg",video:"video/video_ugc_42.mp4"},thumb:{image:"video/video_ugc_42_thumb.jpg"},uuid:42,type:"video"},{media:{image:"video/video_play_9_media.jpg",video:"video/video_play_9.mp4"},thumb:{image:"video/video_play_9_thumb.jpg"},uuid:9,type:"video-play"},{media:{image:"video/video_red_1_media.jpg",video:"video/video_red_1.mp4"},thumb:{image:"video/video_red_1_thumb.jpg"},uuid:1,type:"video-red"},{media:{image:"quote/quote_half_image_24_media.png",video:""},thumb:{image:"quote/quote_half_image_24_thumb.png"},uuid:24,type:"quote-half-image"},{media:{image:"video/video_ugc_43_media.jpg",video:"video/video_ugc_43.mp4"},thumb:{image:"video/video_ugc_43_thumb.jpg"},uuid:43,type:"video"},{media:{image:"video/video_red_3_media.jpg",video:"video/video_red_3.mp4"},thumb:{image:"video/video_red_3_thumb.jpg"},uuid:3,type:"video-red"},{media:{image:"photo/photo_poster_20_media.png",video:""},thumb:{image:"photo/photo_poster_20_thumb.png"},uuid:20,type:"picture-poster"},{media:{image:"video/video_red_4_media.jpg",video:"video/video_red_4.mp4"},thumb:{image:"video/video_red_4_thumb.jpg"},uuid:4,type:"video-red"},{media:{image:"video/video_ugc_46_media.jpg",video:"video/video_ugc_46.mp4"},thumb:{image:"video/video_ugc_46_thumb.jpg"},uuid:46,type:"video"},{media:{image:"quote/quote_all_white_27_media.png",video:""},thumb:{image:"quote/quote_all_white_27_thumb.png"},uuid:27,type:"quote-all-white"},{media:{image:"video/video_red_8_media.jpg",video:"video/video_red_8.mp4"},thumb:{image:"video/video_red_8_thumb.jpg"},uuid:8,type:"video-red"},{media:{image:"video/video_white_border_6_media.jpg",video:"video/video_white_border_6.mp4"},thumb:{image:"video/video_white_border_6_thumb.jpg"},uuid:6,type:"video-white-border"},{media:{image:"video/video_red_12_media.jpg",video:"video/video_red_12.mp4"},thumb:{image:"video/video_red_12_thumb.jpg"},uuid:12,type:"video-red"},{media:{image:"video/video_white_border_5_media.jpg",video:"video/video_white_border_5.mp4"},thumb:{image:"video/video_white_border_5_thumb.jpg"},uuid:5,type:"video-white-border"},{media:{image:"video/video_white_border_7_media.jpg",video:"video/video_white_border_7.mp4"},thumb:{image:"video/video_white_border_7_thumb.jpg"},uuid:7,type:"video-white-border"},{media:{image:"video/video_red_13_media.jpg",video:"video/video_red_13.mp4"},thumb:{image:"video/video_red_13_thumb.jpg"},uuid:13,type:"video-red"},{media:{image:"video/video_ugc_44_media.jpg",video:"video/video_ugc_44.mp4"},thumb:{image:"video/video_ugc_44_thumb.jpg"},uuid:44,type:"video"},{media:{image:"video/video_white_border_11_media.jpg",video:"video/video_white_border_11.mp4"},thumb:{image:"video/video_white_border_11_thumb.jpg"},uuid:11,type:"video-white-border"},{media:{image:"video/video_red_14_media.jpg",video:"video/video_red_14.mp4"},thumb:{image:"video/video_red_14_thumb.jpg"},uuid:14,type:"video-red"},{media:{image:"photo/photo_white_border_18_media.png",video:""},thumb:{image:"photo/photo_white_border_18_thumb.png"},uuid:18,type:"picture-white-border"},{media:{image:"photo/photo_white_border_22_media.png",video:""},thumb:{image:"photo/photo_white_border_22_thumb.png"},uuid:22,type:"picture-white-border"},{media:{image:"video/video_ugc_45_media.jpg",video:"video/video_ugc_45.mp4"},thumb:{image:"video/video_ugc_45_thumb.jpg"},uuid:45,type:"video"},{media:{image:"quote/quote_red_25_media.png",video:""},thumb:{image:"quote/quote_red_25_thumb.png"},uuid:25,type:"quote-red"},{media:{image:"photo/photo_white_border_23_media.png",video:""},thumb:{image:"photo/photo_white_border_23_thumb.png"},uuid:23,type:"picture-white-border"},{media:{image:"quote/quote_red_28_media.png",video:""},thumb:{image:"quote/quote_red_28_thumb.png"},uuid:28,type:"quote-red"},{media:{image:"photo/photo_resistencia_corner_19_media.png",video:""},thumb:{image:"photo/photo_resistencia_corner_19_thumb.png"},uuid:19,type:"picture-resistencia"},{media:{image:"photo/photo_poster_21_media.png",video:""},thumb:{image:"photo/photo_poster_21_thumb.png"},uuid:21,type:"picture-poster"},{media:{image:"quote/quote_all_white_29_media.png",video:""},thumb:{image:"quote/quote_all_white_29_thumb.png"},uuid:29,type:"quote-all-white"}]},,function(e,t){var n=function(e){var t="";return t+="\n\n\n",!0===e.pf&&(t+="\n  IN mediump vec2 "+e.mod.varying+";\n"),t+="\n\n\n\n",!0===e.pv&&(t+="\n  OUT mediump vec2 "+e.mod.varying+";\n  ",!0===e.mod._defineAttrib&&(t+="\n    IN mediump vec2 "+e.mod.attrib+";\n  "),t+="\n"),t+="\n\n\n",!0===e.v&&(t+="\n\n  #define TC "+e.mod.varying+"\n\n  TC = "+e.mod.attrib+";\n  #if HAS_transform_"+e.mod.varying+"\n    #if HAS_pivot_"+e.mod.varying+"\n    TC = ( mat2( transform_"+e.mod.varying+"() ) * (TC-pivot_"+e.mod.varying+"() ) ) + pivot_"+e.mod.varying+"();\n    #else\n    TC = mat2( transform_"+e.mod.varying+"() ) * TC;\n    #endif\n  #endif\n\n  #if HAS_translate_"+e.mod.varying+"\n    TC += translate_"+e.mod.varying+"();\n  #endif\n\n  #undef TC\n\n"),t+="\n"};n.toString=n,e.exports=n},,,,,,,,,,,function(e,t){var n=function(e){return"attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n  \nvoid main( void ){\n\n  gl_Position = vec4( aPosition, 0.0, 1.0 );\n  vTexCoord0 = aTexCoord;\n\n}\n","attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n  \nvoid main( void ){\n\n  gl_Position = vec4( aPosition, 0.0, 1.0 );\n  vTexCoord0 = aTexCoord;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\nvarying vec2 vTexCoord0;\n\nuniform sampler2D tTex;\n\nvoid main(void){\n  \n  vec4 tex = texture2D( tTex, vTexCoord0 );\n  gl_FragColor.rgb = tex.rgb;\n  gl_FragColor.a = 0.3;\n  // gl_FragColor.rgb = vec3(tex.a);\n  // gl_FragColor.a = 1.0;\n\n}\n","\nvarying vec2 vTexCoord0;\n\nuniform sampler2D tTex;\n\nvoid main(void){\n  \n  vec4 tex = texture2D( tTex, vTexCoord0 );\n  gl_FragColor.rgb = tex.rgb;\n  gl_FragColor.a = 0.3;\n  // gl_FragColor.rgb = vec3(tex.a);\n  // gl_FragColor.a = 1.0;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n  \nvoid main( void ){\n\n  gl_Position = vec4( aPosition, 0.0, 1.0 );\n  vTexCoord0 = aTexCoord;\n  vTexCoord0.y = 1.0 - vTexCoord0.y;\n\n}\n","attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n  \nvoid main( void ){\n\n  gl_Position = vec4( aPosition, 0.0, 1.0 );\n  vTexCoord0 = aTexCoord;\n  vTexCoord0.y = 1.0 - vTexCoord0.y;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"precision lowp float;\n\nvarying vec2 vTexCoord0;\nuniform sampler2D tTex;\n\nvoid main(void){\n  gl_FragColor = texture2D( tTex, vTexCoord0 );\n}\n","precision lowp float;\n\nvarying vec2 vTexCoord0;\nuniform sampler2D tTex;\n\nvoid main(void){\n  gl_FragColor = texture2D( tTex, vTexCoord0 );\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main( void ){\n\n    gl_Position = vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n","attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main( void ){\n\n    gl_Position = vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"uniform float uTime;\n\nuniform sampler2D uMainTex;\nuniform sampler2D uTextTex;\nuniform sampler2D uMaskTex;\nuniform sampler2D uPaperTex;\n\nvarying vec2 vTexCoord0;\n\n\nfloat random(vec2 seed){\n\treturn fract(sin(dot(seed, vec2(12.9898, 78.233)))*43758.5453);\n}\n\nvoid main(void){\n\n    vec2 uv = vTexCoord0;\n    uv.y = 1.0 - uv.y;\n\n    vec4 ugcColor = texture2D(uMainTex, uv);\n    vec4 textColor = texture2D(uTextTex, uv);\n    vec4 maskColor = texture2D(uMaskTex, uv);\n    vec4 paperColor = texture2D(uPaperTex, uv);\n\n    vec4 color = vec4(1.0) * step(maskColor.r, 0.1);\n\n    float alpha = clamp(maskColor.r + maskColor.g, 0.0, 1.0);\n\n    color += step(0.1, maskColor.r) * ugcColor;\n    color *= paperColor;\n\n    color.rgb = mix(color.rgb, textColor.rgb, textColor.a);\n\n    float n = random(uv + uTime);\n    color.rgb *= 0.9 + n * 0.2;\n    \n    color.a = alpha;\n\n    gl_FragColor = vec4(color);\n\n}\n","uniform float uTime;\n\nuniform sampler2D uMainTex;\nuniform sampler2D uTextTex;\nuniform sampler2D uMaskTex;\nuniform sampler2D uPaperTex;\n\nvarying vec2 vTexCoord0;\n\n\nfloat random(vec2 seed){\n\treturn fract(sin(dot(seed, vec2(12.9898, 78.233)))*43758.5453);\n}\n\nvoid main(void){\n\n    vec2 uv = vTexCoord0;\n    uv.y = 1.0 - uv.y;\n\n    vec4 ugcColor = texture2D(uMainTex, uv);\n    vec4 textColor = texture2D(uTextTex, uv);\n    vec4 maskColor = texture2D(uMaskTex, uv);\n    vec4 paperColor = texture2D(uPaperTex, uv);\n\n    vec4 color = vec4(1.0) * step(maskColor.r, 0.1);\n\n    float alpha = clamp(maskColor.r + maskColor.g, 0.0, 1.0);\n\n    color += step(0.1, maskColor.r) * ugcColor;\n    color *= paperColor;\n\n    color.rgb = mix(color.rgb, textColor.rgb, textColor.a);\n\n    float n = random(uv + uTime);\n    color.rgb *= 0.9 + n * 0.2;\n    \n    color.a = alpha;\n\n    gl_FragColor = vec4(color);\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\nuniform mat4 uMVP;\n\nvoid main( void ){\n\n    gl_Position = uMVP * vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n","attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\nuniform mat4 uMVP;\n\nvoid main( void ){\n\n    gl_Position = uMVP * vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"uniform sampler2D uTex;\n\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(uTex, vTexCoord0);\n    gl_FragColor = color;\n\n}\n","uniform sampler2D uTex;\n\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(uTex, vTexCoord0);\n    gl_FragColor = color;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\nuniform mat4 uMVP;\n\nvoid main( void ){\n\n    gl_Position = uMVP * vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n","attribute vec2 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord0;\n\nuniform mat4 uMVP;\n\nvoid main( void ){\n\n    gl_Position = uMVP * vec4( aPosition, 0.0, 1.0 );\n    vTexCoord0 = aTexCoord;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\nuniform sampler2D uTex;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(uTex, vTexCoord0);\n    gl_FragColor = texture2D(uTex, vTexCoord0);\n\n}\n","\nuniform sampler2D uTex;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(uTex, vTexCoord0);\n    gl_FragColor = texture2D(uTex, vTexCoord0);\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec2 aTexCoord0;\n\nuniform mat4 uIVP;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main( void ){\n\n\n    vTexCoord0   = aTexCoord0;// * uViewportScale;\n\n\n    gl_Position.xy = 2.0 * aTexCoord0-vec2(1.0,1.0);\n    gl_Position.zw = vec2(0.0,1.0);\n\n}\n","attribute vec2 aTexCoord0;\n\nuniform mat4 uIVP;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main( void ){\n\n\n    vTexCoord0   = aTexCoord0;// * uViewportScale;\n\n\n    gl_Position.xy = 2.0 * aTexCoord0-vec2(1.0,1.0);\n    gl_Position.zw = vec2(0.0,1.0);\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"// uniform float uScreenRatio;\nuniform vec3 uScreenRatio_Light;\n\nuniform vec2 uMousePos;\n\nuniform sampler2D tMask;\nuniform sampler2D tInput;\nuniform float uCamX;\nuniform float uReveal;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(tInput, vTexCoord0);\n\n    vec2 screenCoord = (vTexCoord0 - vec2(0.5)) * 2.0;\n    vec2 mouse = uMousePos;\n    screenCoord *= uScreenRatio_Light.xy;\n    mouse *= uScreenRatio_Light.xy;\n\n    vec2 maskUv = vTexCoord0;\n\n    maskUv.y = 1.0 - maskUv.y;\n    // maskUv.x -= uCamX * uScreenRatio_Light.x;\n    maskUv *= uScreenRatio_Light.xy;\n    maskUv.x += uCamX;// * uScreenRatio_Light.x;\n    maskUv.y *= 0.5 + clamp(uReveal * 2.0, 0.0, 1.0) * 1.5;\n    maskUv.y = clamp(maskUv.y, 0.0, 0.95);\n    maskUv.x -= ( uMousePos.x * 0.65 * maskUv.y ) * 0.5;\n\n    vec4 mask = texture2D(tMask, maskUv);\n    float light = 1.0 - mask.g;\n\n    float mouseLight = clamp((length(screenCoord - mouse) * 0.5), 0.0, 1.0);\n    light += (1.0 - ( mouseLight))*0.8;\n\n    color.rgb = vec3(0.0);\n    color.a = clamp( ( 1.0 - light ) * uReveal, 0.0, 0.6 - uScreenRatio_Light.z * 0.4 );\n\n    gl_FragColor = color;\n\n}\n","// uniform float uScreenRatio;\nuniform vec3 uScreenRatio_Light;\n\nuniform vec2 uMousePos;\n\nuniform sampler2D tMask;\nuniform sampler2D tInput;\nuniform float uCamX;\nuniform float uReveal;\n\nvarying vec2 vTexCoord0;\n\n\nvoid main(void){\n\n    vec4 color = texture2D(tInput, vTexCoord0);\n\n    vec2 screenCoord = (vTexCoord0 - vec2(0.5)) * 2.0;\n    vec2 mouse = uMousePos;\n    screenCoord *= uScreenRatio_Light.xy;\n    mouse *= uScreenRatio_Light.xy;\n\n    vec2 maskUv = vTexCoord0;\n\n    maskUv.y = 1.0 - maskUv.y;\n    // maskUv.x -= uCamX * uScreenRatio_Light.x;\n    maskUv *= uScreenRatio_Light.xy;\n    maskUv.x += uCamX;// * uScreenRatio_Light.x;\n    maskUv.y *= 0.5 + clamp(uReveal * 2.0, 0.0, 1.0) * 1.5;\n    maskUv.y = clamp(maskUv.y, 0.0, 0.95);\n    maskUv.x -= ( uMousePos.x * 0.65 * maskUv.y ) * 0.5;\n\n    vec4 mask = texture2D(tMask, maskUv);\n    float light = 1.0 - mask.g;\n\n    float mouseLight = clamp((length(screenCoord - mouse) * 0.5), 0.0, 1.0);\n    light += (1.0 - ( mouseLight))*0.8;\n\n    color.rgb = vec3(0.0);\n    color.a = clamp( ( 1.0 - light ) * uReveal, 0.0, 0.6 - uScreenRatio_Light.z * 0.4 );\n\n    gl_FragColor = color;\n\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"attribute vec4 aPosition;\n\nuniform sampler2D tNoise;\n\n\nvoid main() {\n\n    vec2 position = aPosition.xy;\n\n    float life = aPosition.w;\n    if (life == 0.) {\n        position.x = 1000.;\n    }\n\n    gl_Position = vec4(position, 0.0, 1.0);\n\n    gl_PointSize = 10.0;\n\n\n}","attribute vec4 aPosition;\n\nuniform sampler2D tNoise;\n\n\nvoid main() {\n\n    vec2 position = aPosition.xy;\n\n    float life = aPosition.w;\n    if (life == 0.) {\n        position.x = 1000.;\n    }\n\n    gl_Position = vec4(position, 0.0, 1.0);\n\n    gl_PointSize = 10.0;\n\n\n}"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"uniform vec2 uResolution;\nuniform vec3 uColor;\nuniform sampler2D tGrunge;\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / uResolution;\n\n    vec3 color = vec3(0.737254902, 0.1764705882, 0.1647058824);\n    float alpha = texture2D(tGrunge, uv).r * 1.5;\n\n    // color = vec3(alpha);\n\n    // color = vec3(1., 0., 0.);\n\n    gl_FragColor = vec4(color, 1.0);\n    gl_FragColor.a = alpha;\n\n}","uniform vec2 uResolution;\nuniform vec3 uColor;\nuniform sampler2D tGrunge;\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / uResolution;\n\n    vec3 color = vec3(0.737254902, 0.1764705882, 0.1647058824);\n    float alpha = texture2D(tGrunge, uv).r * 1.5;\n\n    // color = vec3(alpha);\n\n    // color = vec3(1., 0., 0.);\n\n    gl_FragColor = vec4(color, 1.0);\n    gl_FragColor.a = alpha;\n\n}"};n.toString=n,e.exports=n},,,,,,,,,,function(e,t){var n=function(e){return"\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\nattribute vec3 aPosition;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n#endif\n\n\nvoid main(void){\n\n  #pragma SLOT v\n\n  // warp acces\n  vec3 pos = aPosition;\n  vec3 nrm = vec3(0.0);\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  #if depthFormat( D_RGB )\n    fragZW=gl_Position.zw;\n  #endif\n}\n","\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\nattribute vec3 aPosition;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n#endif\n\n\nvoid main(void){\n\n  #pragma SLOT v\n\n  // warp acces\n  vec3 pos = aPosition;\n  vec3 nrm = vec3(0.0);\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  #if depthFormat( D_RGB )\n    fragZW=gl_Position.zw;\n  #endif\n}\n"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n#else\n  #define IN varying\n#endif\n\n#pragma SLOT pf\n\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n\n  vec3 encodeDepthRGB(float depth){\n    vec4 c = vec4(1.0,255.0,65025.0,16581375.0)*depth;\n    c=fract(c);\n    c.xyz-=c.yzw*(1.0/255.0);\n    return c.xyz;\n  }\n#endif\n\n\n\nvoid main(void){\n\n  #pragma SLOT f\n  \n  #if depthFormat( D_RGB )\n    gl_FragColor.xyz = encodeDepthRGB( ( fragZW.x / fragZW.y ) * 0.5 + 0.5 );\n    gl_FragColor.w=0.0;\n  #endif\n\n  #if depthFormat( D_DEPTH )\n    gl_FragColor = vec4( 0.0 );\n  #endif\n\n}\n","\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n#else\n  #define IN varying\n#endif\n\n#pragma SLOT pf\n\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n\n  vec3 encodeDepthRGB(float depth){\n    vec4 c = vec4(1.0,255.0,65025.0,16581375.0)*depth;\n    c=fract(c);\n    c.xyz-=c.yzw*(1.0/255.0);\n    return c.xyz;\n  }\n#endif\n\n\n\nvoid main(void){\n\n  #pragma SLOT f\n  \n  #if depthFormat( D_RGB )\n    gl_FragColor.xyz = encodeDepthRGB( ( fragZW.x / fragZW.y ) * 0.5 + 0.5 );\n    gl_FragColor.w=0.0;\n  #endif\n\n  #if depthFormat( D_DEPTH )\n    gl_FragColor = vec4( 0.0 );\n  #endif\n\n}\n"};n.toString=n,e.exports=n},,function(e,t){var n=function(e){return"\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\nattribute vec3 aPosition;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n#endif\n\n\nvoid main(void){\n\n  #pragma SLOT v\n\n  // warp acces\n  vec3 pos = aPosition;\n  vec3 nrm = vec3(0.0);\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  // vec3 delta = normalize(worldPos.xyz - vec3(uVP[3][0], uVP[3][1], uVP[3][2])) * 0.01;\n  // worldPos.xyz += delta;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  #if depthFormat( D_RGB )\n    fragZW=gl_Position.zw;\n  #endif\n}","\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\nattribute vec3 aPosition;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n#endif\n\n\nvoid main(void){\n\n  #pragma SLOT v\n\n  // warp acces\n  vec3 pos = aPosition;\n  vec3 nrm = vec3(0.0);\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  // vec3 delta = normalize(worldPos.xyz - vec3(uVP[3][0], uVP[3][1], uVP[3][2])) * 0.01;\n  // worldPos.xyz += delta;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  #if depthFormat( D_RGB )\n    fragZW=gl_Position.zw;\n  #endif\n}"};n.toString=n,e.exports=n},function(e,t){var n=function(e){return"\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n#endif\n\n#pragma SLOT pf\n\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n\n  vec3 encodeDepthRGB(float depth){\n    vec4 c = vec4(1.0,255.0,65025.0,16581375.0)*depth;\n    c=fract(c);\n    c.xyz-=c.yzw*(1.0/255.0);\n    return c.xyz;\n  }\n#endif\n\n\n\nvoid main(void){\n\n  #pragma SLOT f\n\n  if( alpha() < .5 ) discard;\n  \n  #if depthFormat( D_RGB )\n    gl_FragColor.xyz = encodeDepthRGB( ( fragZW.x / fragZW.y ) * 0.5 + 0.5 );\n    gl_FragColor.w=0.0;\n  #endif\n\n  #if depthFormat( D_DEPTH )\n    gl_FragColor = vec4( 0.0 );\n  #endif\n\n}\n","\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n#endif\n\n#pragma SLOT pf\n\n\n\n#if depthFormat( D_RGB )\n  varying vec2 fragZW;\n\n  vec3 encodeDepthRGB(float depth){\n    vec4 c = vec4(1.0,255.0,65025.0,16581375.0)*depth;\n    c=fract(c);\n    c.xyz-=c.yzw*(1.0/255.0);\n    return c.xyz;\n  }\n#endif\n\n\n\nvoid main(void){\n\n  #pragma SLOT f\n\n  if( alpha() < .5 ) discard;\n  \n  #if depthFormat( D_RGB )\n    gl_FragColor.xyz = encodeDepthRGB( ( fragZW.x / fragZW.y ) * 0.5 + 0.5 );\n    gl_FragColor.w=0.0;\n  #endif\n\n  #if depthFormat( D_DEPTH )\n    gl_FragColor = vec4( 0.0 );\n  #endif\n\n}\n"};n.toString=n,e.exports=n},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define attribute in\n  #define varying out\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  IN vec4 aTangent;\n  OUT mediump vec3 vWorldTangent;\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  highp vec3 pos = aPosition;\n  vec3 nrm = aNormal;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, nrm ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldTangent   = normalize( rotate( worldMatrix, aTangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * -aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -pos, 1.0 );\n}"};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define varying in\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\n\nIN mediump vec3 vWorldNormal;\n\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldTangent;\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n// INCLUDES\n// =========\n\n#if HAS_albedoTint\n"+n(34)()+"\n#endif\n\n"+n(29)()+"\n\n"+n(35)()+"\n"+n(36)()+'\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  #if HAS_fresnel\n    return( 1.0 - dot )*spec + dot*fresnel();\n  #else\n    return( 1.0 - dot )*spec + dot;\n  #endif\n}\n\n\nconst mat3 matSepia = mat3(\n  0.4, 0.7689999, 0.18899999,\n  0.349, 0.6859999, 0.16799999,\n  0.272, 0.5339999, 0.13099999\n);\n\nconst vec3 adjSepia = vec3(0.1, 0.05, 0.05);\n\n\n#define DESAT() -0.4\n\nconst float desatX = DESAT() * 0.666666667 + 1.0;\nconst float desatY = ( desatX - 1.0 ) * -0.5;\n\nconst mat3 matDesat = mat3(\n  desatX, desatY, desatY,\n  desatY, desatX, desatY,\n  desatY, desatY, desatX\n);\n\n\n#define SATURATION() 0.4\nconst float satX = SATURATION() * 0.666666667 + 1.0;\nconst float satY = ( satX - 1.0 ) * -0.5;\n\nconst mat3 matSat = mat3(\n  satX, satY, satY,\n  satY, satX, satY,\n  satY, satY, satX\n);\n\nfloat random(vec2 seed){\n\treturn fract(sin(dot(seed, vec2(12.9898, 78.233)))*43758.5453);\n}\n\n#if HAS_normal\n\n  #if HAS_normalDetail\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal(), normalDetail() )\n    vec3 ComputeWorldNormal( vec3 nrmmap, vec3 nrmmapDetail ){\n  #else\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal() )\n    vec3 ComputeWorldNormal( vec3 nrmmap ){\n  #endif\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n\n    #if HAS_normalDetail\n      #if HAS_normalDetailStrength\n        nrmmapDetail.rg = (normalDetailStrength() * (nrmmapDetail.rg-vec2(.5)))+vec2(.5);\n      #endif\n\n      #if useDerivatives\n        res = normalize( perturbWorldNormalDerivatives( res, nrmmapDetail, vTexCoord1 ) );\n      #else\n        res = normalize( perturbWorldNormal( res, nrmmapDetail, vWorldTangent, vWorldBitangent ) );\n      #endif\n\n    #endif\n\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  #if HAS_alpha && alphaBlending( ALPHA_CUTOUT )\n    if( alpha() < .5 ) discard;\n  #endif\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n  #if HAS_AmbientMultiplier\n    diffuseCoef *= vec3(AmbientMultiplier());\n  #endif\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, 1.0-gloss() );\n\n\n  #pragma SLOT lightsf\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularSq = specular()*specular();\n\n  #if HAS_specularTint\n    specularSq *= specularTint();\n  #endif\n\n  #if noFresnel\n    specularColor *= specularSq;\n  #else\n    specularColor *= F_Schlick( NoV, specularSq, gloss() );\n  #endif\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n  vec3 alb = albedo();\n\n  #if HAS_albedoTint\n  {\n    #if HAS_secondaryTint\n      vec3 tint = mix( albedoTint(), secondaryTint(), secondaryTintMask() );\n    #else\n      vec3 tint = albedoTint();\n    #endif\n\n    #if tintBlendMode( TBM_LINEAR_LIGHT )\n      alb = blendLinearLight( tint, alb, .5 );\n    #endif\n\n    #if tintBlendMode( TBM_MULTIPLY )\n      alb *= tint;\n    #endif\n\n  }\n  #endif\n\n\n  // MEDIA CONTENT IS HERE !!\n  if(vTexCoord1.x > 0.0 && vTexCoord1.x < 1.0 && vTexCoord1.y > 0.0 && vTexCoord1.y < 1.0){\n\n    float grad = smoothstep(0.0, noise().r, reveal());\n\n    // TEXT\n    vec3 media = mediacontent().rgb;\n\n    media = mix(media, vec3(1.0) - media, 0.0);\n    \n    #if multiplyMedia == 1\n\n      alb = mix(alb, alb * media, grad);\n\n    #else\n\n      // alb = grad * ( media + (media * (1.0 - reveal())) * 0.5 );\n      alb = mix(vec3(0.0, 0.0, 0.0), ( media + (media * (1.0 - reveal())) * 2.0 ), grad);\n\n    #endif\n\n    vec3 c = alb;\n\n    \n    // SEPIA\n    alb = mix( alb, (c + adjSepia) * matSepia, step(0.9, shadingFilter().r) * step(shadingFilter().r, 1.1)); \n    // alb = (c + adjSepia) * matSepia;\n\n    // DESAT\n    alb = mix( alb, c * matDesat, step(1.9, shadingFilter().r) * step(shadingFilter().r, 2.1));\n    // alb = c * matDesat;\n\n    // GRAYSCALE\n    alb = mix( alb, vec3(dot(alb, vec3(0.299, 0.587, 0.114))), step(2.9, shadingFilter().r) * step(shadingFilter().r, 3.1));\n    // alb = vec3(dot(alb, vec3(0.299, 0.587, 0.114)));\n\n    // SATURATION\n    alb = mix( alb, c * matSat, step(3.9, shadingFilter().r) * step(shadingFilter().r, 4.1));\n    // alb = c * matSat;\n\n    // NOISY\n    float n = random(floor(vTexCoord1 * 300.0) * 0.00333333333);\n    #if multiplyMedia == 1\n      n = 1.0;\n    #endif\n    alb *= mix(1.0, 0.9 + n * 0.1, step(0.1, shadingFilter().r));\n\n\n    grad = smoothstep(0.0, noise().r, shadingFilter().g);\n    alb = mix(alb, c, grad);\n    alb = clamp(alb, vec3(0.0), vec3(1.0));\n\n  }\n\n\n  #if HAS_cityColor == 1\n  float cityColor = cityColor();\n  alb *= saturate( cityColor + step(vTexCoordCity.y, 0.0) + step(1.0, vTexCoordCity.y) + step(vTexCoordCity.x, 0.0) + step(1.0, vTexCoordCity.x) );\n  alb = mix( alb, vec3(1.0, 1.0, 1.0), (1.0 - cityColor) * step(2.9, shadingFilter().r) * step(shadingFilter().r, 3.1) );\n  #endif\n\n  #if HAS_emissive\n    float e = emissive();\n    #if HAS_emissiveScale\n      e = e * emissiveScale();\n    #endif\n    diffuseCoef += vec3( e ) * alb;//albedo();\n  #endif\n\n\n  #if conserveEnergy\n    alb = alb - alb * specular();\n  #endif\n  vec3 albedoSq = alb*alb;\n\n\n  // white mat override\n  #if 0\n    albedoSq = vec3(.5) + 0.00001 * albedoSq; \n\n  #endif\n\n  // #if HAS_translu\n  //   diffuseCoef *= vec3(1.0 + translu()*1.5);\n  // #endif\n\n  #if HAS_occlusion\n    diffuseCoef *= occlusion();\n  #endif\n\n\n  #ifdef HAS_Lightmap\n  #if HAS_Lightmap\n    vec3 lightmap = pow( Lightmap(), vec3(2.2) );\n    // gi = gi * .1 + .9;\n\n    #if HAS_LightmapMultiplier\n      lightmap = lightmap * LightmapMultiplier();\n    #endif\n\n    diffuseCoef += lightmap;\n    // specularColor *= gi;\n\n  #endif\n  #endif\n\n\n\n  #if HAS_cavity\n    #ifndef cavityStrength\n      #define cavityStrength(k) vec2(1.0)\n    #endif\n    diffuseCoef   *= cavity() * cavityStrength().r + (1.0-cavityStrength().r);\n    specularColor *= cavity() * cavityStrength().g + (1.0-cavityStrength().g);\n  #endif\n\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  // #if HAS_alpha\n  //   FragColor.a = alpha();\n  // #else\n  // #endif\n\n  #if HAS_alpha && alphaBlending( ALPHA_STD )\n    FragColor.a = 1.0 * alpha();\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(vertexColor().b);\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.2, 0.2);\n  // FragColor.a = 0.2;\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n  #if HAS_normalDetail\n    // FragColor.rg = normal().rg;\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}'};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  IN vec4 aTangent;\n  OUT mediump vec3 vWorldTangent;\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  highp vec3 pos = aPosition;\n  vec3 nrm = aNormal;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, nrm ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldTangent   = normalize( rotate( worldMatrix, aTangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * -aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -pos, 1.0 );\n}"};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\n\nIN mediump vec3 vWorldNormal;\n\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldTangent;\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n// INCLUDES\n// =========\n\n#if HAS_albedoTint\n"+n(34)()+"\n#endif\n\n"+n(29)()+"\n\n"+n(35)()+"\n"+n(36)()+'\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  #if HAS_fresnel\n    return( 1.0 - dot )*spec + dot*fresnel();\n  #else\n    return( 1.0 - dot )*spec + dot;\n  #endif\n}\n\n\n\n#if HAS_normal\n\n  #if HAS_normalDetail\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal(), normalDetail() )\n    vec3 ComputeWorldNormal( vec3 nrmmap, vec3 nrmmapDetail ){\n  #else\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal() )\n    vec3 ComputeWorldNormal( vec3 nrmmap ){\n  #endif\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n\n    #if HAS_normalDetail\n      #if HAS_normalDetailStrength\n        nrmmapDetail.rg = (normalDetailStrength() * (nrmmapDetail.rg-vec2(.5)))+vec2(.5);\n      #endif\n\n      #if useDerivatives\n        res = normalize( perturbWorldNormalDerivatives( res, nrmmapDetail, vTexCoord1 ) );\n      #else\n        res = normalize( perturbWorldNormal( res, nrmmapDetail, vWorldTangent, vWorldBitangent ) );\n      #endif\n\n    #endif\n\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  #if HAS_alpha && alphaBlending( ALPHA_CUTOUT )\n    if( alpha() < .5 ) discard;\n  #endif\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n  #if HAS_AmbientMultiplier\n    diffuseCoef *= vec3(AmbientMultiplier());\n  #endif\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, 1.0-gloss() );\n\n\n  #pragma SLOT lightsf\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularSq = specular()*specular();\n\n  #if HAS_specularTint\n    specularSq *= specularTint();\n  #endif\n\n  #if noFresnel\n    specularColor *= specularSq;\n  #else\n    specularColor *= F_Schlick( NoV, specularSq, gloss() );\n  #endif\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n  vec3 alb = albedo();\n\n  #if HAS_albedoTint\n  {\n    #if HAS_secondaryTint\n      vec3 tint = mix( albedoTint(), secondaryTint(), secondaryTintMask() );\n    #else\n      vec3 tint = albedoTint();\n    #endif\n\n    #if tintBlendMode( TBM_LINEAR_LIGHT )\n      alb = blendLinearLight( tint, alb, .5 );\n    #endif\n\n    #if tintBlendMode( TBM_MULTIPLY )\n      alb *= tint;\n    #endif\n\n  }\n  #endif\n\n\n  #if conserveEnergy\n    alb = alb - alb * specular();\n  #endif\n  vec3 albedoSq = alb*alb;\n\n\n  // white mat override\n  #if 0\n    albedoSq = vec3(.5) + 0.00001 * albedoSq; \n\n  #endif\n\n  // #if HAS_translu\n  //   diffuseCoef *= vec3(1.0 + translu()*1.5);\n  // #endif\n\n  #if HAS_occlusion\n    diffuseCoef *= occlusion();\n  #endif\n\n\n  #ifdef HAS_Lightmap\n  #if HAS_Lightmap\n    vec3 lightmap = pow( Lightmap(), vec3(2.2) );\n    // gi = gi * .1 + .9;\n\n    #if HAS_LightmapMultiplier\n      lightmap = lightmap * LightmapMultiplier();\n    #endif\n\n    diffuseCoef += lightmap;\n    // specularColor *= gi;\n\n  #endif\n  #endif\n\n\n\n  #if HAS_cavity\n    #ifndef cavityStrength\n      #define cavityStrength(k) vec2(1.0)\n    #endif\n    diffuseCoef   *= cavity() * cavityStrength().r + (1.0-cavityStrength().r);\n    specularColor *= cavity() * cavityStrength().g + (1.0-cavityStrength().g);\n  #endif\n\n\n  #if HAS_emissive\n    float e = emissive();\n    #if HAS_emissiveScale\n      e = e * emissiveScale();\n    #endif\n    diffuseCoef += vec3( e ) * albedo();\n  #endif\n\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  // #if HAS_alpha\n  //   FragColor.a = alpha();\n  // #else\n  // #endif\n\n  float a = alpha() * step(mask(), reveal());\n  // #if HAS_alpha && alphaBlending( ALPHA_STD )\n    FragColor.a = a;\n  // #else\n  //   FragColor.a = 0.0 + min(a, 0.0);// 1.0 + min(a, 0.0);\n  // #endif\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n  #if HAS_normalDetail\n    // FragColor.rg = normal().rg;\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}'};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  IN vec4 aTangent;\n  OUT mediump vec3 vWorldTangent;\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  highp vec3 pos = aPosition;\n  vec3 nrm = aNormal;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, nrm ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldTangent   = normalize( rotate( worldMatrix, aTangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * -aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -pos, 1.0 );\n}"};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\n\nIN mediump vec3 vWorldNormal;\n\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldTangent;\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n// INCLUDES\n// =========\n\n#if HAS_albedoTint\n"+n(34)()+"\n#endif\n\n"+n(29)()+"\n\n"+n(35)()+"\n"+n(36)()+'\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  #if HAS_fresnel\n    return( 1.0 - dot )*spec + dot*fresnel();\n  #else\n    return( 1.0 - dot )*spec + dot;\n  #endif\n}\n\n\n\n#if HAS_normal\n\n  #if HAS_normalDetail\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal(), normalDetail() )\n    vec3 ComputeWorldNormal( vec3 nrmmap, vec3 nrmmapDetail ){\n  #else\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal() )\n    vec3 ComputeWorldNormal( vec3 nrmmap ){\n  #endif\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n\n    #if HAS_normalDetail\n      #if HAS_normalDetailStrength\n        nrmmapDetail.rg = (normalDetailStrength() * (nrmmapDetail.rg-vec2(.5)))+vec2(.5);\n      #endif\n\n      #if useDerivatives\n        res = normalize( perturbWorldNormalDerivatives( res, nrmmapDetail, vTexCoord1 ) );\n      #else\n        res = normalize( perturbWorldNormal( res, nrmmapDetail, vWorldTangent, vWorldBitangent ) );\n      #endif\n\n    #endif\n\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  #if HAS_alpha && alphaBlending( ALPHA_CUTOUT )\n    if( alpha() < .5 ) discard;\n  #endif\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n  #if HAS_AmbientMultiplier\n    diffuseCoef *= vec3(AmbientMultiplier());\n  #endif\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, 1.0-gloss() );\n\n\n  #pragma SLOT lightsf\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularSq = specular()*specular();\n\n  #if HAS_specularTint\n    specularSq *= specularTint();\n  #endif\n\n  #if noFresnel\n    specularColor *= specularSq;\n  #else\n    specularColor *= F_Schlick( NoV, specularSq, gloss() );\n  #endif\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n  vec3 alb = albedo();\n\n  #if HAS_albedoTint\n  {\n    #if HAS_secondaryTint\n      vec3 tint = mix( albedoTint(), secondaryTint(), secondaryTintMask() );\n    #else\n      vec3 tint = albedoTint();\n    #endif\n\n    #if tintBlendMode( TBM_LINEAR_LIGHT )\n      alb = blendLinearLight( tint, alb, .5 );\n    #endif\n\n    #if tintBlendMode( TBM_MULTIPLY )\n      alb *= tint;\n    #endif\n\n  }\n  #endif\n\n\n  #if conserveEnergy\n    alb = alb - alb * specular();\n  #endif\n  vec3 albedoSq = alb*alb;\n\n\n  // white mat override\n  #if 0\n    albedoSq = vec3(.5) + 0.00001 * albedoSq; \n\n  #endif\n\n  // #if HAS_translu\n  //   diffuseCoef *= vec3(1.0 + translu()*1.5);\n  // #endif\n\n  #if HAS_occlusion\n    diffuseCoef *= occlusion();\n  #endif\n\n\n  #ifdef HAS_Lightmap\n  #if HAS_Lightmap\n    vec3 lightmap = pow( Lightmap(), vec3(2.2) );\n    // gi = gi * .1 + .9;\n\n    #if HAS_LightmapMultiplier\n      lightmap = lightmap * LightmapMultiplier();\n    #endif\n\n    diffuseCoef += lightmap;\n    // specularColor *= gi;\n\n  #endif\n  #endif\n\n\n\n  #if HAS_cavity\n    #ifndef cavityStrength\n      #define cavityStrength(k) vec2(1.0)\n    #endif\n    diffuseCoef   *= cavity() * cavityStrength().r + (1.0-cavityStrength().r);\n    specularColor *= cavity() * cavityStrength().g + (1.0-cavityStrength().g);\n  #endif\n\n\n  #if HAS_emissive\n    float e = emissive();\n    #if HAS_emissiveScale\n      e = e * emissiveScale();\n    #endif\n    diffuseCoef += vec3( e ) * albedo();\n  #endif\n\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  // #if HAS_alpha\n  //   FragColor.a = alpha();\n  // #else\n  // #endif\n\n  #if HAS_alpha && alphaBlending( ALPHA_STD )\n    FragColor.a = alpha();\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n  #if HAS_normalDetail\n    // FragColor.rg = normal().rg;\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}\n'};i.toString=i,e.exports=i},,,function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\n#if instanced\n  IN vec3 aOffset;\n#endif\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  IN vec4 aTangent;\n  OUT mediump vec3 vWorldTangent;\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  #if instanced == 1\n    highp vec3 pos = vec3((aPosition.xy * aOffset.z) + aOffset.xy, aPosition.z);\n  #else\n    highp vec3 pos = aPosition;\n  #endif\n\n  vec3 nrm = aNormal;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, nrm ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldTangent   = normalize( rotate( worldMatrix, aTangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * -aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -pos, 1.0 );\n}"};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\n\nIN mediump vec3 vWorldNormal;\n\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldTangent;\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n// INCLUDES\n// =========\n\n#if HAS_albedoTint\n"+n(34)()+"\n#endif\n\n"+n(29)()+"\n\n"+n(35)()+"\n"+n(36)()+'\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  #if HAS_fresnel\n    return( 1.0 - dot )*spec + dot*fresnel();\n  #else\n    return( 1.0 - dot )*spec + dot;\n  #endif\n}\n\n\n\n#if HAS_normal\n\n  #if HAS_normalDetail\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal(), normalDetail() )\n    vec3 ComputeWorldNormal( vec3 nrmmap, vec3 nrmmapDetail ){\n  #else\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal() )\n    vec3 ComputeWorldNormal( vec3 nrmmap ){\n  #endif\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n\n    #if HAS_normalDetail\n      #if HAS_normalDetailStrength\n        nrmmapDetail.rg = (normalDetailStrength() * (nrmmapDetail.rg-vec2(.5)))+vec2(.5);\n      #endif\n\n      #if useDerivatives\n        res = normalize( perturbWorldNormalDerivatives( res, nrmmapDetail, vTexCoord1 ) );\n      #else\n        res = normalize( perturbWorldNormal( res, nrmmapDetail, vWorldTangent, vWorldBitangent ) );\n      #endif\n\n    #endif\n\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  #if HAS_alpha && alphaBlending( ALPHA_CUTOUT )\n    if( alpha() < .5 ) discard;\n  #endif\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n  #if HAS_AmbientMultiplier\n    diffuseCoef *= vec3(AmbientMultiplier());\n  #endif\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, 1.0-gloss() );\n\n\n  #pragma SLOT lightsf\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularSq = specular()*specular();\n\n  #if HAS_specularTint\n    specularSq *= specularTint();\n  #endif\n\n  #if noFresnel\n    specularColor *= specularSq;\n  #else\n    specularColor *= F_Schlick( NoV, specularSq, gloss() );\n  #endif\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n  vec3 alb = albedo();\n\n  #if HAS_albedoTint\n  {\n    #if HAS_secondaryTint\n      vec3 tint = mix( albedoTint(), secondaryTint(), secondaryTintMask() );\n    #else\n      vec3 tint = albedoTint();\n    #endif\n\n    #if tintBlendMode( TBM_LINEAR_LIGHT )\n      alb = blendLinearLight( tint, alb, .5 );\n    #endif\n\n    #if tintBlendMode( TBM_MULTIPLY )\n      alb *= tint;\n    #endif\n\n  }\n  #endif\n\n\n  #if conserveEnergy\n    alb = alb - alb * specular();\n  #endif\n  vec3 albedoSq = alb*alb;\n\n\n  // white mat override\n  #if 0\n    albedoSq = vec3(.5) + 0.00001 * albedoSq; \n\n  #endif\n\n  // #if HAS_translu\n  //   diffuseCoef *= vec3(1.0 + translu()*1.5);\n  // #endif\n\n  #if HAS_occlusion\n    diffuseCoef *= occlusion();\n  #endif\n\n\n  #ifdef HAS_Lightmap\n  #if HAS_Lightmap\n    vec3 lightmap = pow( Lightmap(), vec3(2.2) );\n    // gi = gi * .1 + .9;\n\n    #if HAS_LightmapMultiplier\n      lightmap = lightmap * LightmapMultiplier();\n    #endif\n\n    diffuseCoef += lightmap;\n    // specularColor *= gi;\n\n  #endif\n  #endif\n\n\n\n  #if HAS_cavity\n    #ifndef cavityStrength\n      #define cavityStrength(k) vec2(1.0)\n    #endif\n    diffuseCoef   *= cavity() * cavityStrength().r + (1.0-cavityStrength().r);\n    specularColor *= cavity() * cavityStrength().g + (1.0-cavityStrength().g);\n  #endif\n\n\n  #if HAS_emissive\n    float e = emissive();\n    #if HAS_emissiveScale\n      e = e * emissiveScale();\n    #endif\n    diffuseCoef += vec3( e ) * albedo();\n  #endif\n\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  // #if HAS_alpha\n  //   FragColor.a = alpha();\n  // #else\n  // #endif\n\n  #if HAS_alpha && alphaBlending( ALPHA_STD )\n    FragColor.a = alpha();\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n  #if HAS_normalDetail\n    // FragColor.rg = normal().rg;\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}\n'};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  IN vec4 aTangent;\n  OUT mediump vec3 vWorldTangent;\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  highp vec3 pos = aPosition;\n  vec3 nrm = aNormal;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( pos, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, nrm ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldTangent   = normalize( rotate( worldMatrix, aTangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * -aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -pos, 1.0 );\n}"};i.toString=i,e.exports=i},function(e,t,n){var i=function(e){var t="";return t+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\n\nIN mediump vec3 vWorldNormal;\n\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldTangent;\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  "+n(23)()+"\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n// INCLUDES\n// =========\n\n#if HAS_albedoTint\n"+n(34)()+"\n#endif\n\n"+n(29)()+"\n\n"+n(35)()+"\n"+n(36)()+'\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  #if HAS_fresnel\n    return( 1.0 - dot )*spec + dot*fresnel();\n  #else\n    return( 1.0 - dot )*spec + dot;\n  #endif\n}\n\n\n\n#if HAS_normal\n\n  #if HAS_normalDetail\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal(), normalDetail() )\n    vec3 ComputeWorldNormal( vec3 nrmmap, vec3 nrmmapDetail ){\n  #else\n    #define COMPUTE_NORMAL(k) ComputeWorldNormal( normal() )\n    vec3 ComputeWorldNormal( vec3 nrmmap ){\n  #endif\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n\n    #if HAS_normalDetail\n      #if HAS_normalDetailStrength\n        nrmmapDetail.rg = (normalDetailStrength() * (nrmmapDetail.rg-vec2(.5)))+vec2(.5);\n      #endif\n\n      #if useDerivatives\n        res = normalize( perturbWorldNormalDerivatives( res, nrmmapDetail, vTexCoord1 ) );\n      #else\n        res = normalize( perturbWorldNormal( res, nrmmapDetail, vWorldTangent, vWorldBitangent ) );\n      #endif\n\n    #endif\n\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  #if HAS_alpha && alphaBlending( ALPHA_CUTOUT )\n    if( alpha() < .5 ) discard;\n  #endif\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n  #if HAS_AmbientMultiplier\n    diffuseCoef *= vec3(AmbientMultiplier());\n  #endif\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, 1.0-gloss() );\n\n\n  #pragma SLOT lightsf\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularSq = specular()*specular();\n\n  #if HAS_specularTint\n    specularSq *= specularTint();\n  #endif\n\n  #if noFresnel\n    specularColor *= specularSq;\n  #else\n    specularColor *= F_Schlick( NoV, specularSq, gloss() );\n  #endif\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n  vec3 alb = albedo();\n\n  #if HAS_albedoTint\n  {\n    #if HAS_secondaryTint\n      vec3 tint = mix( albedoTint(), secondaryTint(), secondaryTintMask() );\n    #else\n      vec3 tint = albedoTint();\n    #endif\n\n    #if tintBlendMode( TBM_LINEAR_LIGHT )\n      alb = blendLinearLight( tint, alb, .5 );\n    #endif\n\n    #if tintBlendMode( TBM_MULTIPLY )\n      alb *= tint;\n    #endif\n\n  }\n  #endif\n\n\n  #if conserveEnergy\n    alb = alb - alb * specular();\n  #endif\n  vec3 albedoSq = alb*alb;\n\n\n  // white mat override\n  #if 0\n    albedoSq = vec3(.5) + 0.00001 * albedoSq; \n\n  #endif\n\n  // #if HAS_translu\n  //   diffuseCoef *= vec3(1.0 + translu()*1.5);\n  // #endif\n\n  #if HAS_occlusion\n    diffuseCoef *= occlusion();\n  #endif\n\n\n  #ifdef HAS_Lightmap\n  #if HAS_Lightmap\n    vec3 lightmap = pow( Lightmap(), vec3(2.2) );\n    // gi = gi * .1 + .9;\n\n    #if HAS_LightmapMultiplier\n      lightmap = lightmap * LightmapMultiplier();\n    #endif\n\n    diffuseCoef += lightmap;\n    // specularColor *= gi;\n\n  #endif\n  #endif\n\n\n\n  #if HAS_cavity\n    #ifndef cavityStrength\n      #define cavityStrength(k) vec2(1.0)\n    #endif\n    diffuseCoef   *= cavity() * cavityStrength().r + (1.0-cavityStrength().r);\n    specularColor *= cavity() * cavityStrength().g + (1.0-cavityStrength().g);\n  #endif\n\n\n  #if HAS_emissive\n    float e = emissive();\n    #if HAS_emissiveScale\n      e = e * emissiveScale();\n    #endif\n    diffuseCoef += vec3( e ) * albedo();\n  #endif\n\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  // #if HAS_alpha\n  //   FragColor.a = alpha();\n  // #else\n  // #endif\n\n  #if HAS_alpha && alphaBlending( ALPHA_STD )\n    FragColor.a = alpha();\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n  #if HAS_alpha2\n    FragColor.a *= alpha2();\n  #endif\n\n  #if HAS_mask && HAS_reveal\n    float maskColor = mask().r;\n    float edge = 0.08;\n    float progress = smoothstep(maskColor - edge, maskColor + edge, reveal());\n    // FragColor.rgb = vec3(progress);\n    FragColor.a *= progress;\n  #endif\n\n  #if HAS_flash\n    vec3 color = FragColor.rgb;\n    vec3 flashColor = vec3(flash());\n    FragColor.rgb += flashColor;\n  #endif\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n  #if HAS_normalDetail\n    // FragColor.rg = normal().rg;\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}\n'};i.toString=i,e.exports=i},function(e,t,n){e.exports=n.p+"e53a2b9c853f7dbbf35d13e99988bb9e.wasm"},,,,,function(e,t,n){n(156),e.exports=n(155)},function(e,t){e.exports='<a\n    v-if="link"\n    :class="[\'ui-button\', typeClass, iconClass, {\'is-appear\': isAppear}, {\'is-animating\': isAnimating}]"\n    target="_blank"\n    :href="link"\n    @mouseover="onMouseOver"\n    @mouseout="onMouseOut"\n>\n    <span class="ui-button__label">{{ label }}</span>\n    <slot></slot>\n</a>\n\n<label\n    v-else-if="labelFor"\n    :class="[\'ui-button ui-button-label\', typeClass, iconClass, {\'is-appear\': isAppear}]"\n    :for="labelFor"\n    @click="onClick"\n    @mouseover="onMouseOver"\n    @mouseout="onMouseOut"\n>\n    <span ref="label" class="ui-button__label">{{ label }}</span>\n    <slot></slot>\n\n    <span v-if="hasIcon === true" class="ui-button__icons">\n        <span ref="iconBorder" class="ui-button__icon--border"></span>\n        <span ref="iconPrev" class="ui-button__icon--prev"></span>\n        <span ref="iconNext" class="ui-button__icon--next"></span>\n    </span>\n\n    <span ref="lines" v-if="type === \'cta\'" class="ui-button__lines">\n        <span class="ui-button__line__wrapper ui-button__line__wrapper--top">\n            <img class="ui-button__line" :src="asset_url( \'assets/buttons/cta_line_top.png\' )" />\n        </span>\n        <span class="ui-button__line__wrapper ui-button__line__wrapper--bottom">\n            <img class="ui-button__line" :src="asset_url( \'assets/buttons/cta_line_bottom.png\' )" />\n        </span>\n    </span>\n    <span ref="marguerite" v-if="type === \'cta\'" class="ui-button__marguerite"></span>\n\n    <span v-if="type === \'cta-light\'" class="ui-button__lines">\n        <span ref="wrapperTop" class="ui-button__line__wrapper ui-button__line__wrapper--top">\n            <span ref="lineTop" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperRight" class="ui-button__line__wrapper ui-button__line__wrapper--right">\n            <span ref="lineRight" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperBottom" class="ui-button__line__wrapper ui-button__line__wrapper--bottom">\n            <span ref="lineBottom" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperLeft" class="ui-button__line__wrapper ui-button__line__wrapper--left">\n            <span ref="lineLeft" class="ui-button__line"></span>\n        </span>\n    </span>\n    \n</label>\n\n<button\n    v-else\n    :class="[\'ui-button\', typeClass, iconClass, {\'is-appear\': isAppear}, {\'is-animating\': isAnimating}]"\n    @click="onClick"\n    @mouseover="onMouseOver"\n    @mouseout="onMouseOut"\n>\n    <span ref="label" class="ui-button__label">{{ label }}</span>\n    <slot></slot>\n    \n    <span v-if="hasIcon === true" class="ui-button__icons">\n        <span ref="iconBorder" class="ui-button__icon--border"></span>\n        <span ref="iconPrev" class="ui-button__icon--prev"></span>\n        <span ref="iconNext" class="ui-button__icon--next"></span>\n    </span>\n\n\n    <span ref="lines" v-if="type === \'cta\'" class="ui-button__lines">\n        <span class="ui-button__line__wrapper ui-button__line__wrapper--top">\n            <img class="ui-button__line" :src="asset_url( \'assets/buttons/cta_line_top.png\' )" />\n        </span>\n        <span class="ui-button__line__wrapper ui-button__line__wrapper--bottom">\n            <img class="ui-button__line" :src="asset_url( \'assets/buttons/cta_line_bottom.png\' )" />\n        </span>\n    </span>\n    <span ref="marguerite" v-if="type === \'cta\'" class="ui-button__marguerite"></span>\n\n\n\n    <span v-if="type === \'cta-light\'" class="ui-button__lines">\n        <span ref="wrapperTop" class="ui-button__line__wrapper ui-button__line__wrapper--top">\n            <span ref="lineTop" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperRight" class="ui-button__line__wrapper ui-button__line__wrapper--right">\n            <span ref="lineRight" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperBottom" class="ui-button__line__wrapper ui-button__line__wrapper--bottom">\n            <span ref="lineBottom" class="ui-button__line"></span>\n        </span>\n        <span ref="wrapperLeft" class="ui-button__line__wrapper ui-button__line__wrapper--left">\n            <span ref="lineLeft" class="ui-button__line"></span>\n        </span>\n    </span>\n\n\n    <span v-if="type === \'audio\'" class="ui-button__lines">\n        <span class="ui-button__line__wrapper">\n            <span class="ui-button__line"></span>\n        </span>\n        <span class="ui-button__line__wrapper">\n            <span class="ui-button__line"></span>\n        </span>\n        <span class="ui-button__line__wrapper">\n            <span class="ui-button__line"></span>\n        </span>\n        <span class="ui-button__line__wrapper">\n            <span class="ui-button__line"></span>\n        </span>\n    </span>\n</button>\n'},function(e,t){e.exports='<div class="ui-lang-selector" @click="onClick" @mouseenter="onMouseEnter" @mouseleave="onMouseLeave">\n    <div class="ui-lang-selector__desktop" v-if="isDesktop">\n        <ui-button :label="sanitizeLocale(currentLocale)" type="lang-selector" :class="{ \'ui-button--lang-selector--active\': listShowed }" />\n        \n        <div class="ui-lang-selector__list" :class="{ \'ui-lang-selector__list--active\': listShowed }">\n            <div v-for="locale in filteredLocales" class="ui-lang-selector__list__item" @click="onItemClick(locale)">{{ sanitizeLocale(locale) }}</div>\n        </div>\n    </div>\n\n    <div class="ui-lang-selector__mobile" v-else>\n        <select name="ui-lang-selector" class="ui-lang-selector__select" @change="onChange">\n            <option v-for="locale in sortedLocales" :selected="locale === currentLocale" :value="locale">{{ sanitizeLocale(locale) }}</option>\n        </select>\n    </div>\n</div>\n'},,,function(e,t){e.exports='<div class="ui-footer" @click="onClick">\n    <div class="ui-footer__layout">\n        <div class="ui-footer__inner">\n            <nav class="ui-footer__nav">\n                <ul>\n                    <li>\n                        <ui-button type="netflix">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 107 29"><path d="M70.7 0h-4.5v25c4.1.1 8.1.3 12.1.6v-4.4c-2.5-.2-5.1-.3-7.7-.4V0h.1zm35.4 0h-4.9L98 7.5 95.1 0h-4.8l5.2 13.4-5.7 13.1c1.6.2 3.1.3 4.7.5l3.3-7.6 3.3 8.4c1.7.2 3.4.4 5.1.7l-5.8-15L106.1 0zM50.9 24.7h4.5V14.6h6v-4.4h-6V4.4h8V0H50.9v24.7zM34.2 4.4h4.7V25c1.5-.1 3-.1 4.5-.1V4.4h4.7V0H34.3v4.4h-.1zM19 26.3c4.1-.4 8.2-.7 12.4-.9V21c-2.7.2-5.3.3-7.9.5v-6.7c1.7 0 4-.1 6 0v-4.4h-6v-6h7.9V0H19v26.3zm-8.8-10.2L4.4 0H.2v28.5l4.5-.6V12.4l5.2 14.8c1.6-.2 3.3-.4 4.9-.5V0h-4.5v16.1h-.1zM82 25.8c1.5.1 3 .2 4.5.4V0H82v25.8z" fill="#E01F1D" fill-rule="nonzero"/></svg>\n                        </ui-button>\n                    </li>\n                    <li>\n                        <ui-lang-selector />\n                    </li>\n                    <li>\n                        <ui-button ref="share" :label="t(\'common.cta_share\')" :data-clipboard-text="clipText"/>\n                    </li>\n                    <li>\n                        <ui-button :label="t(\'common.cta_legals\')" :link="legalsPDF" target="_blank"/>\n                    </li>\n                </ul>\n                <p :class="{\'is-active\': copiedText}" class="ui-footer__copied-text">\n                    <svg class="ui-footer__copied-text__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.4 24.4"><path d="M14.3 21.4l-3 3-3.1-3L0 13.1l3-3 8.2 8.2L29.4 0l3 3-18.1 18.4z" fill-rule="evenodd" clip-rule="evenodd"/></svg>\n                    <span v-html="t(\'common.share_copied\')"></span>\n                </p>\n            </nav>\n            <div v-if="$appdatas.store.phase === \'xp\'" class="ui-footer__audio">\n                <p class="ui-footer__audio__instructions" :class="{\'is-active\': audioInstruction}" v-html="t(\'common.active_sound\')"></p>\n                <ui-button :class="{\'audio-active\': audioActive}" type="audio" :has-icon="true" label="Audio" @onClick="toggleAudio"/>\n            </div>\n        </div>\n    </div>\n    <ui-button type="close-light" :has-icon="true" label="Close menu" @onClick="onCloseClick" />\n</div>\n'},function(e,t){e.exports='<div class="ui-header">\n    <div class="ui-header__layout">\n        <div class="ui-header__inner">\n            <h1 class="ui-header-title hide-for-viewer">La casa de papel, part 4</h1>\n            <transition v-on:enter="enter" v-on:leave="leave" v-bind:css="false" mode="out-in">\n                <div class="ui-header__template ui-header__template--default" key="1" v-if="headerState === \'default\'">\n                    <a ref="logo" class="ui-header__logo" href="#">\n\n                        <svg v-if="locale === \'de\'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 954.49 148.06">\n                            <g id="Layer_2" data-name="Layer 2">\n                                <g id="MAIN">\n                                    <path fill="#fff"\n                                        d="M0 .66h32.57v53.9h9.24V.66h32.57V147.4H41.81V78.54h-9.24v68.86H0zM99.21.66h40l19.37 146.74h-30.49l-2.31-29h-13.17l-2.31 29H79.81zm24.72 93.72l-1.85-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.39 43.34l-1.84 22.88zM204 .66h32.58V120a83.38 83.38 0 01-.35 8.58 23.35 23.35 0 01-.92 4.84c-.39 1.1-.89 2.39-1.51 3.85a18.58 18.58 0 01-3.81 5.39 15.14 15.14 0 01-5.89 3.3 40 40 0 01-9.24 1.65q-5.53.44-13.86.44-9.24 0-15.24-.33a53.72 53.72 0 01-9.94-1.32 15.84 15.84 0 01-6.12-2.75 16.88 16.88 0 01-3.81-4.4 18 18 0 01-3.12-9.24c-.23-2.2-.38-5.2-.46-9s-.12-9.16-.12-16.06V.66h32.57V112c0 2.2 0 3.88.12 5s.15 2.09.23 2.75a7.3 7.3 0 00.23 1.31 5.4 5.4 0 00.35.77 4.08 4.08 0 003.7 1.76q3 0 3.81-2c.54-1.31.8-4.53.8-9.66zM285.56 97.07a48.55 48.55 0 00-.23-5.27 10.22 10.22 0 00-.79-3.18 4.41 4.41 0 00-1.92-2c-.91-.51-2.11-1.21-3.62-2.09a37.88 37.88 0 01-3.84-2.2l-13.73-7.24a77 77 0 01-9.08-5.71 19.69 19.69 0 01-5.35-5.91 23.08 23.08 0 01-2.56-7.91 79 79 0 01-.69-11.42V27q0-9 1.38-13.72a15.7 15.7 0 015.08-7.8 16 16 0 014.16-2.85A20.91 20.91 0 01260.26 1a87.48 87.48 0 019.24-.78q5.65-.21 14-.22c4.93 0 9 .11 12.36.33a55.32 55.32 0 018.31 1.11 14.55 14.55 0 015.43 2.33 20.2 20.2 0 013.93 4 21.5 21.5 0 012.31 3.66 17.26 17.26 0 011.38 4.45 55.53 55.53 0 01.7 6.09q.23 3.56.23 8.61v20.9h-32.59V34.1q0-5.49-1-7.59a3.58 3.58 0 00-3.49-2.09 3.8 3.8 0 00-3.72 2c-.68 1.32-1 3.88-1 7.68v10.74a9.43 9.43 0 001.38 5.61c.91 1.24 2.91 2.67 6 4.28L297.45 62a91.82 91.82 0 0110.92 6.37 22.74 22.74 0 016.2 6.37 21.45 21.45 0 012.87 8.35 87.65 87.65 0 01.69 12.07v23.72q0 4.84-.23 8.13a46 46 0 01-.7 5.6 20.63 20.63 0 01-1.27 4.17 16.11 16.11 0 01-2.19 3.62 17.45 17.45 0 01-4.16 4 17.21 17.21 0 01-6.12 2.3 69.38 69.38 0 01-9.7 1.1q-5.89.33-14.9.33-7.39 0-12.24-.33a50.66 50.66 0 01-8.09-1.11 18.93 18.93 0 01-5.43-2.11 16.3 16.3 0 01-4-3.55 15.61 15.61 0 01-2.89-3.67 14.88 14.88 0 01-1.5-4.88 75.14 75.14 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V86.9h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21zM597.94 136.62a22 22 0 01-9.5 8.91q-5.57 2.53-16.22 2.53-10.2 0-15.53-1.54a16.87 16.87 0 01-8.8-5.94 17.6 17.6 0 01-2.32-3.85 23.79 23.79 0 01-1.51-5.72 68.65 68.65 0 01-.69-9.35q-.12-5.72-.12-15V38.5q0-7.7.12-12.21t.23-7.29a17.86 17.86 0 01.58-4.29c.3-1 .69-2.12 1.15-3.3q3.24-8.1 12.67-10.09a56.33 56.33 0 019.7-1Q574.9 0 584.6 0q6.75 0 11.28.33a48.66 48.66 0 017.68 1.11 17.82 17.82 0 015.23 2.11 20.66 20.66 0 014 3.33 17.58 17.58 0 014.07 8.44 84.55 84.55 0 011 15.48v20.68h-32.57V34.1q0-5.72-.92-7.7t-3.93-2a4.19 4.19 0 00-4.16 3.07 5.74 5.74 0 00-.34.77 4.1 4.1 0 00-.12 1.21v81.45q0 6.6.93 8.68t3.92 2.08a4.18 4.18 0 004.16-3.08 2.79 2.79 0 00.46-1.65V95.26h-4.62l-.23-24h37.42v76.14H604zM625.76.66h50.59v24h-18v29.9h18v24h-18V123h18v24.4h-50.59zM683.42.66H716V123h19.4v24.4h-52zM740.91.66h31.42q10.39 0 16.86.22a79.46 79.46 0 0110.28.88 16.36 16.36 0 015.89 2 22.38 22.38 0 014.16 3.52 18.25 18.25 0 013 4.29 23.15 23.15 0 011.85 5.72 57 57 0 01.92 8.58q.23 5.17.23 12.65v72.38q0 7.49-.23 12.43a55.68 55.68 0 01-.92 8.36 17.29 17.29 0 01-2 5.5 20.19 20.19 0 01-3.35 4.07 19.34 19.34 0 01-5.55 3.52 24.46 24.46 0 01-6.93 2c-1.08.15-2 .26-2.89.33s-2.15.11-3.92.11-4.36 0-7.74.11-8.09.11-14.09.11h-27zm42 35.86V32a22.71 22.71 0 00-.11-2.53c-.08-.58-.16-1-.23-1.32a4.88 4.88 0 00-.35-.88c-.77-1.76-2.7-2.64-5.77-2.64h-1.27a7.89 7.89 0 00-1.74.22v98.56H776a17.9 17.9 0 003.93-.33 3 3 0 002.08-2 16.13 16.13 0 00.81-5.28q.1-3.63.11-10.45zM823.19.66h50.59v24h-18v29.9h18v24h-18V123h18v24.4h-50.59zM921.92 97.07a48.55 48.55 0 00-.23-5.27 10.22 10.22 0 00-.79-3.18 4.41 4.41 0 00-1.92-2l-3.62-2.09a37.88 37.88 0 01-3.84-2.2l-13.73-7.24a75.93 75.93 0 01-9.07-5.71 19.59 19.59 0 01-5.36-5.93 23.08 23.08 0 01-2.56-7.91 79 79 0 01-.69-11.42V27q0-9 1.38-13.72a15.65 15.65 0 015.09-7.8 15.8 15.8 0 014.15-2.85A21 21 0 01896.62 1a87.48 87.48 0 019.24-.77q5.67-.21 14-.22 7.39 0 12.36.33a55.32 55.32 0 018.31 1.11 14.55 14.55 0 015.43 2.33 19.93 19.93 0 013.93 4 21.9 21.9 0 012.31 3.66 17.65 17.65 0 011.39 4.45 58.35 58.35 0 01.69 6.09q.22 3.56.23 8.61v20.9h-32.59V34.1q0-5.49-1-7.59a3.59 3.59 0 00-3.5-2.09 3.8 3.8 0 00-3.72 2c-.68 1.32-1 3.88-1 7.68v10.74a9.43 9.43 0 001.38 5.61q1.38 1.86 6 4.28L933.82 62a91.58 91.58 0 0110.91 6.37 22.61 22.61 0 016.2 6.37 21.51 21.51 0 012.87 8.35 87.65 87.65 0 01.69 12.07v23.72q0 4.84-.23 8.13a48.28 48.28 0 01-.69 5.6 22 22 0 01-1.27 4.17 16.54 16.54 0 01-2.2 3.62 15.41 15.41 0 01-10.28 6.26 69.2 69.2 0 01-9.7 1.1q-5.89.33-14.9.33-7.4 0-12.24-.33a50.82 50.82 0 01-8.09-1.11 18.93 18.93 0 01-5.43-2.11 16.3 16.3 0 01-4-3.55 15.88 15.88 0 01-2.89-3.67 14.88 14.88 0 01-1.5-4.88 75.14 75.14 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V86.9h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21z" />\n                                    <path fill="#bd322f" d="M336.51.34h188v146.74h-188z" />\n                                    <path fill="#fff"\n                                        d="M363 27.36h19.85q6.57 0 10.66.14a49.07 49.07 0 016.49.55 10.39 10.39 0 013.72 1.25 14.06 14.06 0 012.63 2.23 11.34 11.34 0 011.9 2.71 15.31 15.31 0 011.17 3.61 36.85 36.85 0 01.58 5.42c.1 2.18.14 4.85.14 8V97c0 3.15 0 5.76-.14 7.85a36 36 0 01-.58 5.28 11.23 11.23 0 01-1.24 3.48 13.24 13.24 0 01-2.12 2.57 12.4 12.4 0 01-3.5 2.22 15.38 15.38 0 01-4.38 1.25q-1 .15-1.83.21c-.53 0-1.36.07-2.48.07s-2.75 0-4.89.07-5.1.07-8.9.07H363zM389.6 50v-2.84a12.52 12.52 0 00-.08-1.59c0-.37-.1-.65-.14-.84a3.16 3.16 0 00-.22-.55c-.49-1.12-1.7-1.67-3.65-1.67h-.8a4.88 4.88 0 00-1.1.14v62.27h1.61a11.22 11.22 0 002.48-.21 1.93 1.93 0 001.31-1.25 10.25 10.25 0 00.51-3.34q.08-2.3.08-6.6zM415 27.36h32v15.15h-11.4v18.9H447v15.15h-11.4v28.08H447v15.43h-32zM477.4 88.27a29.17 29.17 0 00-.15-3.33 6.4 6.4 0 00-.5-2 2.75 2.75 0 00-1.21-1.25l-2.28-1.32a20.85 20.85 0 01-2.43-1.37l-8.67-4.58a47.4 47.4 0 01-5.74-3.6A12.25 12.25 0 01453 67a14.51 14.51 0 01-1.62-5 50.12 50.12 0 01-.44-7.22V44a32.3 32.3 0 01.88-8.67 9.86 9.86 0 013.21-4.93 9.85 9.85 0 012.62-1.8 13.25 13.25 0 013.73-1 50.54 50.54 0 015.83-.49q3.58-.13 8.83-.14 4.68 0 7.81.21a34.76 34.76 0 015.26.7 9.12 9.12 0 013.43 1.48 12.64 12.64 0 012.48 2.52 13.71 13.71 0 011.46 2.31 10.55 10.55 0 01.87 2.81 33.86 33.86 0 01.44 3.85c.1 1.5.15 3.31.15 5.44v13.18H477.4v-11a12.43 12.43 0 00-.64-4.8 2.27 2.27 0 00-2.21-1.32 2.41 2.41 0 00-2.35 1.25 12.09 12.09 0 00-.64 4.85v6.8a5.94 5.94 0 00.87 3.54 11.6 11.6 0 003.77 2.71l8.71 4.58a57.24 57.24 0 016.9 4 14.18 14.18 0 013.92 4 13.48 13.48 0 011.81 5.28 55.44 55.44 0 01.44 7.63v15c0 2-.05 3.75-.15 5.14a28.39 28.39 0 01-.44 3.54 12.69 12.69 0 01-.8 2.63 10 10 0 01-1.39 2.29 9.73 9.73 0 01-6.49 4 45.5 45.5 0 01-6.13.69q-3.72.21-9.42.21c-3.11 0-5.69-.08-7.73-.21a33.76 33.76 0 01-5.11-.7 12.21 12.21 0 01-3.43-1.34 10.25 10.25 0 01-2.55-2.24 9.81 9.81 0 01-1.83-2.32 9.42 9.42 0 01-.94-3.08 44.83 44.83 0 01-.44-4.83q-.15-2.94-.15-7.38V81.84h20.58v19.46a4 4 0 00.29 1.53 2.73 2.73 0 002.7 2.23 2.52 2.52 0 002.7-2.36 5.67 5.67 0 00.15-1.18V88.27z" />\n                                </g>\n                            </g>\n                        </svg>                        \n\n                        <svg v-else-if="locale === \'it\'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1022.61 149.2">\n                            <g id="Layer_2" data-name="Layer 2">\n                                <g id="MAIN">\n                                    <path fill="#fff"\n                                        d="M0 1.8h32.57v122.32H52v24.42H0zM74 1.8h40l19.41 146.74h-30.52l-2.31-29H87.41l-2.31 29H54.61zm24.73 93.72l-1.85-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.39 43.34l-1.84 22.86zM207 86.5h32.58v23.1q0 8.58-.12 13.88a61.24 61.24 0 01-.69 8.63 22.39 22.39 0 01-1.5 5.33 25.61 25.61 0 01-2.55 4.22 14.54 14.54 0 01-3.81 3.66 18.77 18.77 0 01-5.66 2.33 47.66 47.66 0 01-8.54 1.22q-5.08.33-12.48.33-9.24 0-15.36-.44a62.17 62.17 0 01-10.16-1.43 17.16 17.16 0 01-6.47-2.86 14.57 14.57 0 01-4-4.95 20.42 20.42 0 01-1.5-3.63 27.86 27.86 0 01-.93-5.28c-.23-2.27-.39-5.24-.46-8.91s-.12-8.5-.12-14.52V45.8q0-10.56.12-16.72c.07-4.1.23-7.37.46-9.79a18.71 18.71 0 011.16-5.5 21.85 21.85 0 012.19-3.85 23.12 23.12 0 014.16-4.51 15.89 15.89 0 015.31-2.64 37 37 0 018.2-1.32q5-.33 12.82-.33c5.24 0 9.62 0 13.17.12a83.34 83.34 0 018.78.55A29 29 0 01227.26 3a16 16 0 014 2.11 15 15 0 014.73 5 20.35 20.35 0 012.66 6.76 58 58 0 01.69 6q.24 3.33.24 10.36v19.39H207V35.9q0-6.37-.92-8.36t-3.93-2a3.41 3.41 0 00-3.58 2.19c-.54 1.46-.81 4.68-.81 9.64v80.93a6 6 0 00.12 1.43 4.16 4.16 0 01.12 1.09q.45 3.94 4.38 3.94a3.61 3.61 0 003.7-2.2q.91-2.19.92-9zM262 1.8h40l19.4 146.74h-30.48l-2.31-29h-13.17l-2.31 29h-30.49zm24.72 93.72l-1.85-22.88-.69-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.38 43.34l-1.85 22.88zM366.55 98.21a48.68 48.68 0 00-.23-5.27 10.3 10.3 0 00-.79-3.18 4.46 4.46 0 00-1.92-2c-.91-.51-2.11-1.21-3.61-2.09a35 35 0 01-3.85-2.19l-13.73-7.25a75.93 75.93 0 01-9.07-5.71 19.61 19.61 0 01-5.35-5.91 23 23 0 01-2.56-7.9 79.19 79.19 0 01-.69-11.43V28.16q0-9 1.38-13.73a15.69 15.69 0 015.09-7.8 15.8 15.8 0 014.15-2.85 21.59 21.59 0 015.89-1.65 87.46 87.46 0 019.25-.77q5.65-.21 14-.22c4.93 0 9 .12 12.36.34a52.84 52.84 0 018.31 1.11 14.32 14.32 0 015.43 2.33 20.41 20.41 0 013.93 4 21.58 21.58 0 012.31 3.67A17.3 17.3 0 01398.2 17a58.26 58.26 0 01.69 6.1q.23 3.54.23 8.6v20.9h-32.57V35.24q0-5.49-1-7.59a3.57 3.57 0 00-3.55-2.09 3.8 3.8 0 00-3.72 2q-1 2-1 7.69V46a9.42 9.42 0 001.38 5.6c.91 1.24 2.91 2.67 6 4.28l13.79 7.25a89.69 89.69 0 0110.91 6.37 22.58 22.58 0 016.2 6.36 21.51 21.51 0 012.87 8.35 87.81 87.81 0 01.69 12.08V120q0 4.83-.23 8.12a48 48 0 01-.69 5.6 20.63 20.63 0 01-1.28 4.17 16 16 0 01-2.19 3.63 15.51 15.51 0 01-10.28 6.26 70.94 70.94 0 01-9.7 1.09q-5.89.33-14.9.33-7.39 0-12.24-.33a49.7 49.7 0 01-8.09-1.11 19 19 0 01-5.43-2.11 16.1 16.1 0 01-4-3.55 15.63 15.63 0 01-2.89-3.66 15 15 0 01-1.5-4.89 74.87 74.87 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V88h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21zM421.85 1.8h40l19.41 146.74h-30.5l-2.31-29h-13.2l-2.31 29h-30.5zm24.72 93.72l-1.85-22.88-.72-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.39 43.34l-1.85 22.88zM687.25 85.36h32.57v23.1q0 8.58-.12 13.88a61.24 61.24 0 01-.7 8.66 22.29 22.29 0 01-1.5 5.32 25.79 25.79 0 01-2.54 4.22 14.9 14.9 0 01-3.81 3.67 18.88 18.88 0 01-5.66 2.33 48.57 48.57 0 01-8.55 1.22q-5.09.33-12.47.33-9.24 0-15.37-.44a62.17 62.17 0 01-10.1-1.46 17.24 17.24 0 01-6.47-2.86 14.57 14.57 0 01-4-5 20.42 20.42 0 01-1.5-3.63 28.69 28.69 0 01-.93-5.28q-.35-3.41-.46-8.91t-.2-14.51V44.66q0-10.56.11-16.72c.08-4.1.23-7.37.46-9.79a19.38 19.38 0 011.16-5.5 22.5 22.5 0 012.19-3.85 23.43 23.43 0 014.16-4.51 16 16 0 015.32-2.64A36.83 36.83 0 01667 .33Q672 0 679.86 0T693 .11a85.75 85.75 0 018.78.56 27.46 27.46 0 015.66 1.22 16.32 16.32 0 014 2.1 15.31 15.31 0 014.74 5 20.92 20.92 0 012.66 6.77q.45 2.67.69 6t.23 10.37v19.35h-32.51V34.76q0-6.37-.93-8.36c-.61-1.32-1.92-2-3.92-2s-3 .73-3.58 2.19-.81 4.68-.81 9.64v80.93a6 6 0 00.11 1.42 4.29 4.29 0 01.12 1.1q.46 3.94 4.39 3.94a3.59 3.59 0 003.69-2.2q.93-2.19.93-9zM742.25.66h40l19.4 146.74h-30.53l-2.31-29h-13.16l-2.31 29h-30.5zM767 94.38l-1.88-22.88-.7-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.39 43.34l-1.85 22.88zM806.93.66h34.65L856 1c3.47.08 6.2.22 8.21.44a15.09 15.09 0 014.62 1.1 37.16 37.16 0 013.69 2.09 15.35 15.35 0 016.81 8.47q2 5.61 2 16.17v15.4a102.5 102.5 0 01-.69 13 31.32 31.32 0 01-2.31 8.8 13.11 13.11 0 01-4.51 5.5 22.54 22.54 0 01-7 3.08 23.37 23.37 0 016.7 3.19 16.8 16.8 0 014.38 5 24.86 24.86 0 011.79 3.76 21.18 21.18 0 011 4.62q.35 2.76.46 6.93t.12 10.78v38.07h-32.53v-44c0-3.66 0-6.49-.12-8.47a10.61 10.61 0 00-.81-4.29 2.88 2.88 0 00-2.3-1.54 38.33 38.33 0 00-4.63-.22h-1.38v58.52h-32.57zM841.81 62q4.62 0 5.77-1.86t1.16-8.86v-15.7q0-3.94-.23-6.13a6 6 0 00-1.16-3.28 4 4 0 00-2.77-1.31 47.13 47.13 0 00-5.08-.22V62zM901.84 24.64h-16.17V.66h64.91v24h-16.17V147.4h-32.57zM963.24.66h40l19.41 146.74h-30.53l-2.31-29h-13.17l-2.31 29h-30.49zM988 94.38l-1.89-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.38 43.34l-1.85 22.88z" />\n                                    <path fill="#bd322f" d="M498.66 1.14h129.45v146.74H498.66z" />\n                                    <path fill="#fff"\n                                        d="M527.11 28.16H547q6.56 0 10.65.14a49.07 49.07 0 016.49.55 10.52 10.52 0 013.73 1.25 14 14 0 012.62 2.23 11.34 11.34 0 011.9 2.71 14.44 14.44 0 011.17 3.61 36.85 36.85 0 01.58 5.42c.1 2.18.15 4.85.15 8V97.8c0 3.15 0 5.76-.15 7.85a36 36 0 01-.58 5.28 11 11 0 01-1.24 3.48 12.89 12.89 0 01-2.12 2.57 12.26 12.26 0 01-3.5 2.22 15.38 15.38 0 01-4.38 1.25c-.68.1-1.29.17-1.82.21s-1.37.07-2.49.07-2.75 0-4.88.07-5.11.07-8.91.07h-17.11zm26.56 22.65V48a15.29 15.29 0 00-.07-1.59 7.49 7.49 0 00-.15-.84 2.53 2.53 0 00-.22-.55c-.49-1.12-1.7-1.67-3.65-1.67h-.8a5 5 0 00-1.1.14v62.27h1.61a11.22 11.22 0 002.48-.21 2 2 0 001.32-1.25 10.25 10.25 0 00.51-3.34c0-1.53.07-3.73.07-6.6zM579.08 28.16h20.58v92.71h-20.58z" />\n                                </g>\n                            </g>\n                        </svg>\n\n                        <span v-else-if="locale === \'ar\'">البروفيسور</span>\n\n                        <svg v-else xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 38">\n                            <g fill-rule="nonzero" fill="none">\n                                <path fill="#BC2F2C" d="M120.8.9h38v36.5h-38z" />\n                                <path\n                                    d="M162.5 1h11c.7 0 1.3 0 1.8.1.4 0 .8.1 1 .1.2.1.5.1.8.2.6.2 1.1.5 1.5.9.4.4.8.9 1 1.5.2.4.3 1.1.4 1.9.1.8.1 2.1.1 4V19.1c0 .6-.1 1.1-.1 1.6-.1.4-.1.8-.2 1.1-.1.3-.2.6-.4.8-.4.8-.9 1.3-1.5 1.7-.6.3-1.5.6-2.7.6-.3.1-1.9.1-4.9.2v12h-7.6V1h-.2zm8.2 18.1c.7 0 1.2-.1 1.4-.4.2-.3.3-1 .3-2v-7c0-.6 0-1.1-.1-1.5 0-.4-.1-.6-.2-.8-.1-.2-.3-.3-.5-.4-.2-.1-.5-.1-.8-.1h-.6v12.2h.5zM199.2 1h11c.7 0 1.3 0 1.8.1.4 0 .8.1 1 .1.2.1.5.1.8.2.6.2 1.1.5 1.5.9.4.4.8.9 1 1.5.2.4.3 1.1.4 1.9.1.8.1 2.1.1 4V19.1c0 .6-.1 1.1-.1 1.6-.1.4-.1.8-.2 1.1-.1.3-.2.6-.4.8-.4.8-.9 1.3-1.5 1.7-.6.3-1.5.6-2.7.6-.3.1-1.9.1-4.9.2v12h-7.6V1h-.2zm8.2 18.1c.7 0 1.2-.1 1.4-.4.2-.3.3-1 .3-2v-7c0-.6 0-1.1-.1-1.5 0-.4-.1-.6-.2-.8-.1-.2-.3-.3-.5-.4-.2-.1-.5-.1-.8-.1h-.6v12.2h.5zM218.2 1H230v5.9h-4.2v7.4h4.2v5.9h-4.2v10.9h4.2v6h-11.9V1h.1zm-211 .1v29.5h5.2V37H0V1.1h7.2zm231.9 0v29.5h5.2V37H232V1.1h7.1zM25.3 36.9l-.6-5.2h-4.5l-.5 5.2h-6.5L17.9 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2L22.5 9.9l-1.6 15.6zm37.7-4.4v9.5c0 4.5-2.2 6.7-6.7 6.7h-4.4c-4.5 0-6.7-2.2-6.7-6.7V7.4c0-4.5 2.2-6.7 6.7-6.7h4.3c4.5 0 6.7 2.2 6.7 6.7v8.4h-7.1V8.2c0-.9-.4-1.3-1.3-1.3h-.8c-.9 0-1.3.4-1.3 1.3v21.6c0 .9.4 1.3 1.3 1.3h.9c.9 0 1.3-.4 1.3-1.3v-8.7h7.1zm13.2 15.8l-.6-5.2h-4.5l-.5 5.2h-6.5L64.4 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2L69 9.8l-1.6 15.7zM97.3 24v6.6c0 4.5-2.2 6.7-6.7 6.7h-4c-4.5 0-6.7-2.2-6.7-6.7V23h7v7c0 .9.4 1.3 1.3 1.3h.7c.9 0 1.3-.4 1.3-1.3v-4.3c0-1.1-.4-1.7-1.2-2.3l-6.1-4.6c-2.2-1.6-2.9-3.1-2.9-5.6V7.5C80 3 82.2.8 86.7.8h3.9c4.5 0 6.7 2.2 6.7 6.7V14h-7V8.1c0-.9-.4-1.3-1.3-1.3h-.6c-.9 0-1.3.4-1.3 1.3v3.4c0 1.1.4 1.7 1.2 2.3l6.1 4.6c2.2 1.5 2.9 2.9 2.9 5.6zm12.9 12.9l-.6-5.2h-4.5l-.5 5.2h-6.5L102.8 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2l-1.6-15.6-1.6 15.6zm85.5 11.4l-.6-5.2h-4.5l-.5 5.2h-6.5L183.9 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2l-1.6-15.6-1.6 15.6zM129.8 7.7h7.1c.6 0 1.1.1 1.5.1.4.1.7.2.9.3.2.1.4.3.6.5.2.2.3.4.4.7.1.2.2.5.3.9.1.4.1.8.1 1.3v15.1c0 .5-.1.9-.1 1.3-.1.4-.2.6-.3.9-.1.2-.3.4-.5.6-.2.2-.5.4-.8.5-.3.2-.7.3-1 .3-.2 0-.3 0-.4.1H129.8V7.7zm6.3 5.6v-.7-.4-.2s0-.1-.1-.1c-.1-.3-.4-.4-.9-.4h-.5v15.3h.4c.3 0 .4 0 .6-.1.1 0 .2-.1.3-.3.1-.2.1-.4.1-.8V13.3h.1zm6.1-5.6h7.5v3.7H147V16h2.7v3.7H147v6.9h2.7v3.8h-7.5V7.7z"\n                                    fill="#FFF" />\n                            </g>\n                        </svg>\n\n                    </a>\n                    <ui-button ref="burger" class="ui-header__button__menu" type="menu" :has-icon="true" label="Menu"\n                        @onClick="onBurgerClick" />\n                </div>\n\n                <div class="ui-header__template ui-header__template--cancel-submit" key="2"\n                    v-if="headerState === \'cancelSubmit\'">\n                    <ui-button ref="cancel" type="close-light" :has-icon="true" label="Back"\n                        @onClick="onButtonClick(\'cancel\')" />\n                    <ui-button ref="submit" type="submit-light" :has-icon="true" label="Back"\n                        @onClick="onButtonClick(\'submit\')" />\n                </div>\n\n                <div class="ui-header__template ui-header__template--cancel" key="3" v-if="headerState === \'cancel\'">\n                    <a ref="logo" class="ui-header__logo" href="#">\n\n                        <svg v-if="locale === \'de\'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 954.49 148.06">\n                            <g id="Layer_2" data-name="Layer 2">\n                                <g id="MAIN">\n                                    <path fill="#fff"\n                                        d="M0 .66h32.57v53.9h9.24V.66h32.57V147.4H41.81V78.54h-9.24v68.86H0zM99.21.66h40l19.37 146.74h-30.49l-2.31-29h-13.17l-2.31 29H79.81zm24.72 93.72l-1.85-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.39 43.34l-1.84 22.88zM204 .66h32.58V120a83.38 83.38 0 01-.35 8.58 23.35 23.35 0 01-.92 4.84c-.39 1.1-.89 2.39-1.51 3.85a18.58 18.58 0 01-3.81 5.39 15.14 15.14 0 01-5.89 3.3 40 40 0 01-9.24 1.65q-5.53.44-13.86.44-9.24 0-15.24-.33a53.72 53.72 0 01-9.94-1.32 15.84 15.84 0 01-6.12-2.75 16.88 16.88 0 01-3.81-4.4 18 18 0 01-3.12-9.24c-.23-2.2-.38-5.2-.46-9s-.12-9.16-.12-16.06V.66h32.57V112c0 2.2 0 3.88.12 5s.15 2.09.23 2.75a7.3 7.3 0 00.23 1.31 5.4 5.4 0 00.35.77 4.08 4.08 0 003.7 1.76q3 0 3.81-2c.54-1.31.8-4.53.8-9.66zM285.56 97.07a48.55 48.55 0 00-.23-5.27 10.22 10.22 0 00-.79-3.18 4.41 4.41 0 00-1.92-2c-.91-.51-2.11-1.21-3.62-2.09a37.88 37.88 0 01-3.84-2.2l-13.73-7.24a77 77 0 01-9.08-5.71 19.69 19.69 0 01-5.35-5.91 23.08 23.08 0 01-2.56-7.91 79 79 0 01-.69-11.42V27q0-9 1.38-13.72a15.7 15.7 0 015.08-7.8 16 16 0 014.16-2.85A20.91 20.91 0 01260.26 1a87.48 87.48 0 019.24-.78q5.65-.21 14-.22c4.93 0 9 .11 12.36.33a55.32 55.32 0 018.31 1.11 14.55 14.55 0 015.43 2.33 20.2 20.2 0 013.93 4 21.5 21.5 0 012.31 3.66 17.26 17.26 0 011.38 4.45 55.53 55.53 0 01.7 6.09q.23 3.56.23 8.61v20.9h-32.59V34.1q0-5.49-1-7.59a3.58 3.58 0 00-3.49-2.09 3.8 3.8 0 00-3.72 2c-.68 1.32-1 3.88-1 7.68v10.74a9.43 9.43 0 001.38 5.61c.91 1.24 2.91 2.67 6 4.28L297.45 62a91.82 91.82 0 0110.92 6.37 22.74 22.74 0 016.2 6.37 21.45 21.45 0 012.87 8.35 87.65 87.65 0 01.69 12.07v23.72q0 4.84-.23 8.13a46 46 0 01-.7 5.6 20.63 20.63 0 01-1.27 4.17 16.11 16.11 0 01-2.19 3.62 17.45 17.45 0 01-4.16 4 17.21 17.21 0 01-6.12 2.3 69.38 69.38 0 01-9.7 1.1q-5.89.33-14.9.33-7.39 0-12.24-.33a50.66 50.66 0 01-8.09-1.11 18.93 18.93 0 01-5.43-2.11 16.3 16.3 0 01-4-3.55 15.61 15.61 0 01-2.89-3.67 14.88 14.88 0 01-1.5-4.88 75.14 75.14 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V86.9h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21zM597.94 136.62a22 22 0 01-9.5 8.91q-5.57 2.53-16.22 2.53-10.2 0-15.53-1.54a16.87 16.87 0 01-8.8-5.94 17.6 17.6 0 01-2.32-3.85 23.79 23.79 0 01-1.51-5.72 68.65 68.65 0 01-.69-9.35q-.12-5.72-.12-15V38.5q0-7.7.12-12.21t.23-7.29a17.86 17.86 0 01.58-4.29c.3-1 .69-2.12 1.15-3.3q3.24-8.1 12.67-10.09a56.33 56.33 0 019.7-1Q574.9 0 584.6 0q6.75 0 11.28.33a48.66 48.66 0 017.68 1.11 17.82 17.82 0 015.23 2.11 20.66 20.66 0 014 3.33 17.58 17.58 0 014.07 8.44 84.55 84.55 0 011 15.48v20.68h-32.57V34.1q0-5.72-.92-7.7t-3.93-2a4.19 4.19 0 00-4.16 3.07 5.74 5.74 0 00-.34.77 4.1 4.1 0 00-.12 1.21v81.45q0 6.6.93 8.68t3.92 2.08a4.18 4.18 0 004.16-3.08 2.79 2.79 0 00.46-1.65V95.26h-4.62l-.23-24h37.42v76.14H604zM625.76.66h50.59v24h-18v29.9h18v24h-18V123h18v24.4h-50.59zM683.42.66H716V123h19.4v24.4h-52zM740.91.66h31.42q10.39 0 16.86.22a79.46 79.46 0 0110.28.88 16.36 16.36 0 015.89 2 22.38 22.38 0 014.16 3.52 18.25 18.25 0 013 4.29 23.15 23.15 0 011.85 5.72 57 57 0 01.92 8.58q.23 5.17.23 12.65v72.38q0 7.49-.23 12.43a55.68 55.68 0 01-.92 8.36 17.29 17.29 0 01-2 5.5 20.19 20.19 0 01-3.35 4.07 19.34 19.34 0 01-5.55 3.52 24.46 24.46 0 01-6.93 2c-1.08.15-2 .26-2.89.33s-2.15.11-3.92.11-4.36 0-7.74.11-8.09.11-14.09.11h-27zm42 35.86V32a22.71 22.71 0 00-.11-2.53c-.08-.58-.16-1-.23-1.32a4.88 4.88 0 00-.35-.88c-.77-1.76-2.7-2.64-5.77-2.64h-1.27a7.89 7.89 0 00-1.74.22v98.56H776a17.9 17.9 0 003.93-.33 3 3 0 002.08-2 16.13 16.13 0 00.81-5.28q.1-3.63.11-10.45zM823.19.66h50.59v24h-18v29.9h18v24h-18V123h18v24.4h-50.59zM921.92 97.07a48.55 48.55 0 00-.23-5.27 10.22 10.22 0 00-.79-3.18 4.41 4.41 0 00-1.92-2l-3.62-2.09a37.88 37.88 0 01-3.84-2.2l-13.73-7.24a75.93 75.93 0 01-9.07-5.71 19.59 19.59 0 01-5.36-5.93 23.08 23.08 0 01-2.56-7.91 79 79 0 01-.69-11.42V27q0-9 1.38-13.72a15.65 15.65 0 015.09-7.8 15.8 15.8 0 014.15-2.85A21 21 0 01896.62 1a87.48 87.48 0 019.24-.77q5.67-.21 14-.22 7.39 0 12.36.33a55.32 55.32 0 018.31 1.11 14.55 14.55 0 015.43 2.33 19.93 19.93 0 013.93 4 21.9 21.9 0 012.31 3.66 17.65 17.65 0 011.39 4.45 58.35 58.35 0 01.69 6.09q.22 3.56.23 8.61v20.9h-32.59V34.1q0-5.49-1-7.59a3.59 3.59 0 00-3.5-2.09 3.8 3.8 0 00-3.72 2c-.68 1.32-1 3.88-1 7.68v10.74a9.43 9.43 0 001.38 5.61q1.38 1.86 6 4.28L933.82 62a91.58 91.58 0 0110.91 6.37 22.61 22.61 0 016.2 6.37 21.51 21.51 0 012.87 8.35 87.65 87.65 0 01.69 12.07v23.72q0 4.84-.23 8.13a48.28 48.28 0 01-.69 5.6 22 22 0 01-1.27 4.17 16.54 16.54 0 01-2.2 3.62 15.41 15.41 0 01-10.28 6.26 69.2 69.2 0 01-9.7 1.1q-5.89.33-14.9.33-7.4 0-12.24-.33a50.82 50.82 0 01-8.09-1.11 18.93 18.93 0 01-5.43-2.11 16.3 16.3 0 01-4-3.55 15.88 15.88 0 01-2.89-3.67 14.88 14.88 0 01-1.5-4.88 75.14 75.14 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V86.9h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21z" />\n                                    <path fill="#bd322f" d="M336.51.34h188v146.74h-188z" />\n                                    <path fill="#fff"\n                                        d="M363 27.36h19.85q6.57 0 10.66.14a49.07 49.07 0 016.49.55 10.39 10.39 0 013.72 1.25 14.06 14.06 0 012.63 2.23 11.34 11.34 0 011.9 2.71 15.31 15.31 0 011.17 3.61 36.85 36.85 0 01.58 5.42c.1 2.18.14 4.85.14 8V97c0 3.15 0 5.76-.14 7.85a36 36 0 01-.58 5.28 11.23 11.23 0 01-1.24 3.48 13.24 13.24 0 01-2.12 2.57 12.4 12.4 0 01-3.5 2.22 15.38 15.38 0 01-4.38 1.25q-1 .15-1.83.21c-.53 0-1.36.07-2.48.07s-2.75 0-4.89.07-5.1.07-8.9.07H363zM389.6 50v-2.84a12.52 12.52 0 00-.08-1.59c0-.37-.1-.65-.14-.84a3.16 3.16 0 00-.22-.55c-.49-1.12-1.7-1.67-3.65-1.67h-.8a4.88 4.88 0 00-1.1.14v62.27h1.61a11.22 11.22 0 002.48-.21 1.93 1.93 0 001.31-1.25 10.25 10.25 0 00.51-3.34q.08-2.3.08-6.6zM415 27.36h32v15.15h-11.4v18.9H447v15.15h-11.4v28.08H447v15.43h-32zM477.4 88.27a29.17 29.17 0 00-.15-3.33 6.4 6.4 0 00-.5-2 2.75 2.75 0 00-1.21-1.25l-2.28-1.32a20.85 20.85 0 01-2.43-1.37l-8.67-4.58a47.4 47.4 0 01-5.74-3.6A12.25 12.25 0 01453 67a14.51 14.51 0 01-1.62-5 50.12 50.12 0 01-.44-7.22V44a32.3 32.3 0 01.88-8.67 9.86 9.86 0 013.21-4.93 9.85 9.85 0 012.62-1.8 13.25 13.25 0 013.73-1 50.54 50.54 0 015.83-.49q3.58-.13 8.83-.14 4.68 0 7.81.21a34.76 34.76 0 015.26.7 9.12 9.12 0 013.43 1.48 12.64 12.64 0 012.48 2.52 13.71 13.71 0 011.46 2.31 10.55 10.55 0 01.87 2.81 33.86 33.86 0 01.44 3.85c.1 1.5.15 3.31.15 5.44v13.18H477.4v-11a12.43 12.43 0 00-.64-4.8 2.27 2.27 0 00-2.21-1.32 2.41 2.41 0 00-2.35 1.25 12.09 12.09 0 00-.64 4.85v6.8a5.94 5.94 0 00.87 3.54 11.6 11.6 0 003.77 2.71l8.71 4.58a57.24 57.24 0 016.9 4 14.18 14.18 0 013.92 4 13.48 13.48 0 011.81 5.28 55.44 55.44 0 01.44 7.63v15c0 2-.05 3.75-.15 5.14a28.39 28.39 0 01-.44 3.54 12.69 12.69 0 01-.8 2.63 10 10 0 01-1.39 2.29 9.73 9.73 0 01-6.49 4 45.5 45.5 0 01-6.13.69q-3.72.21-9.42.21c-3.11 0-5.69-.08-7.73-.21a33.76 33.76 0 01-5.11-.7 12.21 12.21 0 01-3.43-1.34 10.25 10.25 0 01-2.55-2.24 9.81 9.81 0 01-1.83-2.32 9.42 9.42 0 01-.94-3.08 44.83 44.83 0 01-.44-4.83q-.15-2.94-.15-7.38V81.84h20.58v19.46a4 4 0 00.29 1.53 2.73 2.73 0 002.7 2.23 2.52 2.52 0 002.7-2.36 5.67 5.67 0 00.15-1.18V88.27z" />\n                                </g>\n                            </g>\n                        </svg>\n\n                        <svg v-else-if="locale === \'it\'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1022.61 149.2">\n                            <g id="Layer_2" data-name="Layer 2">\n                                <g id="MAIN">\n                                    <path fill="#fff"\n                                        d="M0 1.8h32.57v122.32H52v24.42H0zM74 1.8h40l19.41 146.74h-30.52l-2.31-29H87.41l-2.31 29H54.61zm24.73 93.72l-1.85-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.39 43.34l-1.84 22.86zM207 86.5h32.58v23.1q0 8.58-.12 13.88a61.24 61.24 0 01-.69 8.63 22.39 22.39 0 01-1.5 5.33 25.61 25.61 0 01-2.55 4.22 14.54 14.54 0 01-3.81 3.66 18.77 18.77 0 01-5.66 2.33 47.66 47.66 0 01-8.54 1.22q-5.08.33-12.48.33-9.24 0-15.36-.44a62.17 62.17 0 01-10.16-1.43 17.16 17.16 0 01-6.47-2.86 14.57 14.57 0 01-4-4.95 20.42 20.42 0 01-1.5-3.63 27.86 27.86 0 01-.93-5.28c-.23-2.27-.39-5.24-.46-8.91s-.12-8.5-.12-14.52V45.8q0-10.56.12-16.72c.07-4.1.23-7.37.46-9.79a18.71 18.71 0 011.16-5.5 21.85 21.85 0 012.19-3.85 23.12 23.12 0 014.16-4.51 15.89 15.89 0 015.31-2.64 37 37 0 018.2-1.32q5-.33 12.82-.33c5.24 0 9.62 0 13.17.12a83.34 83.34 0 018.78.55A29 29 0 01227.26 3a16 16 0 014 2.11 15 15 0 014.73 5 20.35 20.35 0 012.66 6.76 58 58 0 01.69 6q.24 3.33.24 10.36v19.39H207V35.9q0-6.37-.92-8.36t-3.93-2a3.41 3.41 0 00-3.58 2.19c-.54 1.46-.81 4.68-.81 9.64v80.93a6 6 0 00.12 1.43 4.16 4.16 0 01.12 1.09q.45 3.94 4.38 3.94a3.61 3.61 0 003.7-2.2q.91-2.19.92-9zM262 1.8h40l19.4 146.74h-30.48l-2.31-29h-13.17l-2.31 29h-30.49zm24.72 93.72l-1.85-22.88-.69-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.38 43.34l-1.85 22.88zM366.55 98.21a48.68 48.68 0 00-.23-5.27 10.3 10.3 0 00-.79-3.18 4.46 4.46 0 00-1.92-2c-.91-.51-2.11-1.21-3.61-2.09a35 35 0 01-3.85-2.19l-13.73-7.25a75.93 75.93 0 01-9.07-5.71 19.61 19.61 0 01-5.35-5.91 23 23 0 01-2.56-7.9 79.19 79.19 0 01-.69-11.43V28.16q0-9 1.38-13.73a15.69 15.69 0 015.09-7.8 15.8 15.8 0 014.15-2.85 21.59 21.59 0 015.89-1.65 87.46 87.46 0 019.25-.77q5.65-.21 14-.22c4.93 0 9 .12 12.36.34a52.84 52.84 0 018.31 1.11 14.32 14.32 0 015.43 2.33 20.41 20.41 0 013.93 4 21.58 21.58 0 012.31 3.67A17.3 17.3 0 01398.2 17a58.26 58.26 0 01.69 6.1q.23 3.54.23 8.6v20.9h-32.57V35.24q0-5.49-1-7.59a3.57 3.57 0 00-3.55-2.09 3.8 3.8 0 00-3.72 2q-1 2-1 7.69V46a9.42 9.42 0 001.38 5.6c.91 1.24 2.91 2.67 6 4.28l13.79 7.25a89.69 89.69 0 0110.91 6.37 22.58 22.58 0 016.2 6.36 21.51 21.51 0 012.87 8.35 87.81 87.81 0 01.69 12.08V120q0 4.83-.23 8.12a48 48 0 01-.69 5.6 20.63 20.63 0 01-1.28 4.17 16 16 0 01-2.19 3.63 15.51 15.51 0 01-10.28 6.26 70.94 70.94 0 01-9.7 1.09q-5.89.33-14.9.33-7.39 0-12.24-.33a49.7 49.7 0 01-8.09-1.11 19 19 0 01-5.43-2.11 16.1 16.1 0 01-4-3.55 15.63 15.63 0 01-2.89-3.66 15 15 0 01-1.5-4.89 74.87 74.87 0 01-.69-7.64c-.16-3.1-.23-7-.23-11.69V88h32.57v30.8a6.14 6.14 0 00.46 2.42q1.13 3.52 4.27 3.52 3.6 0 4.28-3.73a9.55 9.55 0 00.23-1.87v-21zM421.85 1.8h40l19.41 146.74h-30.5l-2.31-29h-13.2l-2.31 29h-30.5zm24.72 93.72l-1.85-22.88-.72-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.39 43.34l-1.85 22.88zM687.25 85.36h32.57v23.1q0 8.58-.12 13.88a61.24 61.24 0 01-.7 8.66 22.29 22.29 0 01-1.5 5.32 25.79 25.79 0 01-2.54 4.22 14.9 14.9 0 01-3.81 3.67 18.88 18.88 0 01-5.66 2.33 48.57 48.57 0 01-8.55 1.22q-5.09.33-12.47.33-9.24 0-15.37-.44a62.17 62.17 0 01-10.1-1.46 17.24 17.24 0 01-6.47-2.86 14.57 14.57 0 01-4-5 20.42 20.42 0 01-1.5-3.63 28.69 28.69 0 01-.93-5.28q-.35-3.41-.46-8.91t-.2-14.51V44.66q0-10.56.11-16.72c.08-4.1.23-7.37.46-9.79a19.38 19.38 0 011.16-5.5 22.5 22.5 0 012.19-3.85 23.43 23.43 0 014.16-4.51 16 16 0 015.32-2.64A36.83 36.83 0 01667 .33Q672 0 679.86 0T693 .11a85.75 85.75 0 018.78.56 27.46 27.46 0 015.66 1.22 16.32 16.32 0 014 2.1 15.31 15.31 0 014.74 5 20.92 20.92 0 012.66 6.77q.45 2.67.69 6t.23 10.37v19.35h-32.51V34.76q0-6.37-.93-8.36c-.61-1.32-1.92-2-3.92-2s-3 .73-3.58 2.19-.81 4.68-.81 9.64v80.93a6 6 0 00.11 1.42 4.29 4.29 0 01.12 1.1q.46 3.94 4.39 3.94a3.59 3.59 0 003.69-2.2q.93-2.19.93-9zM742.25.66h40l19.4 146.74h-30.53l-2.31-29h-13.16l-2.31 29h-30.5zM767 94.38l-1.88-22.88-.7-17.38q-.69-10.77-.69-16.94v-9h-3q0 14.75-1.39 43.34l-1.85 22.88zM806.93.66h34.65L856 1c3.47.08 6.2.22 8.21.44a15.09 15.09 0 014.62 1.1 37.16 37.16 0 013.69 2.09 15.35 15.35 0 016.81 8.47q2 5.61 2 16.17v15.4a102.5 102.5 0 01-.69 13 31.32 31.32 0 01-2.31 8.8 13.11 13.11 0 01-4.51 5.5 22.54 22.54 0 01-7 3.08 23.37 23.37 0 016.7 3.19 16.8 16.8 0 014.38 5 24.86 24.86 0 011.79 3.76 21.18 21.18 0 011 4.62q.35 2.76.46 6.93t.12 10.78v38.07h-32.53v-44c0-3.66 0-6.49-.12-8.47a10.61 10.61 0 00-.81-4.29 2.88 2.88 0 00-2.3-1.54 38.33 38.33 0 00-4.63-.22h-1.38v58.52h-32.57zM841.81 62q4.62 0 5.77-1.86t1.16-8.86v-15.7q0-3.94-.23-6.13a6 6 0 00-1.16-3.28 4 4 0 00-2.77-1.31 47.13 47.13 0 00-5.08-.22V62zM901.84 24.64h-16.17V.66h64.91v24h-16.17V147.4h-32.57zM963.24.66h40l19.41 146.74h-30.53l-2.31-29h-13.17l-2.31 29h-30.49zM988 94.38l-1.89-22.88-.69-17.38q-.7-10.77-.7-16.94v-9h-3q0 14.75-1.38 43.34l-1.85 22.88z" />\n                                    <path fill="#bd322f" d="M498.66 1.14h129.45v146.74H498.66z" />\n                                    <path fill="#fff"\n                                        d="M527.11 28.16H547q6.56 0 10.65.14a49.07 49.07 0 016.49.55 10.52 10.52 0 013.73 1.25 14 14 0 012.62 2.23 11.34 11.34 0 011.9 2.71 14.44 14.44 0 011.17 3.61 36.85 36.85 0 01.58 5.42c.1 2.18.15 4.85.15 8V97.8c0 3.15 0 5.76-.15 7.85a36 36 0 01-.58 5.28 11 11 0 01-1.24 3.48 12.89 12.89 0 01-2.12 2.57 12.26 12.26 0 01-3.5 2.22 15.38 15.38 0 01-4.38 1.25c-.68.1-1.29.17-1.82.21s-1.37.07-2.49.07-2.75 0-4.88.07-5.11.07-8.91.07h-17.11zm26.56 22.65V48a15.29 15.29 0 00-.07-1.59 7.49 7.49 0 00-.15-.84 2.53 2.53 0 00-.22-.55c-.49-1.12-1.7-1.67-3.65-1.67h-.8a5 5 0 00-1.1.14v62.27h1.61a11.22 11.22 0 002.48-.21 2 2 0 001.32-1.25 10.25 10.25 0 00.51-3.34c0-1.53.07-3.73.07-6.6zM579.08 28.16h20.58v92.71h-20.58z" />\n                                </g>\n                            </g>\n                        </svg>\n\n                        <span v-else-if="locale === \'ar\'">البروفيسور</span>\n\n                        <svg v-else xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 38">\n                            <g fill-rule="nonzero" fill="none">\n                                <path fill="#BC2F2C" d="M120.8.9h38v36.5h-38z" />\n                                <path\n                                    d="M162.5 1h11c.7 0 1.3 0 1.8.1.4 0 .8.1 1 .1.2.1.5.1.8.2.6.2 1.1.5 1.5.9.4.4.8.9 1 1.5.2.4.3 1.1.4 1.9.1.8.1 2.1.1 4V19.1c0 .6-.1 1.1-.1 1.6-.1.4-.1.8-.2 1.1-.1.3-.2.6-.4.8-.4.8-.9 1.3-1.5 1.7-.6.3-1.5.6-2.7.6-.3.1-1.9.1-4.9.2v12h-7.6V1h-.2zm8.2 18.1c.7 0 1.2-.1 1.4-.4.2-.3.3-1 .3-2v-7c0-.6 0-1.1-.1-1.5 0-.4-.1-.6-.2-.8-.1-.2-.3-.3-.5-.4-.2-.1-.5-.1-.8-.1h-.6v12.2h.5zM199.2 1h11c.7 0 1.3 0 1.8.1.4 0 .8.1 1 .1.2.1.5.1.8.2.6.2 1.1.5 1.5.9.4.4.8.9 1 1.5.2.4.3 1.1.4 1.9.1.8.1 2.1.1 4V19.1c0 .6-.1 1.1-.1 1.6-.1.4-.1.8-.2 1.1-.1.3-.2.6-.4.8-.4.8-.9 1.3-1.5 1.7-.6.3-1.5.6-2.7.6-.3.1-1.9.1-4.9.2v12h-7.6V1h-.2zm8.2 18.1c.7 0 1.2-.1 1.4-.4.2-.3.3-1 .3-2v-7c0-.6 0-1.1-.1-1.5 0-.4-.1-.6-.2-.8-.1-.2-.3-.3-.5-.4-.2-.1-.5-.1-.8-.1h-.6v12.2h.5zM218.2 1H230v5.9h-4.2v7.4h4.2v5.9h-4.2v10.9h4.2v6h-11.9V1h.1zm-211 .1v29.5h5.2V37H0V1.1h7.2zm231.9 0v29.5h5.2V37H232V1.1h7.1zM25.3 36.9l-.6-5.2h-4.5l-.5 5.2h-6.5L17.9 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2L22.5 9.9l-1.6 15.6zm37.7-4.4v9.5c0 4.5-2.2 6.7-6.7 6.7h-4.4c-4.5 0-6.7-2.2-6.7-6.7V7.4c0-4.5 2.2-6.7 6.7-6.7h4.3c4.5 0 6.7 2.2 6.7 6.7v8.4h-7.1V8.2c0-.9-.4-1.3-1.3-1.3h-.8c-.9 0-1.3.4-1.3 1.3v21.6c0 .9.4 1.3 1.3 1.3h.9c.9 0 1.3-.4 1.3-1.3v-8.7h7.1zm13.2 15.8l-.6-5.2h-4.5l-.5 5.2h-6.5L64.4 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2L69 9.8l-1.6 15.7zM97.3 24v6.6c0 4.5-2.2 6.7-6.7 6.7h-4c-4.5 0-6.7-2.2-6.7-6.7V23h7v7c0 .9.4 1.3 1.3 1.3h.7c.9 0 1.3-.4 1.3-1.3v-4.3c0-1.1-.4-1.7-1.2-2.3l-6.1-4.6c-2.2-1.6-2.9-3.1-2.9-5.6V7.5C80 3 82.2.8 86.7.8h3.9c4.5 0 6.7 2.2 6.7 6.7V14h-7V8.1c0-.9-.4-1.3-1.3-1.3h-.6c-.9 0-1.3.4-1.3 1.3v3.4c0 1.1.4 1.7 1.2 2.3l6.1 4.6c2.2 1.5 2.9 2.9 2.9 5.6zm12.9 12.9l-.6-5.2h-4.5l-.5 5.2h-6.5L102.8 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2l-1.6-15.6-1.6 15.6zm85.5 11.4l-.6-5.2h-4.5l-.5 5.2h-6.5L183.9 1h9.8l4.7 35.9h-7.1zm-4.4-11.4h3.2l-1.6-15.6-1.6 15.6zM129.8 7.7h7.1c.6 0 1.1.1 1.5.1.4.1.7.2.9.3.2.1.4.3.6.5.2.2.3.4.4.7.1.2.2.5.3.9.1.4.1.8.1 1.3v15.1c0 .5-.1.9-.1 1.3-.1.4-.2.6-.3.9-.1.2-.3.4-.5.6-.2.2-.5.4-.8.5-.3.2-.7.3-1 .3-.2 0-.3 0-.4.1H129.8V7.7zm6.3 5.6v-.7-.4-.2s0-.1-.1-.1c-.1-.3-.4-.4-.9-.4h-.5v15.3h.4c.3 0 .4 0 .6-.1.1 0 .2-.1.3-.3.1-.2.1-.4.1-.8V13.3h.1zm6.1-5.6h7.5v3.7H147V16h2.7v3.7H147v6.9h2.7v3.8h-7.5V7.7z"\n                                    fill="#FFF" />\n                            </g>\n                        </svg>\n                    </a>\n                    <ui-button ref="cancel" type="close-light" :has-icon="true" label="Back"\n                        @onClick="onButtonClick(\'cancel\')" />\n                </div>\n            </transition>\n        </div>\n    </div>\n</div>'},,,,function(e,t){e.exports='<canvas ref="canvas" class="canvas-loader"></canvas>\n'},function(e,t){e.exports='<div class="loader" :class="{ \'loader--hidden\': hidden }">\n    <div class="loader__progress">\n        <canvas-loader ref="loader"></canvas-loader>\n    </div>    \n</div>\n'},function(e,t){e.exports='<section class="xp-introduction">\n    <picture ref="picture" class="xp-introduction__image">\n        <source :srcset="titleImage" media="(min-width: 1024px)">\n        <img :src="titleImageMobile" />\n    </picture>\n    <div class="xp-introduction__inner">\n        <h2 class="hide-for-viewer" v-html="t(\'common.site_title\')"></h2>\n        <p ref="instructions" class="xp-introduction__instructions" v-html="t(\'grid.landing2_text\')"></p>\n        <div class="xp-introduction__heading"></div>\n        <loader ref="loader" />  \n    </div>\n</section>'},,function(e,t){},,,,,,,,,,,,,function(e,t){e.exports='<div class="ui-video">\n    <video ref="video" muted playsinline autoplay>\n        <source :src="source.url" :type="source.type">\n    </video>\n</div>'},function(e,t){e.exports='<section class="xp-video">\n    <ui-video ref="video" :source="videoSource" @onEnded="onVideoEnded" @onPlay="onVideoPlay"\n        @onSafeModeActive="onSafeMode" />\n    <div v-show="isPlaying" class="xp-video__inner">\n        <ui-button :class="{\'is-active\': skipActive}" ref="skipButton" type="cta-light" :label="t(\'grid.skip_intro\')"\n            @onClick="goToNextView" />\n    </div>\n    <div class="xp-video__audio" :class="{\'hide-for-viewer\': !$appdatas.store.audioReady}">\n        <p class="xp-video__audio__instructions" :class="{\'is-active\': audioInstruction}"\n            v-html="t(\'common.active_sound\')"></p>\n        <ui-button type="audio" :has-icon="true" label="Audio" @onClick="toggleAudio" />\n    </div>\n</section>'},function(e,t){e.exports='<div class="ui-filters">\n    <ul class="ui-filters__items">\n        <li ref="item" class="ui-filters__item" :class="{\'is-active\': filter.slug === filterSlug }" v-for="filter in filters">\n            <ui-button class="ui-filters__item__button" @onClick="activeFilter(filter.slug)" :label="filter.content">\n                <div ref="indicator" class="ui-filters__item__indicator">\n                    <img :src="asset_url( \'assets/buttons/filter-active_button.png\' )" />\n                    <img :src="asset_url( \'assets/buttons/filter-inactive_button.png\' )" />\n                    <img :src="asset_url( \'assets/buttons/filter-roll_button.png\' )" />\n                    <img :src="asset_url( \'assets/buttons/filter-roll_button.png\' )" />\n                </div>\n            </ui-button>\n        </li>\n    </ul>\n</div>'},function(e,t){e.exports='<div ref="slider" class="ui-slider">\n\n    <ui-button v-if="$appdatas.store.isMobile" ref="close" type="close-light" :has-icon="true" label="Close slider"\n        @onClick="onClose"></ui-button>\n\n    <div class="ui-slider__inner">\n        <ui-button v-if="!$appdatas.store.isMobile" ref="prevButton" :class="{\'reset-transition\': resetTransition}" class="reverse" type="slider"\n            :has-icon="true" label="Previous" @onClick="onSlide(-1)"></ui-button>\n        <ui-button v-if="!$appdatas.store.isMobile" ref="nextButton" :class="{\'reset-transition\': resetTransition}" type="slider" :has-icon="true"\n            label="Next" @onClick="onSlide(1)"></ui-button>\n        <div v-if="$appdatas.store.isMobile" class="ui-slider__instructions" :class="{\'is-active\': showInstruction }">\n            <svg version="1.1" class="ui-slider__instructions__icon" xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 87.9 99.3"\n                style="enable-background:new 0 0 87.9 99.3;" xml:space="preserve">\n                <path\n                    d="M61.1,95c-10.2-3.7-22.3-11.3-31.4-18.4c-2-1.6-2.7-2.7-2.9-3.5c-0.3-2,0.9-4,2.6-4.7c2.2-0.4,3.4,0.6,5,1.5l7.4,4.9\n                c0.7,0.5,1.8,0.4,2.5-0.2c0.6-0.6,0.8-1.7,0.4-2.4l-18-31.2c-1.1-1.9-0.5-4.3,1.5-5.5l0,0c1.9-1.1,4.3-0.5,5.5,1.5L44,55.3\n                c0.4,0.8,1.5,1.2,2.3,0.9c0.9-0.3,1.5-1.2,1.4-2.1c-0.1-1,0.9-2.7,1.8-3.2c0.4-0.2,1.3-0.5,2-0.4c0.7,0.1,1.4,0.3,2.1,1.5\n                c0.4,0.8,1.4,1.2,2.3,0.9c0.9-0.3,1.5-1.1,1.4-2c-0.1-1.8,0.1-2.3,1-2.8c0.2-0.1,1.2-0.5,1.9-0.4c0.8,0.1,1.4,0.3,2.1,1.5\n                c0.4,0.7,1.2,1.1,2,1c0.8-0.1,1.5-0.7,1.7-1.4c0.5-0.7,1.1-1.2,1.9-1.6c2.2-0.9,4-0.3,6.3,1.9c2.2,2.2,4.4,5.9,6.1,10.2\n                c1.7,4.3,2.8,9.1,3.3,13.4c0.4,3.9,0.1,7.4-0.6,9.6l2.7,3.2c0.3-0.2,0.6-0.5,0.8-0.9c1.4-3.3,1.6-7.6,1.1-12.3\n                c-0.5-4.7-1.7-9.8-3.5-14.4c-1.8-4.6-4.1-8.6-7.1-11.6c-2.9-2.9-6.9-4.3-10.7-2.7c-0.8,0.5-1.7,1.1-2.3,1.7\n                c-1.1-0.8-2.2-1.4-3.3-1.5c-1.8-0.2-3.3,0.3-4.4,0.9c-1,0.6-1.7,1.5-2.2,2.6c-0.7-0.4-1.4-0.7-2.1-0.8c-1.8-0.2-3.3,0.3-4.4,1\n                c-0.9,0.5-1.6,1.3-2.3,2.1L37,35.1c-2.8-4.6-7.7-4.8-10.9-2.9l0,0c-3.8,2.2-5.1,7.1-2.9,10.9l13.8,23.8c-2.4-1.7-5.8-3.1-8.6-2.3\n                c-3.8,1-6.3,6-5.5,9.5c0.5,2,1.9,3.7,4.2,5.6C37.9,88,49.4,95.2,60.7,99.1c0.5,0.2,1.2,0.1,1.6-0.2l1-0.6L61.1,95z" />\n                <path class="arrows" d="M41,22c0.5,0,1.1-0.2,1.4-0.6l9-9C51.9,12,52,11.5,52,11c0-0.5-0.1-1-0.6-1.4l-9-9c-0.7-0.8-2.1-0.8-2.8,0s-0.8,2.1,0,2.8\n                L45.2,9H6.8l5.6-5.6c0.8-0.7,0.8-2.1,0-2.8s-2.1-0.7-2.8,0l-9,9C0.1,10,0,10.5,0,11c0,0.5,0.1,1,0.6,1.4l9,9c0.7,0.8,2.1,0.8,2.8,0\n                s0.8-2.1,0-2.8L6.8,13h38.4l-5.6,5.6c-0.8,0.7-0.8,2.1,0,2.8C40,21.8,40.5,22,41,22L41,22z" />\n            </svg>\n            <p class="ui-slider__instructions__title" v-html="t(\'grid.swipe_tuto\')"></p>\n        </div>\n    </div>\n</div>'},,,function(e,t){e.exports='<section class="xp-grid"\n    :class="[{\'filter-active\': filterActive && !$appdatas.store.sliderState}, {\'slider-active\': $appdatas.store.sliderState}]">\n    <div class="xp-grid__inner">\n\n        <ui-filters ref="filters" @closeFilter="onCloseFilter"/>\n        <ui-slider ref="slider" />\n\n        <ui-button :class="{\'is-hidden\': $appdatas.store.langSelectorState}" ref="contributionButton" type="cta"\n            :label="t(\'contribution.landing1_cta_enter\')" @onClick="changeMode" />\n        <ui-button ref="filterButton" :class="{\'is-active\': filterActive && !$appdatas.store.sliderState}" type="filter"\n            :label="t(\'grid.filters\')" @onClick="toggleFilters">\n            <span ref="filterButtonIndicator" class="indicator">\n                <span></span>\n                <span></span>\n                <span></span>\n            </span>\n        </ui-button>\n\n        <ui-button v-if="$appdatas.store.isMobile" class="xp-grid__play-button"\n            :class="[{\'is-active\': $appdatas.store.sliderVideoPending}, {\'is-animating\': playAnimating}]"\n            ref="playButton" type="play" :has-icon="true" label="Play" @onClick="onPlay" />\n    </div>\n</section>'},function(e,t){e.exports='<div class="xp" :class="componentActiveClass">\n    <transition v-on:enter="enter" v-on:leave="leave" v-bind:css="false" mode="out-in">\n        <component ref="component" class="xp-section section" @nextView="onNextView" @prevView="onPrevView" v-bind:is="currentView"></component>\n    </transition>\n</div>'},function(e,t){e.exports='<section class="contribution-introduction">\n    <picture ref="picture" class="contribution-introduction__image">\n        <source :srcset="titleImage" media="(min-width: 1024px)">\n        <img :src="titleImageMobile" />\n    </picture>\n    <div class="contribution-introduction__inner">\n        <h2 class="hide-for-viewer" v-html="t(\'common.site_title\')"></h2>\n        <p ref="instructions" class="contribution-introduction__instructions">\n            <span v-html="t(\'contribution.landing1_text\')"></span>\n            <span class="highlight" v-html="t(\'contribution.landing1_before_text\')"></span>\n        </p>\n        <div class="contribution-introduction__heading">\n            <div class="contribution-introduction__heading__inner"></div>\n        </div>\n        <div class="contribution-introduction__button__wrapper">\n            <ui-button ref="button" class="contribution-introduction__button" :label="t(\'contribution.landing1_cta_enter\')" type="cta" @onClick="goToNextView" />\n        </div>\n    </div>\n</section>'},function(e,t){e.exports='<section class="contribution-onboarding">\n    <div class="contribution-onboarding__inner">\n        <h2 class="hide-for-viewer" v-html="t(\'contribution.share_tuto_title\')"></h2>\n        <div class="contribution-onboarding__image__wrapper" :class="{\'image-missing\': imageMissing}">\n            <img class="contribution-onboarding__image" :src="titleImage"></img>\n        </div>\n        <p ref="instructions" class="contribution-onboarding__instructions" v-html="t(\'contribution.share_tuto_text\')"></p>\n        <ul class="contribution-onboarding__ctas">\n            <li v-if="$appdatas.store.isMobile">\n\n                <label ref="uploadButton" class="ui-button ui-button--picture ui-button--icon ui-button-label contribution-form__label reset-transition" for="file-mobile">\n\n                    <span class="ui-button__icons">\n                        <span ref="iconBorder" class="ui-button__icon--border"></span>\n                        <span ref="iconPrev" class="ui-button__icon--prev"></span>\n                        <span ref="iconNext" class="ui-button__icon--next"></span>\n                    </span>\n                    \n                </label>\n\n                <input class="contribution-onboarding__file" ref="fileInput" id="file-mobile" name="sampleFile" type="file" accept="image/*,video/*,video/mp4">\n            </li>\n            <li v-else>\n                <ui-button class="reset-transition" ref="pictureButton" type="upload" :has-icon="true" label="Upload" @onClick="sendPicture"/>\n            </li> \n            <li>\n                <ui-button class="reset-transition" ref="messageButton" type="message" :has-icon="true" label="Message" @onClick="sendMessage"/>\n            </li>\n        </ul>\n    </div>\n</section>'},function(e,t){e.exports='<section class="contribution-message">\n    <div class="contribution-message__inner">\n        <h2 class="hide-for-viewer">Message</h2>\n        <div class="contribution-message__letter">\n            <div class="contribution-message__letter__top"></div>\n            <span class="contribution-message__letter__counter">{{ charCounter }}</span>\n            <div class="contribution-message__letter__inner">\n                <div class="contribution-message__textarea__wrapper">\n                    <textarea class="contribution-message__textarea" v-model="message" :maxlength="maxChar" :placeholder="t(\'contribution.write_message\')" @blur="onBlur" @focus="onFocus"></textarea>\n                </div>\n            </div>\n            \n            <div class="contribution-message__letter__buttons">\n                <ui-button ref="submitButton" class="contribution-message__letter__button reset-transition" type="submit" :has-icon="true" label="Submit message" @onClick="saveMessage" />\n            </div>\n        </div>\n    </div>\n</section>'},function(e,t){e.exports='<section class="contribution-picture">\n    <div class="contribution-picture__inner">\n        <h2 class="hide-for-viewer">Upload picture</h2>\n        <p v-if="fileName" class="contribution-picture__file__name">\n            {{ fileName }}\n            <svg v-if="sizeError" class="contribution-picture__icon contribution-picture__icon--cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.5 22.5"><path d="M14.3 11.3l8.2 8.2-3 3-8.2-8.2L3 22.5l-3-3 8.2-8.2L0 3l3-3 8.2 8.2L19.5 0l3 3-8.2 8.3z" fill-rule="evenodd" clip-rule="evenodd"/></svg>\n            <svg v-else class="contribution-picture__icon contribution-picture__icon--check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.4 24.4"><path d="M14.3 21.4l-3 3-3.1-3L0 13.1l3-3 8.2 8.2L29.4 0l3 3-18.1 18.4z" fill-rule="evenodd" clip-rule="evenodd"/></svg>\n        </p>\n        <p v-else class="contribution-picture__instructions" v-html="t(\'contribution.share_select_desktop\')"></p>\n\n        <ui-button ref="uploadButton" v-if="isValid" type="cta-light" :label="t(\'contribution.share_select_desktop_cta1\')" @onClick="saveFile" />\n\n        <ui-button ref="uploadButton" v-else class="contribution-form__label" type="cta-light" :label="t(\'contribution.share_select_desktop_cta2\')" label-for="file" />\n\n        <input v-if="!$appdatas.store.isMobile" class="hide-for-viewer" ref="fileInput" id="file" name="sampleFile" type="file"\n            accept="image/*,video/*,video/mp4" @change="onInputChange" capture>\n\n        <div class="contribution-picture__file">\n            <p class="contribution-picture__file__error" v-if="sizeError" v-html="t(\'contribution.share_video_disclaimer\')"></p>\n        </div>\n    </div>\n</section>'},function(e,t){e.exports='<section class="contribution-form">\n    <div class="contribution-form__inner">\n        <h2 class="hide-for-viewer">Send your informations</h2>\n        <form @submit.prevent class="contribution-form__form" novalidate>\n            <div class="contribution-form__form__inner">\n                <div class="contribution-form__group">\n                    <label for="city" v-html="t(\'contribution.share_name\')"></label>\n                    <input v-model="city" type="text" class="contribution-form__input" id="city" :placeholder="t(\'contribution.share_name_tuto\')" maxlength="20" @focus="onFocus" @blur="onBlur">\n                    <span class="contribution-form__group__line__wrapper">\n                        <span class="contribution-form__group__line"></span>\n                    </span>\n                </div>\n                <div :class="[\'contribution-form__group\', {\'error--form\': emailError}]">\n                    <label for="email" v-html="t(\'contribution.share_email\')"></label>\n                    <input v-model="email" type="email" class="contribution-form__input" id="email" :placeholder="t(\'contribution.share_email_tuto\')" @focus="onFocus(); onFocusMail()" @blur="onBlur(); onBlurMail()">\n                    <span class="error error--mail" :class="{\'is-active\': emailError}" v-html="t(\'contribution.share_email_tuto_error\')"></span>\n                    <span class="contribution-form__group__line__wrapper">\n                        <span class="contribution-form__group__line"></span>\n                    </span>\n                </div>\n                <div class="contribution-form__checkbox">\n                    <input type="checkbox" v-model="checked" class="contribution-form__input contribution-form__input__checkbox hide-for-viewer" id="check1">\n                    <label class="contribution-form__label" for="check1">\n                        <span class="contribution-form__label__c-indicator"></span>\n                        <span class="contribution-form__label__c-text" v-html="legalTerms"></span>\n                        <span class="error error--checkbox" :class="{\'is-active\': checkError}">\n                            <span v-html="legalTermsError"></span>\n                        </span>    \n                    </label>\n                </div>\n            </div>\n            <div class="ui-button__wrapper">\n                <ui-button :class="{\'is-active\': !submitProcess}" ref="submitButton" type="cta-light" :label="t(\'contribution.submit_form\')" @onClick="onSubmit" />\n                <p class="error error--form" :class="{\'is-active\': formError}" v-html="t(\'common.error\')"></p>\n\n                <div class="spinner__wrapper"  :class="{\'is-active\': submitProcess}">\n                    <svg class="spinner" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n                        <circle cx="50" cy="50" r="50"/>\n                    </svg>\n                </div>\n\n            </div>\n        </form>\n    </div>\n</section>'},function(e,t){e.exports='<section class="contribution-success">\n    <div class="contribution-success__inner">\n        <div class="contribution-success__image__wrapper" :class="{\'image-missing\': imageMissing}">\n            <img class="contribution-success__image" :src="titleImage"></img>\n        </div>\n        <h2 class="hide-for-viewer" v-html="t(\'contribution.success_title\')"></h2>\n        <p ref="instructions" class="contribution-success__instructions" v-html="t(\'contribution.success_text\')"></p>\n        <ui-button ref="button" type="cta-light" :label="t(\'contribution.success_back\')" @onClick="successClick" />\n    </div>\n</section>'},function(e,t){e.exports='<div class="canvas-text" />\n'},function(e,t){e.exports='<div class="contribution" :class="componentActiveClass">\n    <transition v-on:enter="enter" v-on:leave="leave" v-bind:css="false" mode="out-in">\n        <component ref="component" class="contribution-section section" @nextView="onNextView" @prevView="onPrevView" v-bind:is="currentView"></component>\n    </transition>\n    <canvas-text ref="canvasText" />\n</div>'},function(e,t){e.exports='<div class="cursor" :class="{ \'visible\': visible }" >\n\n    <div class="sprite-container sprite-container--default">\n        <div class="sprite-container__inner"></div>\n    </div>\n\n    <div class="sprite-container sprite-container--point">\n        <div class="sprite-container__inner"></div>\n    </div>\n\n    <div class="sprite-container sprite-container--eye">\n        <div class="sprite-container__inner"></div>\n    </div>\n\n    <div class="sprite-container sprite-container--cross">\n        <div class="sprite-container__inner"></div>\n    </div>\n\n    \n\n</div>\n'},,,,,function(e,t){e.exports='<div class="grid">\n    <canvas ref="cvs" id="grid-canvas"></canvas>\n</div>'},function(e,t){e.exports='<div class="ui-cookie" :class="[{\'ui-cookie--xp\': $appdatas.store.phase === \'xp\'}, {\'is-active\': !this.hasAcceptedCookies}]">\n    <div class="ui-cookie__layout">\n        <div class="ui-cookie__inner">\n            <p v-html="cookieText"></p>\n            <ui-button type="cookie" :has-icon="true" label="Close cookie" @onClick="acceptCookies" />\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="app xp-app">\n\n    <grid ref="grid"></grid>\n\n    <ui-header />\n    <custom-cursor v-if="!$appdatas.store.isMobile" />\n\n    <transition v-on:enter="enter" v-on:leave="leave" v-bind:css="false" mode="out-in">\n        <component ref="component" :startView="startView" v-bind:is="currentMode"></component>\n    </transition>\n\n    <ui-cookie />\n    \n    <ui-footer />\n\n</div>'},function(e,t,n){e.exports=n.p+"main.css"},function(e,t,n){"use strict";n.r(t);var i,s=n(31),o=n(2);class r{constructor(){this._listeners=[]}on(e){-1===this._listeners.indexOf(e)&&this._listeners.push(e)}off(e){const t=this._listeners.indexOf(e);t>-1&&this._listeners.splice(t,1)}release(){this._listeners=[]}emit(e){for(const t of this._listeners)t(e)}}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.POINT=1]="POINT",e[e.EYE=2]="EYE",e[e.CROSS=3]="CROSS"}(i||(i={}));var a=new class{constructor(){this._stateList=[],this._locked=!1,this.stateChange=new r}lock(){this._locked=!0}unlock(){this._locked=!1}pushState(e){this._locked||(this._stateList.push(e),this.stateChange.emit())}releaseState(e){if(this._locked)return;let t=-1/0;for(let n=0,i=this._stateList.length;n<i;n++)this._stateList[n]==e&&n>t&&(t=n);t!==-1/0&&(this._stateList.splice(t,1),this.stateChange.emit())}reset(){this._stateList=[],this.stateChange.emit()}get currentState(){return this._stateList[this._stateList.length-1]||i.DEFAULT}};const l={mixins:[{data:()=>({isAppear:!1,isAnimating:!1}),computed:{},mounted(){"cta"===this.type&&(this.bindCtaUI(),this.setCtaAnimation())},methods:{bindCtaUI(){const e=this.$refs.lines.querySelectorAll(".ui-button__line"),t=this.$refs.lines.querySelectorAll(".ui-button__line__wrapper");this.ui={label:this.$refs.label,marguerite:this.$refs.marguerite,linesWrapper:t,lines:e}},setCtaAnimation(){this.isAppear=!1,this.$el.style.pointerEvents="none",o.a.set(this.ui.label,{translateX:-40,opacity:0,scaleX:2}),o.a.set(this.ui.marguerite,{translateX:"100%"}),o.a.set(this.ui.linesWrapper,{translateX:"100%",opacity:0}),o.a.set(this.ui.linesWrapper[0],{translateX:"150%",right:"calc(50% - 19.5px)",opacity:0,width:"calc(100% - 39px)"}),o.a.set(this.ui.linesWrapper[1],{translateX:"150%",right:"calc(50% - 16px)",opacity:0,width:"calc(100% - 32px)"}),o.a.set(this.ui.lines,{translateX:"-100%"}),o.a.set(this.$el,{opacity:0})},appearCta(){this.isAnimating=!0,this.isAppear=!0,o.a.timeline({complete:()=>{this.isAnimating=!1,this.$el.style.pointerEvents="auto"}}).add({targets:this.$el,opacity:1,duration:560,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0).add({targets:this.ui.linesWrapper,opacity:1,duration:560,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0).add({targets:this.ui.linesWrapper[0],translateX:"50%",duration:3e3,easing:"cubicBezier(0.00, 0.56, 0.46, 1.00)"},0).add({targets:this.ui.lines[0],translateX:0,duration:3e3,easing:"cubicBezier(0.00, 0.56, 0.46, 1.00)"},0).add({targets:this.ui.linesWrapper[1],translateX:"50%",duration:2680,easing:"cubicBezier(0.00, 0.56, 0.46, 1.00)"},320).add({targets:this.ui.lines[1],translateX:0,duration:2680,easing:"cubicBezier(0.00, 0.56, 0.46, 1.00)"},320).add({targets:this.ui.marguerite,translateX:0,duration:800,easing:"cubicBezier(0.00, 0.45, 0.46, 1.00)"},560).add({targets:this.ui.label,translateX:0,scaleX:1,duration:800,easing:"cubicBezier(0.00, 0.45, 0.46, 1.00)"},560).add({targets:this.ui.label,opacity:1,duration:560,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},800)},onCtaEnter(){o.a.timeline().add({targets:this.ui.label,translateX:-19,duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.marguerite,left:"50%",translateX:"-50%",rotate:"67deg",scale:1.3,duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.linesWrapper[0],opacity:0,width:"calc(0% - 39px)",duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.linesWrapper[1],opacity:0,width:"calc(0% - 32px)",duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)},onCtaLeave(){o.a.timeline().add({targets:this.ui.label,translateX:0,duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.marguerite,left:"0%",translateX:"0%",rotate:"0deg",scale:1,duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.linesWrapper[0],opacity:1,width:"calc(100% - 39px)",duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.linesWrapper[1],opacity:1,width:"calc(100% - 32px)",duration:1240,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)}}},{data:()=>({isAppear:!1,isAnimating:!1}),computed:{},mounted(){"cta-light"===this.type&&(this.bindCtaLightUI(),this.setCtaLightAnimation())},methods:{bindCtaLightUI(){this.ui={label:this.$refs.label,wTop:this.$refs.wrapperTop,wBottom:this.$refs.wrapperBottom,wLeft:this.$refs.wrapperLeft,wRight:this.$refs.wrapperRight,lTop:this.$refs.lineTop,lBottom:this.$refs.lineBottom,lLeft:this.$refs.lineLeft,lRight:this.$refs.lineRight}},setCtaLightAnimation(){o.a.set(this.ui.label,{opacity:0}),o.a.set(this.ui.wTop,{translateX:"50%"}),o.a.set(this.ui.wBottom,{translateX:"-150%"}),o.a.set(this.ui.wRight,{translateY:"45px",rotate:"-90deg"}),o.a.set(this.ui.wLeft,{translateY:"-45px",rotate:"90deg"}),o.a.set(this.ui.lTop,{translateX:"-100%"}),o.a.set(this.ui.lBottom,{translateX:"100%"}),o.a.set(this.ui.lRight,{translateX:"45px"}),o.a.set(this.ui.lLeft,{translateX:"45px"})},appearCtaLight(){o.a.timeline({complete:()=>{this.isAnimating=!1}}).add({targets:this.ui.label,opacity:1,duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.wTop,translateX:"-50%",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.lTop,translateX:0,duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.wBottom,translateX:"-50%",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.lBottom,translateX:0,duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.wLeft,translateY:"0",rotate:"90deg",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.lLeft,translateX:"0",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.wRight,translateY:"0",rotate:"-90deg",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0).add({targets:this.ui.lRight,translateX:"0",duration:2e3,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)},onCtaLightEnter(){o.a.timeline({complete:()=>{this.isAnimating=!1}}).add({targets:this.ui.wTop,translateX:"50%",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wTop,opacity:0,duration:600,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},320).add({targets:this.ui.lTop,translateX:"-100%",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wBottom,width:"25%",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wLeft,translateY:"-45px",rotate:"90deg",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wLeft,opacity:0,duration:600,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},320).add({targets:this.ui.lLeft,translateX:"45px",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wRight,translateY:"45px",rotate:"-90deg",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wRight,opacity:0,duration:600,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},320).add({targets:this.ui.lRight,translateX:"45px",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0)},onCtaLightLeave(){o.a.timeline({complete:()=>{this.isAnimating=!1}}).add({targets:this.ui.wTop,translateX:"-50%",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wTop,opacity:1,duration:920,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0).add({targets:this.ui.lTop,translateX:0,duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wBottom,width:"100%",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wLeft,translateY:"0",rotate:"90deg",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wLeft,opacity:1,duration:920,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0).add({targets:this.ui.lLeft,translateX:"0",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wRight,translateY:"0",rotate:"-90deg",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0).add({targets:this.ui.wRight,opacity:1,duration:920,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0).add({targets:this.ui.lRight,translateX:"0",duration:920,easing:"cubicBezier(0.66, 0.00, 0.34, 1.00)"},0)}}}],template:n(105),props:{type:{type:String,default:""},link:{type:String,default:""},labelFor:{type:String,default:""},label:{type:String,default:""},hasIcon:{type:Boolean,default:!1}},computed:{typeClass(){return this.type?"ui-button--"+this.type:"ui-button--default"},iconClass(){return this.hasIcon?"ui-button--icon":""}},methods:{onClick(){this.$emit("onClick")},onMouseOver(){a.pushState(i.POINT),"cta"===this.type?this.onCtaEnter():"cta-light"===this.type&&this.onCtaLightEnter()},onMouseOut(){a.releaseState(i.POINT),"cta"===this.type?this.onCtaLeave():"cta-light"===this.type&&this.onCtaLightLeave()}}};var d=l,c=n(56);const u={global:{environment:{name:"production",host:"",build:"2020-05-05_08-21-21",media_api_host:"",recaptcha_key:"6LdOqeIUAAAAAHBbiVI0ZGXnmqyJA-2GOnftDmwi",commit:""},locales:{en:{"grid.skip_intro":"Skip intro","grid.landing2_text":"From all over the world, <i>The Resistance</i> came together to say goodbye to Nairobi.","grid.landing2_cta":"EXPLORE","grid.swipe_tuto":"SWIPE TO SEE MORE","grid.filters":"FILTERS","grid.filter_country":"MY COUNTRY CONTENT","grid.filter_netflix":"HER BEST MOMENTS","grid.filter_all":"ALL CONTENT","grid.filter_goodbye_cast":"GOODBYE FROM CAST","grid.tuto_drag":"Discover their messages.","grid.undefined":"en.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"EN-en","common.og_title":"Netflix | La Casa de Papel | Ciao Bella Nairobi","common.og_description":"From all over the world, The Resistance came together to say goodbye to Nairobi. Discover their messages.","common.disclaimer_cookie":"We uses cookies (##why ?##) By interacting with this site, you agree to our use of cookies.","common.cta_share":"SHARE","common.share_copied":"Link copied to your clipboard","common.cta_legals":"LEGALS","common.cta_legals_alt":"PRIVACY & TERMS","common.select_loca":"EN","common.error":"an error has occured","common.active_sound":"Activate the sound","common.undefined":"en.common.undefined","contribution.landing1_text":"Join the world. Say goodbye to Nairobi. Send your message","contribution.landing1_before_text":"before 17.04.","contribution.landing1_cta_enter":"SAY GOODBYE","contribution.share_tuto_title":"SEND YOUR TRIBUTE.","contribution.share_tuto_text":"Leave your message, art, or video for Nairobi.","contribution.share_tuto_disclaimer":"Your contribution will come out square. Please center your subject.","contribution.share_video_disclaimer":"Unfortunately, your file is too heavy. Max: 80MB.","contribution.share_select_desktop":"Upload a photo or a video. Max size 80MB","contribution.write_message":"Write your message","contribution.share_select_desktop_cta1":"CONTINUE","contribution.share_copy":"Text too long, please reduce.","contribution.share_select_desktop_cta2":"UPLOAD","contribution.share_name":"From (optional)","contribution.share_name_img":"From","contribution.share_name_tuto":"your city name","contribution.share_email":"Want to see your tribute on the memorial ? Get your personal link by email.","contribution.share_email_tuto":"email","contribution.share_email_tuto_error":"email not valid","contribution.check_terms":"I am over 16 and I have read and accept the ##Privacy and Terms##.","contribution.check_terms_error":"To post your contribution, please accept the Terms and Conditions.","contribution.submit_form":"LEAVE YOUR MESSAGE","contribution.success_title":"THANK YOU!","contribution.success_text":"Your message for Nairobi will be reviewed and displayed alongside all the other tributes from <i>La Resistencia</i> on April 17th.","contribution.success_text2":"We are currently reviewing your message for Nairobi. You will be emailed when it’s displayed alongside all the other tributes from <i>La Resistencia</i>.","contribution.success_back":"BACK TO HOME","contribution.undefined":"en.contribution.undefined","email.email_object":"CIAO BELLA: Your message for Nairobi is live ❤️","email.email_subline":"Your message for Nairobi is live.","email.email_text":"Hello, You are now part of the Nairobi Ciao Bella memorial. See your message now among submissions from all over the world. Thank you for joining this experience.","email.email_cta":"EXPLORE"},pt_BR:{"grid.skip_intro":"Pular a introdução","grid.landing2_text":"Do mundo todo, <i>a Resistência</i> se une para dizer adeus a Nairóbi.","grid.landing2_cta":"EXPLORE","grid.swipe_tuto":"DESLIZE PARA VER MAIS","grid.filters":"FILTROS","grid.filter_country":"CONTEÚDO DO MEU PAÍS","grid.filter_netflix":"MELHORES MOMENTOS","grid.filter_all":"TODO O CONTEÚDO","grid.filter_goodbye_cast":"DESPEDIDA DO ELENCO","grid.tuto_drag":"Veja as mensagens.","grid.undefined":"pt_BR.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"PT-br","common.og_title":"Netflix | La Casa de Papel | Ciao Bella Nairóbi","common.og_description":"Adeus, Nairóbi.","common.disclaimer_cookie":"Nós usamos cookies (##por que?##). Ao usar este site, você concorda com nosso uso de cookies.","common.cta_share":"COMPARTILHE","common.share_copied":"Ligação copiado para a área de transferência","common.cta_legals":"AVISO LEGAL","common.cta_legals_alt":"PRIVACIDADE E TERMOS","common.select_loca":"PT-BR","common.error":"Ocorreu um erro.","common.active_sound":"Ativar o som","common.undefined":"pt_BR.common.undefined","contribution.landing1_text":"Junte-se ao mundo para a despedida da Nairóbi. Envie a sua mensagem","contribution.landing1_before_text":"até 17 de abril.","contribution.landing1_cta_enter":"MANDE SUA MENSAGEM","contribution.share_tuto_title":"ENVIE SUA HOMENAGEM","contribution.share_tuto_text":"Deixe sua mensagem, ilustração ou vídeo para Nairóbi","contribution.share_tuto_disclaimer":"Seu envio será cortado em formato quadrado. Centralize a imagem.","contribution.share_video_disclaimer":"O seu arquivo é muito grande. O tamanho máximo é 80Mb.","contribution.share_select_desktop":"Faça o upload de uma foto ou vídeo. Tamanho máximo 80Mb.","contribution.write_message":"Escreva sua mensagem","contribution.share_select_desktop_cta1":"CONTINUAR","contribution.share_copy":"O texto está muito longo. Por favor, reduza.","contribution.share_select_desktop_cta2":"UPLOAD","contribution.share_name":"De (opcional)","contribution.share_name_img":"De","contribution.share_name_tuto":"nome de sua cidade","contribution.share_email":"Quer ver sua homenagem no memorial? Receba seu link individual por email.","contribution.share_email_tuto":"email","contribution.share_email_tuto_error":"o email não é válido","contribution.check_terms":"Tenho mais de 16 anos e li e aceitei a Política de Privacidade e os ##Termos e Condições##.","contribution.check_terms_error":"Para postar sua homenagem, aceite os Termos e Condições.","contribution.submit_form":"DEIXE SUA MENSAGEM","contribution.success_title":"OBRIGADO!","contribution.success_text":"Sua mensagem para Nairóbi será revisada e exibida ao lado de todas as outras homenagens da <i>Resistência</i> em 17 de abril.","contribution.success_text2":"Nós estamos revisando sua mensagem para Nairóbi. Você receberá um email quando ela for exibida ao lado de todas as outras homenagens da <i>Resistência</i>.","contribution.success_back":"VOLTAR À PÁGINA INICIAL","contribution.undefined":"pt_BR.contribution.undefined","email.email_object":"CIAO BELLA: sua mensagem está publicada ❤️","email.email_subline":"Sua mensagem para Nairóbi está publicada.","email.email_text":"Olá! Sua mensagem agora faz parte do memorial Ciao Bella Nairóbi e você pode vê-la junto com outras homenagens do mundo todo. Obrigado por participar dessa experiência e nos ajudar a tornar Nairóbi inesquecível.","email.email_cta":"EXPLORE"},es:{"grid.skip_intro":"Saltar introducción","grid.landing2_text":"Desde todos los rincones del mundo, <i>la Resistencia</i> se ha despedido de Nairobi.","grid.landing2_cta":"EXPLORAR","grid.swipe_tuto":"DESLIZA PARA VER MÁS","grid.filters":"FILTROS","grid.filter_country":"MENSAJES DE MI PAÍS","grid.filter_netflix":"SUS MEJORES MOMENTOS","grid.filter_all":"TODOS LOS MENSAJES","grid.filter_goodbye_cast":"DESPEDIDAS DEL REPARTO","grid.tuto_drag":"Descubre sus mensajes.","grid.undefined":"es.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"ES-es","common.og_title":"Netflix | La Casa de Papel | Ciao Bella Nairobi","common.og_description":"Desde todos los rincones del mundo, la Resistencia se ha despedido de Nairobi. Descubre sus mensajes.","common.disclaimer_cookie":"Usamos cookies (##¿por qué?##). Si interactúas con este sitio web, aceptas nuestro uso de las cookies.","common.cta_share":"COMPARTIR","common.share_copied":"Enlace copiado en el portapapeles","common.cta_legals":"AVISOS LEGALES","common.cta_legals_alt":"PRIVACIDAD Y TÉRMINOS DE USO","common.select_loca":"ESES","common.error":"Ha ocurrido un error.","common.active_sound":"Activa el sonido","common.undefined":"es.common.undefined","contribution.landing1_text":"Súmate al resto del mundo para despedir a Nairobi. Envía tu mensaje","contribution.landing1_before_text":"antes del 17 de abril.","contribution.landing1_cta_enter":"DESPÍDETE","contribution.share_tuto_title":"ENVÍA TU ADIÓS","contribution.share_tuto_text":"Deja tu mensaje, imagen o vídeo para Nairobi.","contribution.share_tuto_disclaimer":"Los mensajes se muestran en formato cuadrado. Centra el motivo para que se vea bien.","contribution.share_video_disclaimer":"Lo sentimos, pero tu archivo es demasiado grande. Tamaño máximo: 80 MB.","contribution.share_select_desktop":"Sube una imagen o un vídeo.<br>Tamaño máximo: 80 MB.","contribution.write_message":"Redacta tu mensaje","contribution.share_select_desktop_cta1":"CONTINUAR","contribution.share_copy":"El texto es demasiado largo, acórtalo.","contribution.share_select_desktop_cta2":"SUBIR","contribution.share_name":"De (optativo)","contribution.share_name_img":"De","contribution.share_name_tuto":"tu ciudad","contribution.share_email":"¿Quieres ver tu mensaje en el homenaje? Consigue tu enlace personal por correo.","contribution.share_email_tuto":"dirección electrónica","contribution.share_email_tuto_error":"dirección no válida","contribution.check_terms":"He cumplido los 16 años y he leído y acepto ##los términos de uso y a declaración de privacidad##.","contribution.check_terms_error":"Para publicar tu contribución, debes aceptar los términos y condiciones.","contribution.submit_form":"DEJA TU MENSAJE","contribution.success_title":"¡GRACIAS!","contribution.success_text":"Publicaremos tu mensaje para Nairobi junto con los demás mensajes de la Resistencia el 17 de abril.","contribution.success_text2":"Hemos recibido tu mensaje para Nairobi. Recibirás un correo cuando se publique con los demás de <i>la Resistencia</i>.","contribution.success_back":"VOLVER AL INICIO","contribution.undefined":"es.contribution.undefined","email.email_object":"CIAO BELLA: Ya se ha publicado tu mensaje para Nairobi ❤️","email.email_subline":"Se ha publicado tu mensaje para Nairobi.","email.email_text":"Hola:\nTu mensaje ya aparece en Ciao Bella, el homenaje a Nairobi. Puedes verlo entre otros mensajes de todos los rincones del mundo.\nMuchas gracias por participar en esta experiencia.","email.email_cta":"EXPLORAR"},ar:{"grid.skip_intro":"تخطي المقدمة","grid.landing2_text":'اجتمعت "المقاومة" من جميع أنحاء العالم لتوديع "نيروبي".',"grid.landing2_cta":"استكشف","grid.swipe_tuto":"اسحب للاطّلاع على المزيد","grid.filters":"أدوات تصفية","grid.filter_country":"محتوًى من بلدي","grid.filter_netflix":"أجمل اللحظات","grid.filter_all":"كل المحتوى","grid.filter_goodbye_cast":"مع تحيات فريق العمل، وداعًا!","grid.tuto_drag":"اطّلع على رسائلهم","grid.undefined":"ar.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"AR-ar","common.og_title":"Netflix | البروفيسور | Ciao Bella نيروبي","common.og_description":'وداعًا "نيروبي"',"common.disclaimer_cookie":"لماذا نستخدم ملفات تعريف الارتباط؟## يمثل تفاعلك على الموقع موافقة منك على استخدامنا لملفات تعريف الارتباط##.","common.cta_share":"شارك","common.share_copied":"Link copied to your clipboard","common.cta_legals":"الشؤون القانونية","common.cta_legals_alt":"الخصوصية والبنود","common.select_loca":"AR","common.error":"حدث خطأ.","common.active_sound":"تفعيل الصوت","common.undefined":"ar.common.undefined","contribution.landing1_text":'انضمّ إلى بقية العالم في وداعهم لـ"نيروبي"، وأرسل رسالة قبل',"contribution.landing1_before_text":"17 إبريل","contribution.landing1_cta_enter":"وداعًا","contribution.share_tuto_title":"أرسل رسالة تأبين","contribution.share_tuto_text":'شاركنا برسالة أو عمل فني أو حتى مقطع فيديو  لـ"نيروبي".',"contribution.share_tuto_disclaimer":"ستظهر مشاركتك ضمن حدود مربع، يرجى توسيط النص.","contribution.share_video_disclaimer":"عذرًا، الملف كبير جدًا. الحد الأقصى: 80 ميغابايت.","contribution.share_select_desktop":"تحميل صورة أو فيديو. الحد الأقصى 80 ميغابايت","contribution.write_message":"أكتب رسالة","contribution.share_select_desktop_cta1":"متابعة","contribution.share_copy":"النص طويل جدًا، يُرجى اختصاره.","contribution.share_select_desktop_cta2":"تحميل","contribution.share_name":"من (اختياري)","contribution.share_name_img":"من","contribution.share_name_tuto":"اسم المدينة","contribution.share_email":"هل تريد أن ترى مشاركتك في التأبين؟ اطلب رابطًا شخصيًا عبر البريد الإلكتروني.","contribution.share_email_tuto":"بريد إلكتروني","contribution.share_email_tuto_error":"البريد الإلكتروني غير صالح","contribution.check_terms":"يتجاوز عمري 16 عامًا وأقرّ بأنني قرأت بنود الاستخدام و ##بيان الخصوصية## وأوافق عليهما.","contribution.check_terms_error":"يرجى الموافقة على ##البنود والأحكام## لنشر المشاركة.","contribution.submit_form":"اترك رسالتك","contribution.success_title":"شكرًا لك!","contribution.success_text":'سنراجع رسالتك لـ"نيروبي" ونعرضها ضمن الرسائل الأخرى من "المقاومة"<br>في 17 إبريل.',"contribution.success_text2":'نراجع حاليًا رسالتك إلى "نيروبي"، وستصلك رسالة بريد إلكتروني عند عرضها ضمن جميع الرسائل الأخرى من "المقاومة".',"contribution.success_back":"الرجوع إلى الصفحة الرئيسية","contribution.undefined":"ar.contribution.undefined","email.email_object":'CIAO BELLA: نُشرت رسالتك إلى "نيروبي" ❤️',"email.email_subline":'نُشرت رسالتك إلى "نيروبي"',"email.email_text":'مرحبًا، \nأنت الآن جزء من حملة تأبين "نيروبي" Ciao Bella التذكاري. شاهد رسالتك الآن مع بقية الرسائل من جميع أنحاء العالم. \nشكرًا لانضمامك إلى هذه التجربة.',"email.email_cta":"اطّلع"},pt_PT:{"grid.skip_intro":"Ignorar introdução","grid.landing2_text":"Em todos os cantos do mundo, <i>La Resistencia</i> uniu-se para se despedir da Nairobi.","grid.landing2_cta":"EXPLORAR","grid.swipe_tuto":"DESLIZAR PARA VER MAIS","grid.filters":"FILTROS","grid.filter_country":"MENSAGENS DO MEU PAÍS","grid.filter_netflix":"OS MELHORES MOMENTOS","grid.filter_all":"TODAS AS MENSAGENS","grid.filter_goodbye_cast":"DESPEDIDA DO ELENCO","grid.tuto_drag":"Vê as mensagens.","grid.undefined":"pt_PT.grid.undefined","common.site_title":"Ciao, Bella","common.og_locale":"PT-pt","common.og_title":"Netflix | La Casa de Papel | Ciao Bella Nairobi","common.og_description":"Adeus, Nairobi.","common.disclaimer_cookie":"Usamos cookies (##porquê?##). Ao usar este site, estás a aceitar a nossa utilização de cookies.","common.cta_share":"PARTILHAR","common.share_copied":"Ligação copiado para a área de transferência","common.cta_legals":"AVISOS LEGAIS","common.cta_legals_alt":"PRIVACIDADE E TERMOS","common.select_loca":"PT","common.error":"Ocorreu um erro.","common.active_sound":"Ativar som","common.undefined":"pt_PT.common.undefined","contribution.landing1_text":"Junta-te ao resto do mundo na despedida da Nairobi. Envia uma mensagem","contribution.landing1_before_text":"até 17 de abril.","contribution.landing1_cta_enter":"DIZ ADEUS","contribution.share_tuto_title":"ENVIA O TEU TRIBUTO","contribution.share_tuto_text":"Deixa uma mensagem, imagem ou vídeo para a Nairobi.","contribution.share_tuto_disclaimer":"A mensagem terá um formato quadrado. Centra o assunto para que fique bem legível.","contribution.share_video_disclaimer":"Ficheiro demasiado grande. Tamanho máximo: 80 MB.","contribution.share_select_desktop":"Carregar foto ou vídeo. Tamanho máximo: 80 MB","contribution.write_message":"Escreve a tua mensagem","contribution.share_select_desktop_cta1":"CONTINUAR","contribution.share_copy":"Texto demasiado longo. Por favor, reduz o tamanho.","contribution.share_select_desktop_cta2":"CARREGAR","contribution.share_name":"De (opcional)","contribution.share_name_img":"De","contribution.share_name_tuto":"a tua cidade","contribution.share_email":"Queres ver o teu tributo na homenagem? Recebe uma ligação pessoal por e-mail.","contribution.share_email_tuto":"endereço de e-mail","contribution.share_email_tuto_error":"endereço de e-mail inválido","contribution.check_terms":"Tenho mais de 16 anos. Li e aceito os ##Termos de Privacidade##.","contribution.check_terms_error":"Para publicar o teu contributo, tens de aceitar os Termos e Condições.","contribution.submit_form":"DEIXA A TUA MENSAGEM","contribution.success_title":"OBRIGADO!","contribution.success_text":"Vamos rever a tua mensagem para a Nairobi e depois publicá-la juntamente com outros tributos da Resistência, a 17 de abril.","contribution.success_text2":"Estamos a rever a tua mensagem para a Nairobi. Receberás um e-mail quando a publicarmos em conjunto com outros tributos de <i>La Resistencia</i>.","contribution.success_back":"VOLTAR AO INÍCIO","contribution.undefined":"pt_PT.contribution.undefined","email.email_object":"CIAO, BELLA: a tua mensagem para a Nairobi foi publicada ❤️","email.email_subline":"A tua mensagem para a Nairobi foi publicada.","email.email_text":"Olá, já fazes parte da homenagem Ciao Bella Nairobi. Encontra a tua mensagem entre as publicações recebidas de todos os cantos do mundo. Obrigado por participares.","email.email_cta":"EXPLORAR"},fr:{"grid.skip_intro":"Passer l'introduction","grid.landing2_text":"Dans le monde entier, <i>la Résistance</i> s’est unie pour dire adieu à Nairobi.","grid.landing2_cta":"DÉCOUVRIR","grid.swipe_tuto":"BALAYEZ L’ÉCRAN POUR EN VOIR PLUS","grid.filters":"FILTRES","grid.filter_country":"CONTENU DE MON PAYS","grid.filter_netflix":"MEILLEURS MOMENTS","grid.filter_all":"TOUT LE CONTENU","grid.filter_goodbye_cast":"ADIEU DE L'ÉQUIPE","grid.tuto_drag":"Découvrez tous leurs messages.","grid.undefined":"fr.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"FR-fr","common.og_title":"Netflix France | La Casa de Papel | Ciao Bella Nairobi","common.og_description":"Adieu Nairobi.","common.disclaimer_cookie":"Nous utilisons des cookies (##pourquoi ?##) En utilisant ce site, vous acceptez notre utilisation des cookies.","common.cta_share":"PARTAGER","common.share_copied":"Lien copié dans votre presse-papier","common.cta_legals":"INFORMATIONS LÉGALES","common.cta_legals_alt":"CONFIDENTIALITÉ ET CONDITIONS D’UTILISATION","common.select_loca":"FR","common.error":"Une erreur est survenue.","common.active_sound":"Activer le son","common.undefined":"fr.common.undefined","contribution.landing1_text":"Rejoignez le mouvement mondial. Dites adieu à Nairobi. Envoyez votre message","contribution.landing1_before_text":"avant le 17.04.","contribution.landing1_cta_enter":"DITES ADIEU","contribution.share_tuto_title":"ENVOYEZ VOTRE HOMMAGE.","contribution.share_tuto_text":"Laissez votre message, image ou vidéo à l’attention de Nairobi.","contribution.share_tuto_disclaimer":"Votre hommage sera affiché dans un carré. Merci de le centrer.","contribution.share_video_disclaimer":"Malheureusement votre fichier est trop lourd. Taille maximum : 80 Mo.","contribution.share_select_desktop":"Importez une photo ou une vidéo.<br>80 Mo maximum.","contribution.write_message":"Écrivez votre message","contribution.share_select_desktop_cta1":"CONTINUER","contribution.share_copy":"Votre texte est trop long, veuillez le raccourcir.","contribution.share_select_desktop_cta2":"IMPORTER","contribution.share_name":"De (facultatif)","contribution.share_name_img":"De","contribution.share_name_tuto":"votre ville","contribution.share_email":"Vous souhaitez voir votre hommage ? Recevez votre lien personnalisé par e-mail.","contribution.share_email_tuto":"e-mail","contribution.share_email_tuto_error":"e-mail non valide","contribution.check_terms":"J'ai 16 ans ou plus et je confirme avoir lu et accepté ##la Politique de confidentialité et les Conditions d'utilisation.##","contribution.check_terms_error":"Avant de publier votre contribution, vous devez accepter les Conditions d'utilisation.","contribution.submit_form":"LAISSEZ UN MESSAGE","contribution.success_title":"MERCI !","contribution.success_text":"Votre message à l’attention de Nairobi sera vérifié et affiché parmi tous les autres hommages rendus par <i>la Résistance</i>, le 17 avril.","contribution.success_text2":"Nous vérifions votre message à l’attention de Nairobi. Vous recevrez un e-mail dès qu’il sera mis en ligne parmi tous les autres hommages rendus par <i>la Résistance</i>.","contribution.success_back":"RETOUR À L'ACCUEIL","contribution.undefined":"fr.contribution.undefined","email.email_object":"CIAO BELLA : votre message pour Nairobi est en ligne ❤️","email.email_subline":"Votre message pour Nairobi est en ligne.","email.email_text":"Bonjour, Vous faites maintenant partie du mémorial Ciao Bella en hommage à Nairobi. Découvrez votre message parmi tous les autres hommages envoyés des quatre coins du monde. Merci de votre participation à cette expérience.","email.email_cta":"DÉCOUVRIR"},it:{"grid.skip_intro":"Salta l'intro","grid.landing2_text":"Da ogni lato del mondo, <i>La Resistenza</i> si è unita per dire addio a Nairobi.","grid.landing2_cta":"ESPLORA","grid.swipe_tuto":"SCORRI PER VEDERE ALTRI MESSAGGI","grid.filters":"FILTRI","grid.filter_country":"I MESSAGGI DEL MIO PAESE","grid.filter_netflix":"I MOMENTI MIGLIORI","grid.filter_all":"TUTTI I MESSAGGI","grid.filter_goodbye_cast":"ADDIO DAL CAST","grid.tuto_drag":"Guarda i messaggi.","grid.undefined":"it.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"IT-it","common.og_title":"Netflix | La Casa di Carta | Ciao Bella Nairobi","common.og_description":"Addio Nairobi.","common.disclaimer_cookie":"Utilizziamo i cookie (##perché?##). Interagendo con questo sito acconsenti all'utilizzo dei cookie.","common.cta_share":"CONDIVIDI","common.share_copied":"Link copiato negli appunti","common.cta_legals":"INFORMAZIONI LEGALI","common.cta_legals_alt":"PRIVACY E CONDIZIONI","common.select_loca":"IT","common.error":"Si è verificato un errore","common.active_sound":"Attiva l'audio","common.undefined":"it.common.undefined","contribution.landing1_text":"Unisciti al resto del mondo e di' addio a Nairobi. Invia il tuo messaggio","contribution.landing1_before_text":"entro il 17 aprile.","contribution.landing1_cta_enter":"DI' ADDIO","contribution.share_tuto_title":"MANDA UN MESSAGGIO DI ADDIO","contribution.share_tuto_text":"Lascia un messaggio, un'immagine o un video per Nairobi.","contribution.share_tuto_disclaimer":"Il formato di visualizzazione del tuo contributo sarà quadrato. Assicurati di centrare il soggetto.","contribution.share_video_disclaimer":"Il file è troppo grande. Dimensioni massime: 80 MB.","contribution.share_select_desktop":"Carica una foto o un video.<br>Dimensioni massime: 80 MB.","contribution.write_message":"Invia un messaggio","contribution.share_select_desktop_cta1":"CONTINUA","contribution.share_copy":"Il testo è troppo lungo, accorcialo.","contribution.share_select_desktop_cta2":"CARICA","contribution.share_name":"Da (facoltativo)","contribution.share_name_img":"Da","contribution.share_name_tuto":"la tua città","contribution.share_email":"Vuoi vedere il tuo messaggio sulla bacheca? Ricevi un link personale via email.","contribution.share_email_tuto":"email","contribution.share_email_tuto_error":"indirizzo email non valido","contribution.check_terms":"Ho più di 16 anni e confermo di aver letto e di accettare l'Informativa sulla ##privacy e le Condizioni##.","contribution.check_terms_error":"Per pubblicare il tuo contributo accetta le Condizioni.","contribution.submit_form":"LASCIA UN MESSAGGIO","contribution.success_title":"GRAZIE!","contribution.success_text":"Il tuo messaggio per Nairobi sarà esaminato e pubblicato accanto agli altri messaggi della <i>Resistenza</i> il 17 aprile.","contribution.success_text2":"Stiamo esaminando il tuo messaggio per Nairobi. Riceverai un'email quando sarà pubblicato accanto agli altri messaggi della <i>Resistenza</i>.","contribution.success_back":"TORNA ALLA HOME","contribution.undefined":"it.contribution.undefined","email.email_object":"CIAO BELLA: il tuo messaggio per Nairobi è stato pubblicato ❤️","email.email_subline":"Il tuo messaggio per Nairobi è stato pubblicato.","email.email_text":'Ciao,\nora anche tu fai parte della bacheca di Nairobi "Ciao Bella". \nVisualizza il tuo messaggio assieme agli altri contributi provenienti da tutto il mondo.\nGrazie per aver partecipato a questa esperienza.',"email.email_cta":"ESPLORA"},es_LA:{"grid.skip_intro":"Omitir intro","grid.landing2_text":"Desde todos los rincones del mundo, <i>La Resistencia</i> se ha unido para despedirse de Nairobi.","grid.landing2_cta":"EXPLORAR","grid.swipe_tuto":"DESLIZA PARA VER MÁS","grid.filters":"FILTROS","grid.filter_country":"MENSAJES DE MI PAÍS","grid.filter_netflix":"LOS MEJORES MOMENTOS","grid.filter_all":"TODOS LOS MENSAJES","grid.filter_goodbye_cast":"DESPEDIDAS DEL ELENCO","grid.tuto_drag":"Descubre sus mensajes.","grid.undefined":"es_LA.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"ES-la","common.og_title":"Netflix | La casa de papel | Ciao Bella Nairobi","common.og_description":"Desde todos los rincones del mundo, La Resistencia se ha unido para despedirse de Nairobi. Descubre sus mensajes.","common.disclaimer_cookie":"Usamos cookies (##¿por qué?##). Si interactúas con este sitio, aceptas el uso de cookies.","common.cta_share":"COMPARTIR","common.share_copied":"Enlace copiado en el portapapeles","common.cta_legals":"AVISOS LEGALES","common.cta_legals_alt":"PRIVACIDAD Y TÉRMINOS DE USO","common.select_loca":"ESLA","common.error":"Hubo un error.","common.active_sound":"Activa el sonido","common.undefined":"es_LA.common.undefined","contribution.landing1_text":"Únete al resto del mundo para despedirte de Nairobi. Envía tu mensaje","contribution.landing1_before_text":"antes del 17 de abril.","contribution.landing1_cta_enter":"ENVÍA TU ADIÓS","contribution.share_tuto_title":"COMPARTE TU TRIBUTO","contribution.share_tuto_text":"Deja tu mensaje, imagen o video para Nairobi.","contribution.share_tuto_disclaimer":"Tu contribución se verá en formato cuadrado. Centra el mensaje.","contribution.share_video_disclaimer":"Lo sentimos, pero el archivo es demasiado grande. Tamaño máximo: 80 MB.","contribution.share_select_desktop":"Sube una foto o video. Tamaño máximo: 80 MB.","contribution.write_message":"Escribe tu mensaje","contribution.share_select_desktop_cta1":"CONTINUAR","contribution.share_copy":"El texto es demasiado largo, acórtalo.","contribution.share_select_desktop_cta2":"SUBIR","contribution.share_name":"De (opcional)","contribution.share_name_img":"De","contribution.share_name_tuto":"tu ciudad","contribution.share_email":"¿Quieres ver tu mensaje en el homenaje? Obtén tu enlace personal por email.","contribution.share_email_tuto":"dirección de email","contribution.share_email_tuto_error":"dirección de email no válida","contribution.check_terms":"Tengo 16 años o más y he leído y acepto ##los Términos y condiciones##.","contribution.check_terms_error":"Para publicar tu contribución, debes aceptar los Términos y condiciones.","contribution.submit_form":"DEJA TU MENSAJE","contribution.success_title":"GRACIAS","contribution.success_text":"Revisaremos tu mensaje para Nairobi y lo publicaremos junto con los&nbsp;demás tributos de <i>La Resistencia</i> el 17 de abril.","contribution.success_text2":"Estamos revisando tu mensaje para Nairobi. Recibirás un email cuando se haya publicado junto con los demás tributos de <i>La Resistencia</i>.","contribution.success_back":"REGRESA AL INICIO","contribution.undefined":"es_LA.contribution.undefined","email.email_object":"CIAO BELLA: Se ha publicado tu mensaje para Nairobi ❤️","email.email_subline":"Se ha publicado tu mensaje para Nairobi.","email.email_text":"Hola: Ya eres parte del homenaje Ciao Bella Nairobi. Descubre tu mensaje entre las publicaciones de todas las partes del mundo. Gracias por unirte al homenaje.","email.email_cta":"EXPLORAR"},de:{"grid.skip_intro":"Intro überspringen","grid.landing2_text":"<i>La Resistencia</i> fand sich aus aller Welt ein, um sich von Nairobi zu verabschieden.","grid.landing2_cta":"ANSCHAUEN","grid.swipe_tuto":"WISCHEN FÜR MEHR","grid.filters":"FILTER","grid.filter_country":"BEITRÄGE AUS MEINEM LAND","grid.filter_netflix":"BESTE MOMENTE","grid.filter_all":"ALLE BEITRÄGE","grid.filter_goodbye_cast":"ABSCHIED DES CASTS","grid.tuto_drag":"Schau dir die Botschaften an.","grid.undefined":"de.grid.undefined","common.site_title":"Ciao Bella","common.og_locale":"DE-de","common.og_title":"Netflix | Haus des Geldes | Ciao Bella Nairobi","common.og_description":"Tschüss, Nairobi.","common.disclaimer_cookie":"Wir verwenden Cookies (##warum?##). Indem Sie diese Website nutzen, stimmen Sie unserer Verwendung von Cookies zu.","common.cta_share":"TEILEN","common.share_copied":"Link wurde in die Zwischenablage kopiert","common.cta_legals":"RECHTSHINWEIS","common.cta_legals_alt":"DATENSCHUTZ UND BEDINGUNGEN","common.select_loca":"DE","common.error":"Es ist ein Fehler aufgetreten.","common.active_sound":"Bitte Ton einschalten.","common.undefined":"de.common.undefined","contribution.landing1_text":"Schließ dich dem Rest der Welt an und verabschiede dich von Nairobi. Sende deine Botschaft","contribution.landing1_before_text":"vor dem 17.04.","contribution.landing1_cta_enter":"VERABSCHIEDE DICH","contribution.share_tuto_title":"SENDE DEINE BOTSCHAFT.","contribution.share_tuto_text":"Sende eine Botschaft, ein Bild oder ein Video für Nairobi.","contribution.share_tuto_disclaimer":"Dein Beitrag wird quadratisch zugeschnitten. Bitte rücke das Hauptobjekt in die Mitte.","contribution.share_video_disclaimer":"Deine Datei ist leider zu groß. Max.: 80 MB.","contribution.share_select_desktop":"Lade ein Foto oder Video hoch. Max. Größe 80 MB.","contribution.write_message":"Schreibe eine Botschaft","contribution.share_select_desktop_cta1":"WEITER","contribution.share_copy":"Text zu lang, bitte reduzieren.","contribution.share_select_desktop_cta2":"HOCHLADEN","contribution.share_name":"Von (optional)","contribution.share_name_img":"Von","contribution.share_name_tuto":"Name deiner Stadt","contribution.share_email":"Möchtest du deinen Beitrag auf dem Denkmal sehen? Erhalte deinen persönlichen Link via E-Mail.","contribution.share_email_tuto":"E-Mail","contribution.share_email_tuto_error":"E-Mail nicht gültig","contribution.check_terms":"Ich bin über 16 und habe die ##Datenschutzhinweise und Bedingungen## gelesen und diese akzeptiert.","contribution.check_terms_error":"Bitte akzeptiere die Nutzungsbedingungen, um deinen Beitrag zu posten.","contribution.submit_form":"HINTERLASSE DEINE BOTSCHAFT","contribution.success_title":"DANKE!","contribution.success_text":"Deine Botschaft für Nairobi wird überprüft und mit den anderen Beiträgen von <i>La Resistencia</i> am 17. April angezeigt.","contribution.success_text2":"Wir überprüfen momentan deine Botschaft für Nairobi. Du wirst eine E-Mail erhalten, wenn sie mit den anderen Beiträgen von <i>La Resistencia</i> angezeigt wird.","contribution.success_back":"ZURÜCK ZUR STARTSEITE","contribution.undefined":"de.contribution.undefined","email.email_object":"CIAO BELLA: Deine Botschaft für Nairobi ist live ❤️","email.email_subline":"Deine Botschaft für Nairobi ist live.","email.email_text":"Hallo, \ndu bist nun Teil des „Ciao Bella“-Denkmals für Nairobi. Sieh deinen Beitrag mit all den anderen Einreichungen aus aller Welt. Vielen Dank, dass du mitgemacht hast.","email.email_cta":"ANSCHAUEN"}},assets:{"bundle.js":{input:"bundle.js",output:{path:"bundle.js",url:"bundle.js"}},"vendor.js":{input:"vendor.js",output:{path:"vendor.js",url:"vendor.js"}},"scripts/main.ts":{input:"scripts/main.ts",output:{path:"main.js",url:"main.js"}},"styles/main.styl":{input:"styles/main.styl",output:{path:"main.css",url:"main.css"}},"assets/audio/intro-video-all-instruments.mp3":{input:"assets/audio/intro-video-all-instruments.mp3",output:{path:"assets/audio/intro-video-all-instruments.mp3",url:"assets/audio/intro-video-all-instruments.mp3"}},"assets/audio/loop-guitar.mp3":{input:"assets/audio/loop-guitar.mp3",output:{path:"assets/audio/loop-guitar.mp3",url:"assets/audio/loop-guitar.mp3"}},"assets/brand-content/_sources/process_brand_content.ps1":{input:"assets/brand-content/_sources/process_brand_content.ps1",output:{path:"assets/brand-content/_sources/process_brand_content.ps1",url:"assets/brand-content/_sources/process_brand_content.ps1"}},"assets/brand-content/photo/photo_poster_17_media.png":{input:"assets/brand-content/photo/photo_poster_17_media.png",output:{path:"assets/brand-content/photo/photo_poster_17_media.png",url:"assets/brand-content/photo/photo_poster_17_media.png"}},"assets/brand-content/photo/photo_poster_17_thumb.png":{input:"assets/brand-content/photo/photo_poster_17_thumb.png",output:{path:"assets/brand-content/photo/photo_poster_17_thumb.png",url:"assets/brand-content/photo/photo_poster_17_thumb.png"}},"assets/brand-content/photo/photo_poster_20_media.png":{input:"assets/brand-content/photo/photo_poster_20_media.png",output:{path:"assets/brand-content/photo/photo_poster_20_media.png",url:"assets/brand-content/photo/photo_poster_20_media.png"}},"assets/brand-content/photo/photo_poster_20_thumb.png":{input:"assets/brand-content/photo/photo_poster_20_thumb.png",output:{path:"assets/brand-content/photo/photo_poster_20_thumb.png",url:"assets/brand-content/photo/photo_poster_20_thumb.png"}},"assets/brand-content/photo/photo_poster_21_media.png":{input:"assets/brand-content/photo/photo_poster_21_media.png",output:{path:"assets/brand-content/photo/photo_poster_21_media.png",url:"assets/brand-content/photo/photo_poster_21_media.png"}},"assets/brand-content/photo/photo_poster_21_thumb.png":{input:"assets/brand-content/photo/photo_poster_21_thumb.png",output:{path:"assets/brand-content/photo/photo_poster_21_thumb.png",url:"assets/brand-content/photo/photo_poster_21_thumb.png"}},"assets/brand-content/photo/photo_resistencia_corner_16_media.png":{input:"assets/brand-content/photo/photo_resistencia_corner_16_media.png",output:{path:"assets/brand-content/photo/photo_resistencia_corner_16_media.png",url:"assets/brand-content/photo/photo_resistencia_corner_16_media.png"}},"assets/brand-content/photo/photo_resistencia_corner_16_thumb.png":{input:"assets/brand-content/photo/photo_resistencia_corner_16_thumb.png",output:{path:"assets/brand-content/photo/photo_resistencia_corner_16_thumb.png",url:"assets/brand-content/photo/photo_resistencia_corner_16_thumb.png"}},"assets/brand-content/photo/photo_resistencia_corner_19_media.png":{input:"assets/brand-content/photo/photo_resistencia_corner_19_media.png",output:{path:"assets/brand-content/photo/photo_resistencia_corner_19_media.png",url:"assets/brand-content/photo/photo_resistencia_corner_19_media.png"}},"assets/brand-content/photo/photo_resistencia_corner_19_thumb.png":{input:"assets/brand-content/photo/photo_resistencia_corner_19_thumb.png",output:{path:"assets/brand-content/photo/photo_resistencia_corner_19_thumb.png",url:"assets/brand-content/photo/photo_resistencia_corner_19_thumb.png"}},"assets/brand-content/photo/photo_white_border_18_media.png":{input:"assets/brand-content/photo/photo_white_border_18_media.png",output:{path:"assets/brand-content/photo/photo_white_border_18_media.png",url:"assets/brand-content/photo/photo_white_border_18_media.png"}},"assets/brand-content/photo/photo_white_border_18_thumb.png":{input:"assets/brand-content/photo/photo_white_border_18_thumb.png",output:{path:"assets/brand-content/photo/photo_white_border_18_thumb.png",url:"assets/brand-content/photo/photo_white_border_18_thumb.png"}},"assets/brand-content/photo/photo_white_border_22_media.png":{input:"assets/brand-content/photo/photo_white_border_22_media.png",output:{path:"assets/brand-content/photo/photo_white_border_22_media.png",url:"assets/brand-content/photo/photo_white_border_22_media.png"}},"assets/brand-content/photo/photo_white_border_22_thumb.png":{input:"assets/brand-content/photo/photo_white_border_22_thumb.png",output:{path:"assets/brand-content/photo/photo_white_border_22_thumb.png",url:"assets/brand-content/photo/photo_white_border_22_thumb.png"}},"assets/brand-content/photo/photo_white_border_23_media.png":{input:"assets/brand-content/photo/photo_white_border_23_media.png",output:{path:"assets/brand-content/photo/photo_white_border_23_media.png",url:"assets/brand-content/photo/photo_white_border_23_media.png"}},"assets/brand-content/photo/photo_white_border_23_thumb.png":{input:"assets/brand-content/photo/photo_white_border_23_thumb.png",output:{path:"assets/brand-content/photo/photo_white_border_23_thumb.png",url:"assets/brand-content/photo/photo_white_border_23_thumb.png"}},"assets/brand-content/quote/quote_all_white_27_media.png":{input:"assets/brand-content/quote/quote_all_white_27_media.png",output:{path:"assets/brand-content/quote/quote_all_white_27_media.png",url:"assets/brand-content/quote/quote_all_white_27_media.png"}},"assets/brand-content/quote/quote_all_white_27_thumb.png":{input:"assets/brand-content/quote/quote_all_white_27_thumb.png",output:{path:"assets/brand-content/quote/quote_all_white_27_thumb.png",url:"assets/brand-content/quote/quote_all_white_27_thumb.png"}},"assets/brand-content/quote/quote_all_white_29_media.png":{input:"assets/brand-content/quote/quote_all_white_29_media.png",output:{path:"assets/brand-content/quote/quote_all_white_29_media.png",url:"assets/brand-content/quote/quote_all_white_29_media.png"}},"assets/brand-content/quote/quote_all_white_29_thumb.png":{input:"assets/brand-content/quote/quote_all_white_29_thumb.png",output:{path:"assets/brand-content/quote/quote_all_white_29_thumb.png",url:"assets/brand-content/quote/quote_all_white_29_thumb.png"}},"assets/brand-content/quote/quote_half_image_24_media.png":{input:"assets/brand-content/quote/quote_half_image_24_media.png",output:{path:"assets/brand-content/quote/quote_half_image_24_media.png",url:"assets/brand-content/quote/quote_half_image_24_media.png"}},"assets/brand-content/quote/quote_half_image_24_thumb.png":{input:"assets/brand-content/quote/quote_half_image_24_thumb.png",output:{path:"assets/brand-content/quote/quote_half_image_24_thumb.png",url:"assets/brand-content/quote/quote_half_image_24_thumb.png"}},"assets/brand-content/quote/quote_half_image_26_media.png":{input:"assets/brand-content/quote/quote_half_image_26_media.png",output:{path:"assets/brand-content/quote/quote_half_image_26_media.png",url:"assets/brand-content/quote/quote_half_image_26_media.png"}},"assets/brand-content/quote/quote_half_image_26_thumb.png":{input:"assets/brand-content/quote/quote_half_image_26_thumb.png",output:{path:"assets/brand-content/quote/quote_half_image_26_thumb.png",url:"assets/brand-content/quote/quote_half_image_26_thumb.png"}},"assets/brand-content/quote/quote_red_25_media.png":{input:"assets/brand-content/quote/quote_red_25_media.png",output:{path:"assets/brand-content/quote/quote_red_25_media.png",url:"assets/brand-content/quote/quote_red_25_media.png"}},"assets/brand-content/quote/quote_red_25_thumb.png":{input:"assets/brand-content/quote/quote_red_25_thumb.png",output:{path:"assets/brand-content/quote/quote_red_25_thumb.png",url:"assets/brand-content/quote/quote_red_25_thumb.png"}},"assets/brand-content/quote/quote_red_28_media.png":{input:"assets/brand-content/quote/quote_red_28_media.png",output:{path:"assets/brand-content/quote/quote_red_28_media.png",url:"assets/brand-content/quote/quote_red_28_media.png"}},"assets/brand-content/quote/quote_red_28_thumb.png":{input:"assets/brand-content/quote/quote_red_28_thumb.png",output:{path:"assets/brand-content/quote/quote_red_28_thumb.png",url:"assets/brand-content/quote/quote_red_28_thumb.png"}},"assets/brand-content/video/video_play_10.mp4":{input:"assets/brand-content/video/video_play_10.mp4",output:{path:"assets/brand-content/video/video_play_10.mp4",url:"assets/brand-content/video/video_play_10.mp4"}},"assets/brand-content/video/video_play_10_media.jpg":{input:"assets/brand-content/video/video_play_10_media.jpg",output:{path:"assets/brand-content/video/video_play_10_media.jpg",url:"assets/brand-content/video/video_play_10_media.jpg"}},"assets/brand-content/video/video_play_10_thumb.jpg":{input:"assets/brand-content/video/video_play_10_thumb.jpg",output:{path:"assets/brand-content/video/video_play_10_thumb.jpg",url:"assets/brand-content/video/video_play_10_thumb.jpg"}},"assets/brand-content/video/video_play_2.mp4":{input:"assets/brand-content/video/video_play_2.mp4",output:{path:"assets/brand-content/video/video_play_2.mp4",url:"assets/brand-content/video/video_play_2.mp4"}},"assets/brand-content/video/video_play_2_media.jpg":{input:"assets/brand-content/video/video_play_2_media.jpg",output:{path:"assets/brand-content/video/video_play_2_media.jpg",url:"assets/brand-content/video/video_play_2_media.jpg"}},"assets/brand-content/video/video_play_2_thumb.jpg":{input:"assets/brand-content/video/video_play_2_thumb.jpg",output:{path:"assets/brand-content/video/video_play_2_thumb.jpg",url:"assets/brand-content/video/video_play_2_thumb.jpg"}},"assets/brand-content/video/video_play_9.mp4":{input:"assets/brand-content/video/video_play_9.mp4",output:{path:"assets/brand-content/video/video_play_9.mp4",url:"assets/brand-content/video/video_play_9.mp4"}},"assets/brand-content/video/video_play_9_media.jpg":{input:"assets/brand-content/video/video_play_9_media.jpg",output:{path:"assets/brand-content/video/video_play_9_media.jpg",url:"assets/brand-content/video/video_play_9_media.jpg"}},"assets/brand-content/video/video_play_9_thumb.jpg":{input:"assets/brand-content/video/video_play_9_thumb.jpg",output:{path:"assets/brand-content/video/video_play_9_thumb.jpg",url:"assets/brand-content/video/video_play_9_thumb.jpg"}},"assets/brand-content/video/video_red_1.mp4":{input:"assets/brand-content/video/video_red_1.mp4",output:{path:"assets/brand-content/video/video_red_1.mp4",url:"assets/brand-content/video/video_red_1.mp4"}},"assets/brand-content/video/video_red_12.mp4":{input:"assets/brand-content/video/video_red_12.mp4",output:{path:"assets/brand-content/video/video_red_12.mp4",url:"assets/brand-content/video/video_red_12.mp4"}},"assets/brand-content/video/video_red_12_media.jpg":{input:"assets/brand-content/video/video_red_12_media.jpg",output:{path:"assets/brand-content/video/video_red_12_media.jpg",url:"assets/brand-content/video/video_red_12_media.jpg"}},"assets/brand-content/video/video_red_12_thumb.jpg":{input:"assets/brand-content/video/video_red_12_thumb.jpg",output:{path:"assets/brand-content/video/video_red_12_thumb.jpg",url:"assets/brand-content/video/video_red_12_thumb.jpg"}},"assets/brand-content/video/video_red_13.mp4":{input:"assets/brand-content/video/video_red_13.mp4",output:{path:"assets/brand-content/video/video_red_13.mp4",url:"assets/brand-content/video/video_red_13.mp4"}},"assets/brand-content/video/video_red_13_media.jpg":{input:"assets/brand-content/video/video_red_13_media.jpg",output:{path:"assets/brand-content/video/video_red_13_media.jpg",url:"assets/brand-content/video/video_red_13_media.jpg"}},"assets/brand-content/video/video_red_13_thumb.jpg":{input:"assets/brand-content/video/video_red_13_thumb.jpg",output:{path:"assets/brand-content/video/video_red_13_thumb.jpg",url:"assets/brand-content/video/video_red_13_thumb.jpg"}},"assets/brand-content/video/video_red_14.mp4":{input:"assets/brand-content/video/video_red_14.mp4",output:{path:"assets/brand-content/video/video_red_14.mp4",url:"assets/brand-content/video/video_red_14.mp4"}},"assets/brand-content/video/video_red_14_media.jpg":{input:"assets/brand-content/video/video_red_14_media.jpg",output:{path:"assets/brand-content/video/video_red_14_media.jpg",url:"assets/brand-content/video/video_red_14_media.jpg"}},"assets/brand-content/video/video_red_14_thumb.jpg":{input:"assets/brand-content/video/video_red_14_thumb.jpg",output:{path:"assets/brand-content/video/video_red_14_thumb.jpg",url:"assets/brand-content/video/video_red_14_thumb.jpg"}},"assets/brand-content/video/video_red_1_media.jpg":{input:"assets/brand-content/video/video_red_1_media.jpg",output:{path:"assets/brand-content/video/video_red_1_media.jpg",url:"assets/brand-content/video/video_red_1_media.jpg"}},"assets/brand-content/video/video_red_1_thumb.jpg":{input:"assets/brand-content/video/video_red_1_thumb.jpg",output:{path:"assets/brand-content/video/video_red_1_thumb.jpg",url:"assets/brand-content/video/video_red_1_thumb.jpg"}},"assets/brand-content/video/video_red_3.mp4":{input:"assets/brand-content/video/video_red_3.mp4",output:{path:"assets/brand-content/video/video_red_3.mp4",url:"assets/brand-content/video/video_red_3.mp4"}},"assets/brand-content/video/video_red_3_media.jpg":{input:"assets/brand-content/video/video_red_3_media.jpg",output:{path:"assets/brand-content/video/video_red_3_media.jpg",url:"assets/brand-content/video/video_red_3_media.jpg"}},"assets/brand-content/video/video_red_3_thumb.jpg":{input:"assets/brand-content/video/video_red_3_thumb.jpg",output:{path:"assets/brand-content/video/video_red_3_thumb.jpg",url:"assets/brand-content/video/video_red_3_thumb.jpg"}},"assets/brand-content/video/video_red_4.mp4":{input:"assets/brand-content/video/video_red_4.mp4",output:{path:"assets/brand-content/video/video_red_4.mp4",url:"assets/brand-content/video/video_red_4.mp4"}},"assets/brand-content/video/video_red_4_media.jpg":{input:"assets/brand-content/video/video_red_4_media.jpg",output:{path:"assets/brand-content/video/video_red_4_media.jpg",url:"assets/brand-content/video/video_red_4_media.jpg"}},"assets/brand-content/video/video_red_4_thumb.jpg":{input:"assets/brand-content/video/video_red_4_thumb.jpg",output:{path:"assets/brand-content/video/video_red_4_thumb.jpg",url:"assets/brand-content/video/video_red_4_thumb.jpg"}},"assets/brand-content/video/video_red_8.mp4":{input:"assets/brand-content/video/video_red_8.mp4",output:{path:"assets/brand-content/video/video_red_8.mp4",url:"assets/brand-content/video/video_red_8.mp4"}},"assets/brand-content/video/video_red_8_media.jpg":{input:"assets/brand-content/video/video_red_8_media.jpg",output:{path:"assets/brand-content/video/video_red_8_media.jpg",url:"assets/brand-content/video/video_red_8_media.jpg"}},"assets/brand-content/video/video_red_8_thumb.jpg":{input:"assets/brand-content/video/video_red_8_thumb.jpg",output:{path:"assets/brand-content/video/video_red_8_thumb.jpg",url:"assets/brand-content/video/video_red_8_thumb.jpg"}},"assets/brand-content/video/video_ugc_41.mp4":{input:"assets/brand-content/video/video_ugc_41.mp4",output:{path:"assets/brand-content/video/video_ugc_41.mp4",url:"assets/brand-content/video/video_ugc_41.mp4"}},"assets/brand-content/video/video_ugc_41_media.jpg":{input:"assets/brand-content/video/video_ugc_41_media.jpg",output:{path:"assets/brand-content/video/video_ugc_41_media.jpg",url:"assets/brand-content/video/video_ugc_41_media.jpg"}},"assets/brand-content/video/video_ugc_41_thumb.jpg":{input:"assets/brand-content/video/video_ugc_41_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_41_thumb.jpg",url:"assets/brand-content/video/video_ugc_41_thumb.jpg"}},"assets/brand-content/video/video_ugc_42.mp4":{input:"assets/brand-content/video/video_ugc_42.mp4",output:{path:"assets/brand-content/video/video_ugc_42.mp4",url:"assets/brand-content/video/video_ugc_42.mp4"}},"assets/brand-content/video/video_ugc_42_media.jpg":{input:"assets/brand-content/video/video_ugc_42_media.jpg",output:{path:"assets/brand-content/video/video_ugc_42_media.jpg",url:"assets/brand-content/video/video_ugc_42_media.jpg"}},"assets/brand-content/video/video_ugc_42_thumb.jpg":{input:"assets/brand-content/video/video_ugc_42_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_42_thumb.jpg",url:"assets/brand-content/video/video_ugc_42_thumb.jpg"}},"assets/brand-content/video/video_ugc_43.mp4":{input:"assets/brand-content/video/video_ugc_43.mp4",output:{path:"assets/brand-content/video/video_ugc_43.mp4",url:"assets/brand-content/video/video_ugc_43.mp4"}},"assets/brand-content/video/video_ugc_43_media.jpg":{input:"assets/brand-content/video/video_ugc_43_media.jpg",output:{path:"assets/brand-content/video/video_ugc_43_media.jpg",url:"assets/brand-content/video/video_ugc_43_media.jpg"}},"assets/brand-content/video/video_ugc_43_thumb.jpg":{input:"assets/brand-content/video/video_ugc_43_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_43_thumb.jpg",url:"assets/brand-content/video/video_ugc_43_thumb.jpg"}},"assets/brand-content/video/video_ugc_44.mp4":{input:"assets/brand-content/video/video_ugc_44.mp4",output:{path:"assets/brand-content/video/video_ugc_44.mp4",url:"assets/brand-content/video/video_ugc_44.mp4"}},"assets/brand-content/video/video_ugc_44_media.jpg":{input:"assets/brand-content/video/video_ugc_44_media.jpg",output:{path:"assets/brand-content/video/video_ugc_44_media.jpg",url:"assets/brand-content/video/video_ugc_44_media.jpg"}},"assets/brand-content/video/video_ugc_44_thumb.jpg":{input:"assets/brand-content/video/video_ugc_44_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_44_thumb.jpg",url:"assets/brand-content/video/video_ugc_44_thumb.jpg"}},"assets/brand-content/video/video_ugc_45.mp4":{input:"assets/brand-content/video/video_ugc_45.mp4",output:{path:"assets/brand-content/video/video_ugc_45.mp4",url:"assets/brand-content/video/video_ugc_45.mp4"}},"assets/brand-content/video/video_ugc_45_media.jpg":{input:"assets/brand-content/video/video_ugc_45_media.jpg",output:{path:"assets/brand-content/video/video_ugc_45_media.jpg",url:"assets/brand-content/video/video_ugc_45_media.jpg"}},"assets/brand-content/video/video_ugc_45_thumb.jpg":{input:"assets/brand-content/video/video_ugc_45_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_45_thumb.jpg",url:"assets/brand-content/video/video_ugc_45_thumb.jpg"}},"assets/brand-content/video/video_ugc_46.mp4":{input:"assets/brand-content/video/video_ugc_46.mp4",output:{path:"assets/brand-content/video/video_ugc_46.mp4",url:"assets/brand-content/video/video_ugc_46.mp4"}},"assets/brand-content/video/video_ugc_46_media.jpg":{input:"assets/brand-content/video/video_ugc_46_media.jpg",output:{path:"assets/brand-content/video/video_ugc_46_media.jpg",url:"assets/brand-content/video/video_ugc_46_media.jpg"}},"assets/brand-content/video/video_ugc_46_thumb.jpg":{input:"assets/brand-content/video/video_ugc_46_thumb.jpg",output:{path:"assets/brand-content/video/video_ugc_46_thumb.jpg",url:"assets/brand-content/video/video_ugc_46_thumb.jpg"}},"assets/brand-content/video/video_white_border_11.mp4":{input:"assets/brand-content/video/video_white_border_11.mp4",output:{path:"assets/brand-content/video/video_white_border_11.mp4",url:"assets/brand-content/video/video_white_border_11.mp4"}},"assets/brand-content/video/video_white_border_11_media.jpg":{input:"assets/brand-content/video/video_white_border_11_media.jpg",output:{path:"assets/brand-content/video/video_white_border_11_media.jpg",url:"assets/brand-content/video/video_white_border_11_media.jpg"}},"assets/brand-content/video/video_white_border_11_thumb.jpg":{input:"assets/brand-content/video/video_white_border_11_thumb.jpg",output:{path:"assets/brand-content/video/video_white_border_11_thumb.jpg",url:"assets/brand-content/video/video_white_border_11_thumb.jpg"}},"assets/brand-content/video/video_white_border_5.mp4":{input:"assets/brand-content/video/video_white_border_5.mp4",output:{path:"assets/brand-content/video/video_white_border_5.mp4",url:"assets/brand-content/video/video_white_border_5.mp4"}},"assets/brand-content/video/video_white_border_5_media.jpg":{input:"assets/brand-content/video/video_white_border_5_media.jpg",output:{path:"assets/brand-content/video/video_white_border_5_media.jpg",url:"assets/brand-content/video/video_white_border_5_media.jpg"}},"assets/brand-content/video/video_white_border_5_thumb.jpg":{input:"assets/brand-content/video/video_white_border_5_thumb.jpg",output:{path:"assets/brand-content/video/video_white_border_5_thumb.jpg",url:"assets/brand-content/video/video_white_border_5_thumb.jpg"}},"assets/brand-content/video/video_white_border_6.mp4":{input:"assets/brand-content/video/video_white_border_6.mp4",output:{path:"assets/brand-content/video/video_white_border_6.mp4",url:"assets/brand-content/video/video_white_border_6.mp4"}},"assets/brand-content/video/video_white_border_6_media.jpg":{input:"assets/brand-content/video/video_white_border_6_media.jpg",output:{path:"assets/brand-content/video/video_white_border_6_media.jpg",url:"assets/brand-content/video/video_white_border_6_media.jpg"}},"assets/brand-content/video/video_white_border_6_thumb.jpg":{input:"assets/brand-content/video/video_white_border_6_thumb.jpg",output:{path:"assets/brand-content/video/video_white_border_6_thumb.jpg",url:"assets/brand-content/video/video_white_border_6_thumb.jpg"}},"assets/brand-content/video/video_white_border_7.mp4":{input:"assets/brand-content/video/video_white_border_7.mp4",output:{path:"assets/brand-content/video/video_white_border_7.mp4",url:"assets/brand-content/video/video_white_border_7.mp4"}},"assets/brand-content/video/video_white_border_7_media.jpg":{input:"assets/brand-content/video/video_white_border_7_media.jpg",output:{path:"assets/brand-content/video/video_white_border_7_media.jpg",url:"assets/brand-content/video/video_white_border_7_media.jpg"}},"assets/brand-content/video/video_white_border_7_thumb.jpg":{input:"assets/brand-content/video/video_white_border_7_thumb.jpg",output:{path:"assets/brand-content/video/video_white_border_7_thumb.jpg",url:"assets/brand-content/video/video_white_border_7_thumb.jpg"}},"assets/buttons/arrow-red_button.png":{input:"assets/buttons/arrow-red_button.png",output:{path:"assets/buttons/arrow-red_button.png",url:"assets/buttons/arrow-red_button.png"}},"assets/buttons/arrow-white_button.png":{input:"assets/buttons/arrow-white_button.png",output:{path:"assets/buttons/arrow-white_button.png",url:"assets/buttons/arrow-white_button.png"}},"assets/buttons/burger_button.png":{input:"assets/buttons/burger_button.png",output:{path:"assets/buttons/burger_button.png",url:"assets/buttons/burger_button.png"}},"assets/buttons/camera_button.png":{input:"assets/buttons/camera_button.png",output:{path:"assets/buttons/camera_button.png",url:"assets/buttons/camera_button.png"}},"assets/buttons/cancel-black_button.png":{input:"assets/buttons/cancel-black_button.png",output:{path:"assets/buttons/cancel-black_button.png",url:"assets/buttons/cancel-black_button.png"}},"assets/buttons/cancel-white_button.png":{input:"assets/buttons/cancel-white_button.png",output:{path:"assets/buttons/cancel-white_button.png",url:"assets/buttons/cancel-white_button.png"}},"assets/buttons/circle-1-red_button.png":{input:"assets/buttons/circle-1-red_button.png",output:{path:"assets/buttons/circle-1-red_button.png",url:"assets/buttons/circle-1-red_button.png"}},"assets/buttons/circle-1-white_button.png":{input:"assets/buttons/circle-1-white_button.png",output:{path:"assets/buttons/circle-1-white_button.png",url:"assets/buttons/circle-1-white_button.png"}},"assets/buttons/circle-2-red_button.png":{input:"assets/buttons/circle-2-red_button.png",output:{path:"assets/buttons/circle-2-red_button.png",url:"assets/buttons/circle-2-red_button.png"}},"assets/buttons/circle-2-white_button.png":{input:"assets/buttons/circle-2-white_button.png",output:{path:"assets/buttons/circle-2-white_button.png",url:"assets/buttons/circle-2-white_button.png"}},"assets/buttons/circle-3-red_button.png":{input:"assets/buttons/circle-3-red_button.png",output:{path:"assets/buttons/circle-3-red_button.png",url:"assets/buttons/circle-3-red_button.png"}},"assets/buttons/circle-3-white_button.png":{input:"assets/buttons/circle-3-white_button.png",output:{path:"assets/buttons/circle-3-white_button.png",url:"assets/buttons/circle-3-white_button.png"}},"assets/buttons/close_button.png":{input:"assets/buttons/close_button.png",output:{path:"assets/buttons/close_button.png",url:"assets/buttons/close_button.png"}},"assets/buttons/cta_line_bottom.png":{input:"assets/buttons/cta_line_bottom.png",output:{path:"assets/buttons/cta_line_bottom.png",url:"assets/buttons/cta_line_bottom.png"}},"assets/buttons/cta_line_top.png":{input:"assets/buttons/cta_line_top.png",output:{path:"assets/buttons/cta_line_top.png",url:"assets/buttons/cta_line_top.png"}},"assets/buttons/filter-active_button.png":{input:"assets/buttons/filter-active_button.png",output:{path:"assets/buttons/filter-active_button.png",url:"assets/buttons/filter-active_button.png"}},"assets/buttons/filter-inactive_button.png":{input:"assets/buttons/filter-inactive_button.png",output:{path:"assets/buttons/filter-inactive_button.png",url:"assets/buttons/filter-inactive_button.png"}},"assets/buttons/filter-roll_button.png":{input:"assets/buttons/filter-roll_button.png",output:{path:"assets/buttons/filter-roll_button.png",url:"assets/buttons/filter-roll_button.png"}},"assets/buttons/play_button.png":{input:"assets/buttons/play_button.png",output:{path:"assets/buttons/play_button.png",url:"assets/buttons/play_button.png"}},"assets/buttons/sound-line-1.png":{input:"assets/buttons/sound-line-1.png",output:{path:"assets/buttons/sound-line-1.png",url:"assets/buttons/sound-line-1.png"}},"assets/buttons/sound-line-2.png":{input:"assets/buttons/sound-line-2.png",output:{path:"assets/buttons/sound-line-2.png",url:"assets/buttons/sound-line-2.png"}},"assets/buttons/sound-line-3.png":{input:"assets/buttons/sound-line-3.png",output:{path:"assets/buttons/sound-line-3.png",url:"assets/buttons/sound-line-3.png"}},"assets/buttons/sound-line-4.png":{input:"assets/buttons/sound-line-4.png",output:{path:"assets/buttons/sound-line-4.png",url:"assets/buttons/sound-line-4.png"}},"assets/buttons/sound_button.png":{input:"assets/buttons/sound_button.png",output:{path:"assets/buttons/sound_button.png",url:"assets/buttons/sound_button.png"}},"assets/buttons/upload_button.png":{input:"assets/buttons/upload_button.png",output:{path:"assets/buttons/upload_button.png",url:"assets/buttons/upload_button.png"}},"assets/buttons/validate-black_button.png":{input:"assets/buttons/validate-black_button.png",output:{path:"assets/buttons/validate-black_button.png",url:"assets/buttons/validate-black_button.png"}},"assets/buttons/validate-white_button.png":{input:"assets/buttons/validate-white_button.png",output:{path:"assets/buttons/validate-white_button.png",url:"assets/buttons/validate-white_button.png"}},"assets/buttons/write_button.png":{input:"assets/buttons/write_button.png",output:{path:"assets/buttons/write_button.png",url:"assets/buttons/write_button.png"}},"assets/cursor/cursor_eye.png":{input:"assets/cursor/cursor_eye.png",output:{path:"assets/cursor/cursor_eye.png",url:"assets/cursor/cursor_eye.png"}},"assets/cursor/cursor_main.png":{input:"assets/cursor/cursor_main.png",output:{path:"assets/cursor/cursor_main.png",url:"assets/cursor/cursor_main.png"}},"assets/cursor/cursor_point.png":{input:"assets/cursor/cursor_point.png",output:{path:"assets/cursor/cursor_point.png",url:"assets/cursor/cursor_point.png"}},"assets/favicon_16x16.png":{input:"assets/favicon_16x16.png",output:{path:"assets/favicon_16x16.png",url:"assets/favicon_16x16.png"}},"assets/favicon_32x32.png":{input:"assets/favicon_32x32.png",output:{path:"assets/favicon_32x32.png",url:"assets/favicon_32x32.png"}},"assets/favicon_96x96.png":{input:"assets/favicon_96x96.png",output:{path:"assets/favicon_96x96.png",url:"assets/favicon_96x96.png"}},"assets/flags.png":{input:"assets/flags.png",output:{path:"assets/flags.png",url:"assets/flags.png"}},"assets/fonts/cedarville.woff":{input:"assets/fonts/cedarville.woff",output:{path:"assets/fonts/cedarville.woff",url:"assets/fonts/cedarville.woff"}},"assets/fonts/indieflower-regular-webfont.woff":{input:"assets/fonts/indieflower-regular-webfont.woff",output:{path:"assets/fonts/indieflower-regular-webfont.woff",url:"assets/fonts/indieflower-regular-webfont.woff"}},"assets/fonts/poppins/poppins-light-webfont.woff":{input:"assets/fonts/poppins/poppins-light-webfont.woff",output:{path:"assets/fonts/poppins/poppins-light-webfont.woff",url:"assets/fonts/poppins/poppins-light-webfont.woff"}},"assets/fonts/poppins/poppins-light-webfont.woff2":{input:"assets/fonts/poppins/poppins-light-webfont.woff2",output:{path:"assets/fonts/poppins/poppins-light-webfont.woff2",url:"assets/fonts/poppins/poppins-light-webfont.woff2"}},"assets/fonts/poppins/poppins-medium-webfont.woff":{input:"assets/fonts/poppins/poppins-medium-webfont.woff",output:{path:"assets/fonts/poppins/poppins-medium-webfont.woff",url:"assets/fonts/poppins/poppins-medium-webfont.woff"}},"assets/fonts/poppins/poppins-medium-webfont.woff2":{input:"assets/fonts/poppins/poppins-medium-webfont.woff2",output:{path:"assets/fonts/poppins/poppins-medium-webfont.woff2",url:"assets/fonts/poppins/poppins-medium-webfont.woff2"}},"assets/fonts/poppins/poppins-regular-webfont.woff":{input:"assets/fonts/poppins/poppins-regular-webfont.woff",output:{path:"assets/fonts/poppins/poppins-regular-webfont.woff",url:"assets/fonts/poppins/poppins-regular-webfont.woff"}},"assets/fonts/poppins/poppins-regular-webfont.woff2":{input:"assets/fonts/poppins/poppins-regular-webfont.woff2",output:{path:"assets/fonts/poppins/poppins-regular-webfont.woff2",url:"assets/fonts/poppins/poppins-regular-webfont.woff2"}},"assets/fonts/rock-salt.woff":{input:"assets/fonts/rock-salt.woff",output:{path:"assets/fonts/rock-salt.woff",url:"assets/fonts/rock-salt.woff"}},"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff":{input:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff",output:{path:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff",url:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff"}},"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff2":{input:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff2",output:{path:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff2",url:"assets/fonts/vanguard/vanguardcf-demibold-webfont.woff2"}},"assets/fonts/vanguard/vanguardcf-medium-webfont.woff":{input:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff",output:{path:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff",url:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff"}},"assets/fonts/vanguard/vanguardcf-medium-webfont.woff2":{input:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff2",output:{path:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff2",url:"assets/fonts/vanguard/vanguardcf-medium-webfont.woff2"}},"assets/fonts/vanguard/vanguardcf-regular-webfont.woff":{input:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff",output:{path:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff",url:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff"}},"assets/fonts/vanguard/vanguardcf-regular-webfont.woff2":{input:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff2",output:{path:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff2",url:"assets/fonts/vanguard/vanguardcf-regular-webfont.woff2"}},"assets/input_line.png":{input:"assets/input_line.png",output:{path:"assets/input_line.png",url:"assets/input_line.png"}},"assets/introduction_title.png":{input:"assets/introduction_title.png",output:{path:"assets/introduction_title.png",url:"assets/introduction_title.png"}},"assets/introduction_title_mobile.png":{input:"assets/introduction_title_mobile.png",output:{path:"assets/introduction_title_mobile.png",url:"assets/introduction_title_mobile.png"}},"assets/json_generator.txt":{input:"assets/json_generator.txt",output:{path:"assets/json_generator.txt",url:"assets/json_generator.txt"}},"assets/legals/ar/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/ar/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/ar/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/ar/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/de/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/de/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/de/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/de/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/en/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/en/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/en/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/en/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/es/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/es/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/es/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/es/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/es_LA/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/es_LA/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/es_LA/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/es_LA/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/fr/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/fr/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/fr/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/fr/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/it/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/it/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/it/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/it/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/pt_BR/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/pt_BR/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/pt_BR/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/pt_BR/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/legals/pt_PT/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf":{input:"assets/legals/pt_PT/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",output:{path:"assets/legals/pt_PT/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf",url:"assets/legals/pt_PT/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf"}},"assets/letter.jpg":{input:"assets/letter.jpg",output:{path:"assets/letter.jpg",url:"assets/letter.jpg"}},"assets/letter_top.png":{input:"assets/letter_top.png",output:{path:"assets/letter_top.png",url:"assets/letter_top.png"}},"assets/loader/flower.json":{input:"assets/loader/flower.json",output:{path:"assets/loader/flower.json",url:"assets/loader/flower.json"}},"assets/loader/flower.png":{input:"assets/loader/flower.png",output:{path:"assets/loader/flower.png",url:"assets/loader/flower.png"}},"assets/loader/noise.png":{input:"assets/loader/noise.png",output:{path:"assets/loader/noise.png",url:"assets/loader/noise.png"}},"assets/media_fanart_debug.png":{input:"assets/media_fanart_debug.png",output:{path:"assets/media_fanart_debug.png",url:"assets/media_fanart_debug.png"}},"assets/media_text_debug.png":{input:"assets/media_text_debug.png",output:{path:"assets/media_text_debug.png",url:"assets/media_text_debug.png"}},"assets/menu_background.jpg":{input:"assets/menu_background.jpg",output:{path:"assets/menu_background.jpg",url:"assets/menu_background.jpg"}},"assets/mock_media_data.json":{input:"assets/mock_media_data.json",output:{path:"assets/mock_media_data.json",url:"assets/mock_media_data.json"}},"assets/mock_media_data_country.json":{input:"assets/mock_media_data_country.json",output:{path:"assets/mock_media_data_country.json",url:"assets/mock_media_data_country.json"}},"assets/mock_media_data_netflix.json":{input:"assets/mock_media_data_netflix.json",output:{path:"assets/mock_media_data_netflix.json",url:"assets/mock_media_data_netflix.json"}},"assets/onboarding/ar/onboarding_title.png":{input:"assets/onboarding/ar/onboarding_title.png",output:{path:"assets/onboarding/ar/onboarding_title.png",url:"assets/onboarding/ar/onboarding_title.png"}},"assets/onboarding/de/onboarding_title.png":{input:"assets/onboarding/de/onboarding_title.png",output:{path:"assets/onboarding/de/onboarding_title.png",url:"assets/onboarding/de/onboarding_title.png"}},"assets/onboarding/en/onboarding_title.png":{input:"assets/onboarding/en/onboarding_title.png",output:{path:"assets/onboarding/en/onboarding_title.png",url:"assets/onboarding/en/onboarding_title.png"}},"assets/onboarding/es/onboarding_title.png":{input:"assets/onboarding/es/onboarding_title.png",output:{path:"assets/onboarding/es/onboarding_title.png",url:"assets/onboarding/es/onboarding_title.png"}},"assets/onboarding/es_LA/onboarding_title.png":{input:"assets/onboarding/es_LA/onboarding_title.png",output:{path:"assets/onboarding/es_LA/onboarding_title.png",url:"assets/onboarding/es_LA/onboarding_title.png"}},"assets/onboarding/fr/onboarding_title.png":{input:"assets/onboarding/fr/onboarding_title.png",output:{path:"assets/onboarding/fr/onboarding_title.png",url:"assets/onboarding/fr/onboarding_title.png"}},"assets/onboarding/it/onboarding_title.png":{input:"assets/onboarding/it/onboarding_title.png",output:{path:"assets/onboarding/it/onboarding_title.png",url:"assets/onboarding/it/onboarding_title.png"}},"assets/onboarding/pt_BR/onboarding_title.png":{input:"assets/onboarding/pt_BR/onboarding_title.png",output:{path:"assets/onboarding/pt_BR/onboarding_title.png",url:"assets/onboarding/pt_BR/onboarding_title.png"}},"assets/onboarding/pt_PT/onboarding_title.png":{input:"assets/onboarding/pt_PT/onboarding_title.png",output:{path:"assets/onboarding/pt_PT/onboarding_title.png",url:"assets/onboarding/pt_PT/onboarding_title.png"}},"assets/onboarding_title.png":{input:"assets/onboarding_title.png",output:{path:"assets/onboarding_title.png",url:"assets/onboarding_title.png"}},"assets/sprite/cursor/close_0559.png":{input:"assets/sprite/cursor/close_0559.png",output:{path:"assets/sprite/cursor/close_0559.png",url:"assets/sprite/cursor/close_0559.png"}},"assets/sprite/cursor/cursor_cross.png":{input:"assets/sprite/cursor/cursor_cross.png",output:{path:"assets/sprite/cursor/cursor_cross.png",url:"assets/sprite/cursor/cursor_cross.png"}},"assets/sprite/cursor/cursor_eye.png":{input:"assets/sprite/cursor/cursor_eye.png",output:{path:"assets/sprite/cursor/cursor_eye.png",url:"assets/sprite/cursor/cursor_eye.png"}},"assets/sprite/flower/flower.json":{input:"assets/sprite/flower/flower.json",output:{path:"assets/sprite/flower/flower.json",url:"assets/sprite/flower/flower.json"}},"assets/sprite/flower/flower.png":{input:"assets/sprite/flower/flower.png",output:{path:"assets/sprite/flower/flower.png",url:"assets/sprite/flower/flower.png"}},"assets/thanks/ar/thanks.png":{input:"assets/thanks/ar/thanks.png",output:{path:"assets/thanks/ar/thanks.png",url:"assets/thanks/ar/thanks.png"}},"assets/thanks/de/thanks.png":{input:"assets/thanks/de/thanks.png",output:{path:"assets/thanks/de/thanks.png",url:"assets/thanks/de/thanks.png"}},"assets/thanks/en/thanks.png":{input:"assets/thanks/en/thanks.png",output:{path:"assets/thanks/en/thanks.png",url:"assets/thanks/en/thanks.png"}},"assets/thanks/es/thanks.png":{input:"assets/thanks/es/thanks.png",output:{path:"assets/thanks/es/thanks.png",url:"assets/thanks/es/thanks.png"}},"assets/thanks/es_LA/thanks.png":{input:"assets/thanks/es_LA/thanks.png",output:{path:"assets/thanks/es_LA/thanks.png",url:"assets/thanks/es_LA/thanks.png"}},"assets/thanks/fr/thanks.png":{input:"assets/thanks/fr/thanks.png",output:{path:"assets/thanks/fr/thanks.png",url:"assets/thanks/fr/thanks.png"}},"assets/thanks/it/thanks.png":{input:"assets/thanks/it/thanks.png",output:{path:"assets/thanks/it/thanks.png",url:"assets/thanks/it/thanks.png"}},"assets/thanks/pt_BR/thanks.png":{input:"assets/thanks/pt_BR/thanks.png",output:{path:"assets/thanks/pt_BR/thanks.png",url:"assets/thanks/pt_BR/thanks.png"}},"assets/thanks/pt_PT/thanks.png":{input:"assets/thanks/pt_PT/thanks.png",output:{path:"assets/thanks/pt_PT/thanks.png",url:"assets/thanks/pt_PT/thanks.png"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_ar.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_ar.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_ar.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_ar.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_de.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_de.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_de.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_de.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_en.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_en.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_en.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_en.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es_LA.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es_LA.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es_LA.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_es_LA.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_fr.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_fr.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_fr.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_fr.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_it.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_it.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_it.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_it.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_BR.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_BR.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_BR.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_BR.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_PT.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_PT.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_PT.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_pt_PT.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_ar.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_ar.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_ar.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_ar.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_de.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_de.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_de.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_de.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_en.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_en.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_en.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_en.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es_LA.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es_LA.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es_LA.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_es_LA.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_fr.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_fr.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_fr.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_fr.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_it.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_it.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_it.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_it.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_BR.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_BR.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_BR.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_BR.mp4"}},"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_PT.mp4":{input:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_PT.mp4",output:{path:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_PT.mp4",url:"assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_pt_PT.mp4"}},"assets/webgl/assets.ps1":{input:"assets/webgl/assets.ps1",output:{path:"assets/webgl/assets.ps1",url:"assets/webgl/assets.ps1"}},"assets/webgl/assets.sh":{input:"assets/webgl/assets.sh",output:{path:"assets/webgl/assets.sh",url:"assets/webgl/assets.sh"}},"assets/webgl/aurora.basis":{input:"assets/webgl/aurora.basis",output:{path:"assets/webgl/aurora.basis",url:"assets/webgl/aurora.basis"}},"assets/webgl/ciaobella/_ciaobella.glb":{input:"assets/webgl/ciaobella/_ciaobella.glb",output:{path:"assets/webgl/ciaobella/_ciaobella.glb",url:"assets/webgl/ciaobella/_ciaobella.glb"}},"assets/webgl/ciaobella/ciaobella.glb":{input:"assets/webgl/ciaobella/ciaobella.glb",output:{path:"assets/webgl/ciaobella/ciaobella.glb",url:"assets/webgl/ciaobella/ciaobella.glb"}},"assets/webgl/ciaobella/ciaobella_text_albedo.basis":{input:"assets/webgl/ciaobella/ciaobella_text_albedo.basis",output:{path:"assets/webgl/ciaobella/ciaobella_text_albedo.basis",url:"assets/webgl/ciaobella/ciaobella_text_albedo.basis"}},"assets/webgl/ciaobella/ciaobella_text_albedo.png":{input:"assets/webgl/ciaobella/ciaobella_text_albedo.png",output:{path:"assets/webgl/ciaobella/ciaobella_text_albedo.png",url:"assets/webgl/ciaobella/ciaobella_text_albedo.png"}},"assets/webgl/ciaobella/poster_left_albedo.basis":{input:"assets/webgl/ciaobella/poster_left_albedo.basis",output:{path:"assets/webgl/ciaobella/poster_left_albedo.basis",url:"assets/webgl/ciaobella/poster_left_albedo.basis"}},"assets/webgl/ciaobella/poster_left_albedo.png":{input:"assets/webgl/ciaobella/poster_left_albedo.png",output:{path:"assets/webgl/ciaobella/poster_left_albedo.png",url:"assets/webgl/ciaobella/poster_left_albedo.png"}},"assets/webgl/ciaobella/poster_right_albedo.basis":{input:"assets/webgl/ciaobella/poster_right_albedo.basis",output:{path:"assets/webgl/ciaobella/poster_right_albedo.basis",url:"assets/webgl/ciaobella/poster_right_albedo.basis"}},"assets/webgl/ciaobella/poster_right_albedo.png":{input:"assets/webgl/ciaobella/poster_right_albedo.png",output:{path:"assets/webgl/ciaobella/poster_right_albedo.png",url:"assets/webgl/ciaobella/poster_right_albedo.png"}},"assets/webgl/ciaobella/stroke_horizontal_albedo.basis":{input:"assets/webgl/ciaobella/stroke_horizontal_albedo.basis",output:{path:"assets/webgl/ciaobella/stroke_horizontal_albedo.basis",url:"assets/webgl/ciaobella/stroke_horizontal_albedo.basis"}},"assets/webgl/ciaobella/stroke_horizontal_albedo.png":{input:"assets/webgl/ciaobella/stroke_horizontal_albedo.png",output:{path:"assets/webgl/ciaobella/stroke_horizontal_albedo.png",url:"assets/webgl/ciaobella/stroke_horizontal_albedo.png"}},"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.basis":{input:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.basis",output:{path:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.basis",url:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.basis"}},"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.png":{input:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.png",output:{path:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.png",url:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.png"}},"assets/webgl/ciaobella/stroke_vertical_albedo.basis":{input:"assets/webgl/ciaobella/stroke_vertical_albedo.basis",output:{path:"assets/webgl/ciaobella/stroke_vertical_albedo.basis",url:"assets/webgl/ciaobella/stroke_vertical_albedo.basis"}},"assets/webgl/ciaobella/stroke_vertical_albedo.png":{input:"assets/webgl/ciaobella/stroke_vertical_albedo.png",output:{path:"assets/webgl/ciaobella/stroke_vertical_albedo.png",url:"assets/webgl/ciaobella/stroke_vertical_albedo.png"}},"assets/webgl/ciaobella/stroke_vertical_mask_albedo.basis":{input:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.basis",output:{path:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.basis",url:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.basis"}},"assets/webgl/ciaobella/stroke_vertical_mask_albedo.png":{input:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.png",output:{path:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.png",url:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.png"}},"assets/webgl/city_test.png":{input:"assets/webgl/city_test.png",output:{path:"assets/webgl/city_test.png",url:"assets/webgl/city_test.png"}},"assets/webgl/cursor_grunge.jpg":{input:"assets/webgl/cursor_grunge.jpg",output:{path:"assets/webgl/cursor_grunge.jpg",url:"assets/webgl/cursor_grunge.jpg"}},"assets/webgl/envs/studio_052-v1/bg.jpg":{input:"assets/webgl/envs/studio_052-v1/bg.jpg",output:{path:"assets/webgl/envs/studio_052-v1/bg.jpg",url:"assets/webgl/envs/studio_052-v1/bg.jpg"}},"assets/webgl/envs/studio_052-v1/env.png":{input:"assets/webgl/envs/studio_052-v1/env.png",output:{path:"assets/webgl/envs/studio_052-v1/env.png",url:"assets/webgl/envs/studio_052-v1/env.png"}},"assets/webgl/envs/studio_052-v1/env_hi.png":{input:"assets/webgl/envs/studio_052-v1/env_hi.png",output:{path:"assets/webgl/envs/studio_052-v1/env_hi.png",url:"assets/webgl/envs/studio_052-v1/env_hi.png"}},"assets/webgl/envs/studio_052-v1/sh.bin":{input:"assets/webgl/envs/studio_052-v1/sh.bin",output:{path:"assets/webgl/envs/studio_052-v1/sh.bin",url:"assets/webgl/envs/studio_052-v1/sh.bin"}},"assets/webgl/grid/fanart_1_Albedo.basis":{input:"assets/webgl/grid/fanart_1_Albedo.basis",output:{path:"assets/webgl/grid/fanart_1_Albedo.basis",url:"assets/webgl/grid/fanart_1_Albedo.basis"}},"assets/webgl/grid/fanart_1_Albedo.png":{input:"assets/webgl/grid/fanart_1_Albedo.png",output:{path:"assets/webgl/grid/fanart_1_Albedo.png",url:"assets/webgl/grid/fanart_1_Albedo.png"}},"assets/webgl/grid/fanart_1_CGS.basis":{input:"assets/webgl/grid/fanart_1_CGS.basis",output:{path:"assets/webgl/grid/fanart_1_CGS.basis",url:"assets/webgl/grid/fanart_1_CGS.basis"}},"assets/webgl/grid/fanart_1_CGS.jpg":{input:"assets/webgl/grid/fanart_1_CGS.jpg",output:{path:"assets/webgl/grid/fanart_1_CGS.jpg",url:"assets/webgl/grid/fanart_1_CGS.jpg"}},"assets/webgl/grid/fanart_1_Normal.png":{input:"assets/webgl/grid/fanart_1_Normal.png",output:{path:"assets/webgl/grid/fanart_1_Normal.png",url:"assets/webgl/grid/fanart_1_Normal.png"}},"assets/webgl/grid/fanart_2_Albedo.basis":{input:"assets/webgl/grid/fanart_2_Albedo.basis",output:{path:"assets/webgl/grid/fanart_2_Albedo.basis",url:"assets/webgl/grid/fanart_2_Albedo.basis"}},"assets/webgl/grid/fanart_2_Albedo.png":{input:"assets/webgl/grid/fanart_2_Albedo.png",output:{path:"assets/webgl/grid/fanart_2_Albedo.png",url:"assets/webgl/grid/fanart_2_Albedo.png"}},"assets/webgl/grid/fanart_2_CGS.basis":{input:"assets/webgl/grid/fanart_2_CGS.basis",output:{path:"assets/webgl/grid/fanart_2_CGS.basis",url:"assets/webgl/grid/fanart_2_CGS.basis"}},"assets/webgl/grid/fanart_2_CGS.jpg":{input:"assets/webgl/grid/fanart_2_CGS.jpg",output:{path:"assets/webgl/grid/fanart_2_CGS.jpg",url:"assets/webgl/grid/fanart_2_CGS.jpg"}},"assets/webgl/grid/fanart_2_Normal.png":{input:"assets/webgl/grid/fanart_2_Normal.png",output:{path:"assets/webgl/grid/fanart_2_Normal.png",url:"assets/webgl/grid/fanart_2_Normal.png"}},"assets/webgl/grid/fanart_3_Albedo.basis":{input:"assets/webgl/grid/fanart_3_Albedo.basis",output:{path:"assets/webgl/grid/fanart_3_Albedo.basis",url:"assets/webgl/grid/fanart_3_Albedo.basis"}},"assets/webgl/grid/fanart_3_Albedo.png":{input:"assets/webgl/grid/fanart_3_Albedo.png",output:{path:"assets/webgl/grid/fanart_3_Albedo.png",url:"assets/webgl/grid/fanart_3_Albedo.png"}},"assets/webgl/grid/fanart_3_CGS.basis":{input:"assets/webgl/grid/fanart_3_CGS.basis",output:{path:"assets/webgl/grid/fanart_3_CGS.basis",url:"assets/webgl/grid/fanart_3_CGS.basis"}},"assets/webgl/grid/fanart_3_CGS.jpg":{input:"assets/webgl/grid/fanart_3_CGS.jpg",output:{path:"assets/webgl/grid/fanart_3_CGS.jpg",url:"assets/webgl/grid/fanart_3_CGS.jpg"}},"assets/webgl/grid/fanart_3_Normal.png":{input:"assets/webgl/grid/fanart_3_Normal.png",output:{path:"assets/webgl/grid/fanart_3_Normal.png",url:"assets/webgl/grid/fanart_3_Normal.png"}},"assets/webgl/grid/picture-poster_Normal.png":{input:"assets/webgl/grid/picture-poster_Normal.png",output:{path:"assets/webgl/grid/picture-poster_Normal.png",url:"assets/webgl/grid/picture-poster_Normal.png"}},"assets/webgl/grid/picture_1_Albedo.basis":{input:"assets/webgl/grid/picture_1_Albedo.basis",output:{path:"assets/webgl/grid/picture_1_Albedo.basis",url:"assets/webgl/grid/picture_1_Albedo.basis"}},"assets/webgl/grid/picture_1_Albedo.png":{input:"assets/webgl/grid/picture_1_Albedo.png",output:{path:"assets/webgl/grid/picture_1_Albedo.png",url:"assets/webgl/grid/picture_1_Albedo.png"}},"assets/webgl/grid/picture_1_CGS.basis":{input:"assets/webgl/grid/picture_1_CGS.basis",output:{path:"assets/webgl/grid/picture_1_CGS.basis",url:"assets/webgl/grid/picture_1_CGS.basis"}},"assets/webgl/grid/picture_1_CGS.jpg":{input:"assets/webgl/grid/picture_1_CGS.jpg",output:{path:"assets/webgl/grid/picture_1_CGS.jpg",url:"assets/webgl/grid/picture_1_CGS.jpg"}},"assets/webgl/grid/picture_1_Normal.png":{input:"assets/webgl/grid/picture_1_Normal.png",output:{path:"assets/webgl/grid/picture_1_Normal.png",url:"assets/webgl/grid/picture_1_Normal.png"}},"assets/webgl/grid/picture_2_Albedo.basis":{input:"assets/webgl/grid/picture_2_Albedo.basis",output:{path:"assets/webgl/grid/picture_2_Albedo.basis",url:"assets/webgl/grid/picture_2_Albedo.basis"}},"assets/webgl/grid/picture_2_Albedo.png":{input:"assets/webgl/grid/picture_2_Albedo.png",output:{path:"assets/webgl/grid/picture_2_Albedo.png",url:"assets/webgl/grid/picture_2_Albedo.png"}},"assets/webgl/grid/picture_2_CGS.basis":{input:"assets/webgl/grid/picture_2_CGS.basis",output:{path:"assets/webgl/grid/picture_2_CGS.basis",url:"assets/webgl/grid/picture_2_CGS.basis"}},"assets/webgl/grid/picture_2_CGS.jpg":{input:"assets/webgl/grid/picture_2_CGS.jpg",output:{path:"assets/webgl/grid/picture_2_CGS.jpg",url:"assets/webgl/grid/picture_2_CGS.jpg"}},"assets/webgl/grid/picture_2_Normal.png":{input:"assets/webgl/grid/picture_2_Normal.png",output:{path:"assets/webgl/grid/picture_2_Normal.png",url:"assets/webgl/grid/picture_2_Normal.png"}},"assets/webgl/grid/picture_3_Albedo.basis":{input:"assets/webgl/grid/picture_3_Albedo.basis",output:{path:"assets/webgl/grid/picture_3_Albedo.basis",url:"assets/webgl/grid/picture_3_Albedo.basis"}},"assets/webgl/grid/picture_3_Albedo.png":{input:"assets/webgl/grid/picture_3_Albedo.png",output:{path:"assets/webgl/grid/picture_3_Albedo.png",url:"assets/webgl/grid/picture_3_Albedo.png"}},"assets/webgl/grid/picture_3_CGS.basis":{input:"assets/webgl/grid/picture_3_CGS.basis",output:{path:"assets/webgl/grid/picture_3_CGS.basis",url:"assets/webgl/grid/picture_3_CGS.basis"}},"assets/webgl/grid/picture_3_CGS.jpg":{input:"assets/webgl/grid/picture_3_CGS.jpg",output:{path:"assets/webgl/grid/picture_3_CGS.jpg",url:"assets/webgl/grid/picture_3_CGS.jpg"}},"assets/webgl/grid/picture_3_Normal.png":{input:"assets/webgl/grid/picture_3_Normal.png",output:{path:"assets/webgl/grid/picture_3_Normal.png",url:"assets/webgl/grid/picture_3_Normal.png"}},"assets/webgl/grid/quote_alpha.basis":{input:"assets/webgl/grid/quote_alpha.basis",output:{path:"assets/webgl/grid/quote_alpha.basis",url:"assets/webgl/grid/quote_alpha.basis"}},"assets/webgl/grid/quote_alpha.png":{input:"assets/webgl/grid/quote_alpha.png",output:{path:"assets/webgl/grid/quote_alpha.png",url:"assets/webgl/grid/quote_alpha.png"}},"assets/webgl/grid/resistencia_alpha.basis":{input:"assets/webgl/grid/resistencia_alpha.basis",output:{path:"assets/webgl/grid/resistencia_alpha.basis",url:"assets/webgl/grid/resistencia_alpha.basis"}},"assets/webgl/grid/resistencia_alpha.png":{input:"assets/webgl/grid/resistencia_alpha.png",output:{path:"assets/webgl/grid/resistencia_alpha.png",url:"assets/webgl/grid/resistencia_alpha.png"}},"assets/webgl/grid/text_1_Albedo.basis":{input:"assets/webgl/grid/text_1_Albedo.basis",output:{path:"assets/webgl/grid/text_1_Albedo.basis",url:"assets/webgl/grid/text_1_Albedo.basis"}},"assets/webgl/grid/text_1_Albedo.png":{input:"assets/webgl/grid/text_1_Albedo.png",output:{path:"assets/webgl/grid/text_1_Albedo.png",url:"assets/webgl/grid/text_1_Albedo.png"}},"assets/webgl/grid/text_1_CGS.basis":{input:"assets/webgl/grid/text_1_CGS.basis",output:{path:"assets/webgl/grid/text_1_CGS.basis",url:"assets/webgl/grid/text_1_CGS.basis"}},"assets/webgl/grid/text_1_CGS.jpg":{input:"assets/webgl/grid/text_1_CGS.jpg",output:{path:"assets/webgl/grid/text_1_CGS.jpg",url:"assets/webgl/grid/text_1_CGS.jpg"}},"assets/webgl/grid/text_1_Normal.basis":{input:"assets/webgl/grid/text_1_Normal.basis",output:{path:"assets/webgl/grid/text_1_Normal.basis",url:"assets/webgl/grid/text_1_Normal.basis"}},"assets/webgl/grid/text_1_Normal.png":{input:"assets/webgl/grid/text_1_Normal.png",output:{path:"assets/webgl/grid/text_1_Normal.png",url:"assets/webgl/grid/text_1_Normal.png"}},"assets/webgl/grid/video-white-border_Albedo.basis":{input:"assets/webgl/grid/video-white-border_Albedo.basis",output:{path:"assets/webgl/grid/video-white-border_Albedo.basis",url:"assets/webgl/grid/video-white-border_Albedo.basis"}},"assets/webgl/grid/video-white-border_Albedo.jpg":{input:"assets/webgl/grid/video-white-border_Albedo.jpg",output:{path:"assets/webgl/grid/video-white-border_Albedo.jpg",url:"assets/webgl/grid/video-white-border_Albedo.jpg"}},"assets/webgl/grid/video-white-border_Albedo.png":{input:"assets/webgl/grid/video-white-border_Albedo.png",output:{path:"assets/webgl/grid/video-white-border_Albedo.png",url:"assets/webgl/grid/video-white-border_Albedo.png"}},"assets/webgl/grid/video_1_Albedo.basis":{input:"assets/webgl/grid/video_1_Albedo.basis",output:{path:"assets/webgl/grid/video_1_Albedo.basis",url:"assets/webgl/grid/video_1_Albedo.basis"}},"assets/webgl/grid/video_1_Albedo.png":{input:"assets/webgl/grid/video_1_Albedo.png",output:{path:"assets/webgl/grid/video_1_Albedo.png",url:"assets/webgl/grid/video_1_Albedo.png"}},"assets/webgl/grid/video_1_CGS.basis":{input:"assets/webgl/grid/video_1_CGS.basis",output:{path:"assets/webgl/grid/video_1_CGS.basis",url:"assets/webgl/grid/video_1_CGS.basis"}},"assets/webgl/grid/video_1_CGS.jpg":{input:"assets/webgl/grid/video_1_CGS.jpg",output:{path:"assets/webgl/grid/video_1_CGS.jpg",url:"assets/webgl/grid/video_1_CGS.jpg"}},"assets/webgl/grid/video_1_Normal.png":{input:"assets/webgl/grid/video_1_Normal.png",output:{path:"assets/webgl/grid/video_1_Normal.png",url:"assets/webgl/grid/video_1_Normal.png"}},"assets/webgl/grid/video_2_Albedo.basis":{input:"assets/webgl/grid/video_2_Albedo.basis",output:{path:"assets/webgl/grid/video_2_Albedo.basis",url:"assets/webgl/grid/video_2_Albedo.basis"}},"assets/webgl/grid/video_2_Albedo.png":{input:"assets/webgl/grid/video_2_Albedo.png",output:{path:"assets/webgl/grid/video_2_Albedo.png",url:"assets/webgl/grid/video_2_Albedo.png"}},"assets/webgl/grid/video_2_CGS.basis":{input:"assets/webgl/grid/video_2_CGS.basis",output:{path:"assets/webgl/grid/video_2_CGS.basis",url:"assets/webgl/grid/video_2_CGS.basis"}},"assets/webgl/grid/video_2_CGS.jpg":{input:"assets/webgl/grid/video_2_CGS.jpg",output:{path:"assets/webgl/grid/video_2_CGS.jpg",url:"assets/webgl/grid/video_2_CGS.jpg"}},"assets/webgl/grid/video_2_Normal.png":{input:"assets/webgl/grid/video_2_Normal.png",output:{path:"assets/webgl/grid/video_2_Normal.png",url:"assets/webgl/grid/video_2_Normal.png"}},"assets/webgl/grid/video_3_Albedo.basis":{input:"assets/webgl/grid/video_3_Albedo.basis",output:{path:"assets/webgl/grid/video_3_Albedo.basis",url:"assets/webgl/grid/video_3_Albedo.basis"}},"assets/webgl/grid/video_3_Albedo.png":{input:"assets/webgl/grid/video_3_Albedo.png",output:{path:"assets/webgl/grid/video_3_Albedo.png",url:"assets/webgl/grid/video_3_Albedo.png"}},"assets/webgl/grid/video_3_CGS.basis":{input:"assets/webgl/grid/video_3_CGS.basis",output:{path:"assets/webgl/grid/video_3_CGS.basis",url:"assets/webgl/grid/video_3_CGS.basis"}},"assets/webgl/grid/video_3_CGS.jpg":{input:"assets/webgl/grid/video_3_CGS.jpg",output:{path:"assets/webgl/grid/video_3_CGS.jpg",url:"assets/webgl/grid/video_3_CGS.jpg"}},"assets/webgl/grid/video_3_Normal.png":{input:"assets/webgl/grid/video_3_Normal.png",output:{path:"assets/webgl/grid/video_3_Normal.png",url:"assets/webgl/grid/video_3_Normal.png"}},"assets/webgl/grid/video_red_alpha.basis":{input:"assets/webgl/grid/video_red_alpha.basis",output:{path:"assets/webgl/grid/video_red_alpha.basis",url:"assets/webgl/grid/video_red_alpha.basis"}},"assets/webgl/grid/video_red_alpha.png":{input:"assets/webgl/grid/video_red_alpha.png",output:{path:"assets/webgl/grid/video_red_alpha.png",url:"assets/webgl/grid/video_red_alpha.png"}},"assets/webgl/grid/white_border_alpha.basis":{input:"assets/webgl/grid/white_border_alpha.basis",output:{path:"assets/webgl/grid/white_border_alpha.basis",url:"assets/webgl/grid/white_border_alpha.basis"}},"assets/webgl/grid/white_border_alpha.png":{input:"assets/webgl/grid/white_border_alpha.png",output:{path:"assets/webgl/grid/white_border_alpha.png",url:"assets/webgl/grid/white_border_alpha.png"}},"assets/webgl/grid_items.glb":{input:"assets/webgl/grid_items.glb",output:{path:"assets/webgl/grid_items.glb",url:"assets/webgl/grid_items.glb"}},"assets/webgl/hover_circle.jpg":{input:"assets/webgl/hover_circle.jpg",output:{path:"assets/webgl/hover_circle.jpg",url:"assets/webgl/hover_circle.jpg"}},"assets/webgl/hover_mask.png":{input:"assets/webgl/hover_mask.png",output:{path:"assets/webgl/hover_mask.png",url:"assets/webgl/hover_mask.png"}},"assets/webgl/noise.png":{input:"assets/webgl/noise.png",output:{path:"assets/webgl/noise.png",url:"assets/webgl/noise.png"}},"assets/webgl/stream_empty.png":{input:"assets/webgl/stream_empty.png",output:{path:"assets/webgl/stream_empty.png",url:"assets/webgl/stream_empty.png"}},"assets/webgl/stream_empty_1024.png":{input:"assets/webgl/stream_empty_1024.png",output:{path:"assets/webgl/stream_empty_1024.png",url:"assets/webgl/stream_empty_1024.png"}},"assets/webgl/stream_empty_128.png":{input:"assets/webgl/stream_empty_128.png",output:{path:"assets/webgl/stream_empty_128.png",url:"assets/webgl/stream_empty_128.png"}},"assets/webgl/wall/wall_Albedo.basis":{input:"assets/webgl/wall/wall_Albedo.basis",output:{path:"assets/webgl/wall/wall_Albedo.basis",url:"assets/webgl/wall/wall_Albedo.basis"}},"assets/webgl/wall/wall_Albedo.jpg":{input:"assets/webgl/wall/wall_Albedo.jpg",output:{path:"assets/webgl/wall/wall_Albedo.jpg",url:"assets/webgl/wall/wall_Albedo.jpg"}},"assets/webgl/wall/wall_CGS.basis":{input:"assets/webgl/wall/wall_CGS.basis",output:{path:"assets/webgl/wall/wall_CGS.basis",url:"assets/webgl/wall/wall_CGS.basis"}},"assets/webgl/wall/wall_CGS.jpg":{input:"assets/webgl/wall/wall_CGS.jpg",output:{path:"assets/webgl/wall/wall_CGS.jpg",url:"assets/webgl/wall/wall_CGS.jpg"}},"assets/webgl/wall/wall_Normal.basis":{input:"assets/webgl/wall/wall_Normal.basis",output:{path:"assets/webgl/wall/wall_Normal.basis",url:"assets/webgl/wall/wall_Normal.basis"}},"assets/webgl/wall/wall_Normal.png":{input:"assets/webgl/wall/wall_Normal.png",output:{path:"assets/webgl/wall/wall_Normal.png",url:"assets/webgl/wall/wall_Normal.png"}},"assets/webgl/wall/wall_Normal_half.png":{input:"assets/webgl/wall/wall_Normal_half.png",output:{path:"assets/webgl/wall/wall_Normal_half.png",url:"assets/webgl/wall/wall_Normal_half.png"}},"assets/webgl/window_light.png":{input:"assets/webgl/window_light.png",output:{path:"assets/webgl/window_light.png",url:"assets/webgl/window_light.png"}}}}};const h=new class{constructor(){this.availableLocales=["ar","pt_BR","de","en","es","fr","it","es_LA","pt_PT"],this.defaultLocale="en",this.locale="en",this.getTranslations=this.getTranslations.bind(this),this.country_code=this.country_code.bind(this),this.translate=this.translate.bind(this),this.match=this.match.bind(this),this.t=this.t.bind(this),this.locale=this.defaultLocale}setLocale(e,t=!1){t?window.location.href=window.location.origin+"/"+e:this.locale=e}getTranslations(){return u.global.locales[this.locale]||u.global.locales[this.defaultLocale]||{}}translate(e,t=null){const n=this.getTranslations()[e];return n?null!=t?Object(c.template)(n,t):n:e}t(e,t=null){return this.translate(e,t)}match(e){const t={},n=this.getTranslations();return Object.keys(n).forEach(i=>{i.match(e)&&(t[i]=n[i])}),t}list(e){const t=[],n=this.match(e);return Object.keys(n).forEach(e=>{const i=e.match(new RegExp(/\[(\d+?)\]/));t[i[1]]=n[e]}),t}group(e){const t=[],n=this.match(e);return Object.keys(n).forEach(i=>{const s=i.match(new RegExp(e.source+".(\\w+)"));t[s[1]]=n[i]}),t}country_code(){const e=this.locale.split("-");return 2==e.length?e[1].toUpperCase():this.locale.toUpperCase()}};var p={template:n(106),components:{"ui-button":d},data:()=>({locales:h.availableLocales,currentLocale:h.locale,listShowed:!1,isHovering:!1,isDesktop:window.matchMedia("(min-width: 1024px)").matches}),computed:{sortedLocales(){return this.locales},filteredLocales(){const e=this.locales.indexOf(this.currentLocale);return this.locales.splice(e,1),this.locales}},beforeDestroy(){this.unbind()},mounted(){this.bind()},methods:{sanitizeLocale:e=>(null!==e.match("_")&&(e=e.substr(3)),e.toUpperCase()),bind(){document.addEventListener("click",this.onDocumentClick,!1)},unbind(){document.removeEventListener("click",this.onDocumentClick,!1)},onDocumentClick(){this.isHovering||(this.listShowed=!1,this.$appdatas.store.langSelectorState=!1)},onClick(){this.listShowed=!this.listShowed,this.$appdatas.store.langSelectorState=this.listShowed},onItemClick(e){const t=this.currentLocale;this.currentLocale=e;const n=this.locales.indexOf(e);this.locales[n]=t,this.dispatchNewLocale(e)},onMouseEnter(){this.isHovering=!0},onMouseLeave(){this.isHovering=!1},onChange(e){this.dispatchNewLocale(e.target.value)},dispatchNewLocale(e){e&&h.setLocale(e,!0)}}},_=n(22);const g={resize:new _.Dispatcher,changeMode:new _.Dispatcher,headerTriggered:new _.Dispatcher,toggleAudio:new _.Dispatcher,changeFilter:new _.Dispatcher,slide:new _.Dispatcher,closeSlider:new _.Dispatcher,loaderEnded:new _.Dispatcher,videoIntroPlay:new _.Dispatcher,videoIntroEnd:new _.Dispatcher};function m(e){return new Promise(t=>setTimeout(t,e))}var v=n(57),f=n.n(v),b=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var T={template:n(109),components:{"ui-button":d,"ui-lang-selector":p},data:()=>({copiedText:!1,audioActive:!1,audioInstruction:!1,legalsPDF:""}),computed:{clipText:()=>document.location.href},mounted(){this.showInstructions(),this.clipboard=new f.a(this.$refs.share.$el),this.legalsPDF=this.setPdfLink(),this.bindEvents()},beforeDestroy(){this.unbindEvents()},methods:{showInstructions(){return b(this,void 0,void 0,(function*(){this.audioInstruction=!0,yield m(3e3),this.audioInstruction=!1}))},setPdfLink(){let e="assets/legals/"+h.defaultLocale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";const t="assets/legals/"+h.locale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";return t||e},onCloseClick(){this.closeMenu()},onClick(e){if(e.target.classList.contains("ui-footer"))return this.closeMenu()},closeMenu(){document.querySelector("body").classList.remove("menu-open")},toggleAudio(){this.audioInstruction&&!this.audioActive&&(this.audioInstruction=!1),this.audioActive=!this.audioActive,g.toggleAudio.dispatch(this.audioActive)},bindEvents(){this.animCopyText=this.animCopyText.bind(this),this.clipboard.on("success",this.animCopyText)},unbindEvents(){this.clipboard.destroy()},animCopyText(){return b(this,void 0,void 0,(function*(){this.copiedText=!0,yield m(2e3),this.copiedText=!1}))}}};const E={methods:{beforeLoaderEnter(){const e=this.$refs.logo,t=this.$refs.burger?this.$refs.burger.$el:null;o.a.set(e,{opacity:0}),o.a.set(t,{opacity:0})},loaderEnterAnimation(){const e=this.$refs.logo,t=this.$refs.burger?this.$refs.burger.$el:null;Object(o.a)({targets:e,duration:320,delay:2e3,opacity:[0,1],easing:"linear"}),Object(o.a)({targets:t,duration:320,delay:920,opacity:[0,1],easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"})},enterAnimation(e,t){switch(this.headerState){case w.Default:this._onDefaultEnter(t);break;case w.Cancel:this._onCancelEnter(t);break;case w.CancelSubmit:this._onCancelSubmitEnter(t);break;default:t()}},leaveAnimation(e,t){switch(this.headerStatePrev){case w.Default:this._onDefaultLeave(t);break;case w.Cancel:this._onCancelLeave(t);break;case w.CancelSubmit:this._onCancelSubmitLeave(t);break;default:t()}},_onDefaultEnter(e){const t=this.$refs.logo,n=this.$refs.burger?this.$refs.burger.$el:null;this.headerStatePrev!==w.CancelSubmit&&""!==this.headerStatePrev||this._logoEnter(t,n?()=>{}:e),n&&this._buttonEnter(n,e)},_onDefaultLeave(e){const t=this.$refs.logo,n=this.$refs.burger?this.$refs.burger.$el:null;this.headerState===w.CancelSubmit&&this._logoLeave(t,n?()=>{}:e),n&&this._buttonLeave(n,e)},_onCancelEnter(e){const t=this.$refs.logo,n=this.$refs.cancel.$el;this.headerStatePrev===w.CancelSubmit&&this._logoEnter(t,()=>{}),this._buttonEnter(n,e)},_onCancelLeave(e){const t=this.$refs.logo,n=this.$refs.cancel.$el;this.headerState===w.CancelSubmit&&this._logoLeave(t,()=>{}),this._buttonLeave(n,e)},_onCancelSubmitEnter(e){const t=this.$refs.cancel.$el,n=this.$refs.submit.$el;this._staggerEnter([n,t],e)},_onCancelSubmitLeave(e){const t=this.$refs.cancel.$el,n=this.$refs.submit.$el;this._staggerLeave([n,t],e)},_logoEnter(e,t){Object(o.a)({targets:e,duration:400,opacity:[0,1],easing:"linear",complete:t})},_logoLeave(e,t){Object(o.a)({targets:e,duration:400,opacity:0,easing:"linear",complete:t})},_buttonEnter(e,t){Object(o.a)({targets:e,duration:400,delay:100,opacity:[0,1],easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:t})},_buttonLeave(e,t){Object(o.a)({targets:e,duration:400,delay:100,opacity:0,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:t})},_staggerEnter(e,t){Object(o.a)({targets:e,duration:400,delay:o.a.stagger(400),opacity:[0,1],easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:t})},_staggerLeave(e,t){Object(o.a)({targets:e,duration:400,delay:o.a.stagger(400),opacity:[1,0],easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:t})}}};var w,C=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.Default="default",e.Cancel="cancel",e.CancelSubmit="cancelSubmit"}(w||(w={}));var A={mixins:[E],template:n(110),components:{"ui-button":d},data:()=>({headerState:"",headerStatePrev:"",locale:h.locale}),mounted(){this.bindEvents(),!this.$appdatas.store.loaderState&&gc.Contribution&&this.beforeLoaderEnter()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.loaderEnded.on(this.onLoaderEnter)},unbindEvents(){g.loaderEnded.off(this.onLoaderEnter)},onLoaderEnter(){return C(this,void 0,void 0,(function*(){}))},onButtonClick(e){a.reset(),g.headerTriggered.dispatch(e)},onBurgerClick(){document.querySelector("body").classList.add("menu-open")},enter(e,t){this.enterAnimation(e,t)},leave(e,t){this.leaveAnimation(e,t)}},watch:{"$appdatas.store.headerState":{handler:function(e,t){e&&(this.headerState=e),t&&(this.headerStatePrev=t)},immediate:!0}}};const S={mounted(){this.setHeaderState&&this.setHeaderState()},methods:{goToPrevView(e){const t=e||this.prevView;this.$emit("prevView",t)},goToNextView(e){const t=e||this.nextView;this.$emit("nextView",t)}}};const R={methods:{enterAnimation(e){this.onEnterAnimation?this.onEnterAnimation(e):Object(o.a)({targets:this.$el,opacity:[0,1],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:e})},leaveAnimation(e){this.onLeaveAnimation?this.onLeaveAnimation(e):Object(o.a)({targets:this.$el,opacity:[1,0],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:e})}}};class y{constructor(e,t,n,i){this.currentTime=0,this.frameIndex=0,this._canvas=e,this._ctx=this._canvas.getContext("2d"),this.texture=t,this._opts=i,this._opts.speed=this._opts.speed?this._opts.speed:1,this._opts.scale=this._opts.scale?this._opts.scale:1,this._opts.loop=!!this._opts.loop&&this._opts.loop;const s=n.frames;this.frames=s,this.frameLength=s.length,this.reorderFrames(),this.bind()}get isComplete(){return this.frameIndex==this.frameLength-1}bind(){this.update=this.update.bind(this)}reorderFrames(){this.frames.sort((e,t)=>e.filename>t.filename?1:-1)}update(e){this.currentTime+=e*this._opts.speed,this._opts.loop&&(this.currentTime=this.currentTime%this._opts.duration);const t=this.currentTime/this._opts.duration;this.frameIndex=Math.floor(t*this.frameLength),this.frameIndex>this.frameLength-1&&(this.frameIndex=this.frameLength-1);const n=this.frames[this.frameIndex];this._draw(n)}_draw(e){const t=-e.spriteSourceSize.w/2*this._opts.scale+.5*this._canvas.width,n=-e.spriteSourceSize.h/2*this._opts.scale+.5*this._canvas.height,i=e.spriteSourceSize.w*this._opts.scale,s=e.spriteSourceSize.h*this._opts.scale;this._ctx.drawImage(this.texture,e.frame.x,e.frame.y,e.frame.w,e.frame.h,t,n,i,s)}}var x={frames:[{filename:"marguerite_0000.png",frame:{x:0,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0001.png",frame:{x:75,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0002.png",frame:{x:150,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0003.png",frame:{x:225,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0004.png",frame:{x:300,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0005.png",frame:{x:375,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0006.png",frame:{x:450,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0007.png",frame:{x:525,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0008.png",frame:{x:600,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0009.png",frame:{x:675,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0010.png",frame:{x:750,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0011.png",frame:{x:825,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0012.png",frame:{x:900,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0013.png",frame:{x:975,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0014.png",frame:{x:1050,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0015.png",frame:{x:1125,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0016.png",frame:{x:1200,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0017.png",frame:{x:1275,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0018.png",frame:{x:1350,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0019.png",frame:{x:1425,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}},{filename:"marguerite_0020.png",frame:{x:1500,y:0,w:75,h:75},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:75,h:75},sourceSize:{w:75,h:75},pivot:{x:.5,y:.5}}],meta:{app:"http://free-tex-packer.com",version:"0.6.5",image:"texture.png",format:"RGBA8888",size:{w:1575,h:75},scale:1}};class M{constructor(){this.resolve=e=>{this._resolve(e)},this.reject=e=>{this._reject(e)},this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}}class P{constructor(e="default",t=P.default){this._parent=null,this._selfShouldLoad=!1,this._isLoading=!1,this.name=e,this._subGroups=[],this._resourcesMap=new Map,this._resourcesList=[]}set parent(e){this._parent&&this._parent.removeSubGroup(this),this._parent=e,this._checkLoadState()}get parent(){return this._parent}addSubGroup(e){e.parent=this,this._subGroups.push(e)}removeSubGroup(e){const t=this._subGroups.indexOf(e);e.parent=null,t>-1&&this._subGroups.splice(t,1)}_shouldLoad(){return null!==this.parent?this._selfShouldLoad&&this.parent._shouldLoad():this._selfShouldLoad}_checkLoadState(){const e=this._shouldLoad();this._isLoading!==e&&(this._isLoading=e,this._isLoading?this._loadAllResources():this._unloadAllResources());for(const e of this._subGroups)e._checkLoadState()}load(){return this._selfShouldLoad=!0,this._checkLoadState(),this}unload(){return this._selfShouldLoad=!1,this._checkLoadState(),this}_loadAllResources(){for(const e of this._resourcesList)e._load()}_unloadAllResources(){for(const e of this._resourcesList)e._unload()}getLoadables(){return this._resourcesList.map(e=>e.response())}collectAllLoadables(e){this._resourcesList.forEach(t=>e.push(t.response()));for(const t of this._subGroups)t.collectAllLoadables(e)}getAllLoadables(){const e=[];return this.collectAllLoadables(e),e}whenAllLoadables(){return Promise.all(this.getAllLoadables())}addResource(e){if(this._resourcesMap.has(e.name))throw new Error(`ResourceGroup::addResource() resource with name ${e.name} already exist`);this._resourcesList.push(e),this._resourcesMap.set(e.name,e),e.response().finally(()=>this.removeResource(e)),Promise.resolve().then(()=>{this._isLoading&&e._load()})}removeResource(e){if(this._resourcesMap.delete(e.name)){const t=this._resourcesList.indexOf(e);this._resourcesList.splice(t,1)}}getResource(e){const t=this._resourcesMap.get(e);if(void 0===t)throw new Error(`ResourceGroup::getResource() resource with name ${e} doesn't exist`);return t}get(e){return this.getResource(e).value}}P.default=new P("main",null).load();class N{constructor(e,t=P.default){this._value=null,this._isLoading=!1,this.name=e,this._deferred=new M,this._abortCtrl=B(),this.group=t,null!=t&&t.addResource(this)}get value(){if(null===this._value)throw new Error(`Resource ${this.name} not loaded`);return this._value}response(){return this._deferred.promise}_load(){this._isLoading||(this._isLoading=!0,this.load())}_unload(){this._isLoading&&(this._isLoading=!1,this._abortCtrl.abort(),this.unload())}resolve(e){this._value=e,this._deferred.resolve(e)}reject(e){this._deferred.reject(e)}}class I extends N{constructor(e,t){super((I._UID++).toString(),t),this._loadFunc=e}static fromLoadable(e,t){return new I(()=>Promise.all(e.getLoadables()),t)}load(){this._loadFunc().then(e=>this.resolve(e),e=>this.reject(e))}unload(){}}I._UID=0;var L=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};new DOMParser;function O(e,t,n){return L(this,void 0,void 0,(function*(){const i=new k(e,t,n);return yield i.response()}))}function D(e,t,n){return L(this,void 0,void 0,(function*(){const i=new H(e,t,n);return yield i.response()}))}function F(e,t,n){return L(this,void 0,void 0,(function*(){const i=new z(e,t,n);return yield i.response()}))}let B;const U={abort(){},signal:void 0};function V(e,t){return L(this,void 0,void 0,(function*(){const n=yield fetch(e,t);return function(e){if(!e.ok)throw new Error(`NetworkError: status : ${e.status} ${e.statusText}, url : ${e.url}`)}(n),n}))}B=void 0!==window.AbortController?()=>new AbortController:()=>U;class G extends N{constructor(e,t,n={}){super(e.toString(),t),this.url=e,this.init=n,n.signal=this._abortCtrl.signal}load(){this.fetch()}unload(){}fetch(){return L(this,void 0,void 0,(function*(){try{const e=yield V(this.url,this.init),t=yield this.parseResponse(e);this.resolve(t)}catch(e){this.reject(e)}}))}}class k extends G{parseResponse(e){return e.json()}}class H extends G{parseResponse(e){return e.arrayBuffer()}}class z extends G{parseResponse(e){return L(this,void 0,void 0,(function*(){const t=yield e.blob(),n=URL.createObjectURL(t),i=new Image,s=new M;i.onload=s.resolve,i.onerror=s.reject,i.src=n;try{yield s.promise}finally{URL.revokeObjectURL(n)}return yield i.decode(),i}))}}var W=n(0),j=n.n(W);const X=W.mat3.create(),q=(new Float32Array(X.buffer,0,3),new Float32Array(X.buffer,12,3),new Float32Array(X.buffer,24,3),W.vec3.fromValues(0,1,0),Math.PI,Math.PI/180);function $(e){return Math.min(1,Math.max(0,e))}function Y(e,t,n){return Math.min(n,Math.max(t,e))}function K(e,t,n){return e*(1-n)+t*n}function Z(e,t,n,i,s){return(e-t)/(n-t)*(s-i)+i}var Q=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const J=["assets/introduction_title.png","assets/introduction_title_mobile.png","assets/sprite/flower/flower.png","assets/loader/noise.png","assets/input_line.png","assets/letter.jpg","assets/letter_top.png","assets/onboarding_title.png","assets/buttons/arrow-red_button.png","assets/buttons/arrow-white_button.png","assets/buttons/burger_button.png","assets/buttons/camera_button.png","assets/buttons/cancel-black_button.png","assets/buttons/cancel-white_button.png","assets/buttons/circle-1-red_button.png","assets/buttons/circle-1-white_button.png","assets/buttons/circle-2-red_button.png","assets/buttons/circle-2-white_button.png","assets/buttons/circle-3-red_button.png","assets/buttons/circle-3-white_button.png","assets/buttons/close_button.png","assets/buttons/filter-active_button.png","assets/buttons/filter-inactive_button.png","assets/buttons/filter-roll_button.png","assets/buttons/sound_button.png","assets/buttons/sound-line-1.png","assets/buttons/sound-line-2.png","assets/buttons/sound-line-3.png","assets/buttons/sound-line-4.png","assets/buttons/upload_button.png","assets/buttons/validate-black_button.png","assets/buttons/validate-white_button.png","assets/buttons/write_button.png","assets/buttons/cta_line_bottom.png","assets/buttons/cta_line_top.png","assets/buttons/play_button.png"],ee=[{regex:/.(png|jpg)/,loader:F},{regex:/.(mp3|wav|ogg)/,loader:D}];var te=new class{constructor(e){this._resources=[],this._loadCount=0,this._complete=!1,this._watchingResources=[],this.resourcesCount=0}attachResources(e){this.createResources(e)}createResources(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],i=this._getResourceLoader(n)(n);this._createResource(n,i)}this.resourcesCount=this._resources.length}_createResource(e,t){const n={url:e,promise:t};return this._resources.push(n),t.then(t=>this._onResourceLoaded(t,e)),n}_getResourceLoader(e){for(let t=0,n=ee.length;t<n;t++){const{regex:n,loader:i}=ee[t];if(n.test(e))return i}}_getResource(e){for(let t=0,n=this._resources.length;t<n;t++){const n=this._resources[t];if(n.url===e)return n}return null}_onResourceLoaded(e,t){this._getResource(t).data=e,this.incrementLoadCount()}watchResources(e){this.resourcesCount+=e.length,this._watchingResources=e;for(let t=0;t<e.length;t++)e[t].then(()=>this.incrementLoadCount())}incrementLoadCount(){this._loadCount+=1,"function"==typeof this.onProgress&&this.onProgress(this.progress)}load(){return Q(this,void 0,void 0,(function*(){const e=[];for(let t=0,n=this._resources.length;t<n;t++){const n=this._resources[t];e.push(n.promise)}for(let t=0;t<this._watchingResources.length;t++)e.push(this._watchingResources[t]);return Promise.all(e).then(()=>{this.releaseWatchingResources(),this._complete=!0})}))}releaseWatchingResources(){this._watchingResources=[]}loadRessources(e){return Q(this,void 0,void 0,(function*(){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],s=this._resources.filter(e=>e.url===i);s.length&&t.push(s[0].promise)}return Promise.all(t)}))}get(e){const t=this._getResource(e);return t?t.data:(console.warn(`Resource '${e}' not found or not loaded yet`),null)}get progress(){return $(this._loadCount/this.resourcesCount)}get complete(){return this._complete}}([]),ne=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class ie{constructor(e,t){this.loadCount=0,this.now={current:0,previous:0},this.percent=0,this._update=()=>{this.now.current=performance.now();const e=this.now.current-this.now.previous;this._ctx.clearRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height),this._drawCircle(),this.spritePlayer.update(e),this.now.previous=this.now.current,100===this.percent&&this.spritePlayer.isComplete&&(this._stopped=!0),this._stopped||window.requestAnimationFrame(this._update)},this._opts=t,this._canvas=e,this._ctx=this._canvas.getContext("2d"),this._setSize(this._opts.size),this._bind()}_bind(){this._update=this._update.bind(this)}preload(){return this.sprite=te.get("assets/sprite/flower/flower.png"),this.circleTexture=te.get("assets/loader/noise.png"),this._loaded=!0,this._started&&this.start(),new Promise(e=>{this._preloadResolve=e,this._preloadResolve()})}onContentLoaded(){this.loadCount+=1,2==this.loadCount&&(this._loaded=!0,this._started&&this.start(),this._preloadResolve&&this._preloadResolve())}_setSpritePlayer(){return ne(this,void 0,void 0,(function*(){this.spritePlayer=new y(this._canvas,this.sprite,x,{size:this._opts.size,duration:1840,speed:1,scale:.58})}))}_setSize({width:e=100,height:t=100}){this._canvas.width=e,this._canvas.height=t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"}_setCircle(){return ne(this,void 0,void 0,(function*(){this.pattern=this._ctx.createPattern(this.circleTexture,"repeat")}))}_drawCircle(){return ne(this,void 0,void 0,(function*(){const e=this._canvas.width/2,t=this._canvas.height/2,n=e-3;this._drawCircleReference(e,t,n,3),this._drawCircleProgress(e,t,n,3,this.pattern)}))}_drawCircleReference(e,t,n,i){this._ctx.moveTo(e,t),this._ctx.beginPath(),this._ctx.arc(e,t,n,0,2*Math.PI,!1),this._ctx.lineWidth=i,this._ctx.strokeStyle="rgba(185,48,45,.1)",this._ctx.stroke(),this._ctx.closePath()}_drawCircleProgress(e,t,n,i,s){const o=1.5*Math.PI,r=(Math.PI-.5*Math.PI)/25,a=o+this.percent*r;this._ctx.moveTo(e,t),this._ctx.beginPath(),this._ctx.arc(e,t,n,o,a,!1),this._ctx.lineWidth=i,this._ctx.strokeStyle=s,this._ctx.stroke(),this._ctx.closePath()}start(){return ne(this,void 0,void 0,(function*(){this._started=!0,this._loaded&&(this._setSpritePlayer(),this._setCircle(),this.now.previous=performance.now(),window.requestAnimationFrame(this._update))}))}stop(){this._stopped=!0}}var se={template:n(114),components:{},data:()=>({currentPercent:0,isAnimated:!1}),mounted(){this.canvasInstance=new ie(this.$refs.canvas,{size:{width:75,height:75}}),this.canvasInstance.start()},beforeDestroy(){this.canvasInstance.stop()},methods:{progress(e){const t=this.currentPercent;this.currentPercent=e,Object(o.a)({targets:this.canvasInstance,duration:300,percent:[t,e],easing:"linear"})}}},oe=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var re={template:n(115),data:()=>({hidden:!1}),components:{"canvas-loader":se},mounted(){return oe(this,void 0,void 0,(function*(){this.loading=!1,this.hidding=!1,this.showTime=Date.now(),te.onProgress=this.onProgress}))},beforeDestroy(){te.onProgress=null},methods:{preload(){return this.$refs.loader.canvasInstance.preload()},watchResources(e){te.watchResources(e)},load(){this.loading=!0,te.load().then(this.hide)},onProgress(e){this.$refs.loader.progress(100*te.progress),1!==te.progress||this.loading||this.onLoaderEnded()},hide(){return oe(this,void 0,void 0,(function*(){if(this.hidden||this.hidding)return;this.hidding=!0;const e=Date.now()-this.showTime;if(e>=1840)this.hidden=!0,this.hidding=!1,this.onLoaderEnded();else{const t=1840-e;yield m(t),this.hidding=!1,this.hide()}}))},onLoaderEnded(){this.hidding||(this.hidding=!0,g.loaderEnded.dispatch(),this.hide(),this.$appdatas.store.loaderState=!0)}}};var ae={mixins:[S,R,{mounted(){this._bindUI()},methods:{_bindUI(){this.ui={instructions:this.$refs.instructions,picture:this.$refs.picture,loader:this.$refs.loader.$el}},onEnterAnimation(e){const t=o.a.timeline({complete:()=>{this.enterAnimationEnded=!0,e()}});t.add({targets:this.ui.instructions,opacity:{value:[0,1],duration:720,delay:1640,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},translateX:{value:["-50%","-50%"],duration:1,easing:"linear"},translateY:{value:["60%","0%"],duration:1e3,delay:1640,easing:"cubicBezier(0.00, 1.17, 0.46, 1.00)"}},0),t.add({targets:this.ui.picture,duration:1e3,delay:400,opacity:{value:[0,1],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"}},0),t.add({targets:this.ui.loader,duration:240,delay:1840,opacity:{value:[0,1],duration:240,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"}},0)}}}],template:n(116),components:{Loader:re,"ui-button":l},data:()=>({nextView:bt.Grid}),computed:{titleImage:()=>"assets/introduction_title.png",titleImageMobile:()=>"assets/introduction_title_mobile.png"},mounted(){this.$refs.loader.preload()},methods:{setHeaderState(){this.$appdatas.store.headerState=w.Default}}};const le={methods:{enterAnimation(e){Object(o.a)({targets:this.$el,duration:1e3,opacity:[0,1],easing:"linear",complete:e})},leaveAnimation(e){Object(o.a)({targets:this.$el,duration:100,opacity:[1,0],easing:"linear",complete:e})}}};var de=n(15),ce=n.n(de);class ue{constructor(e){this.stop=()=>{this.node&&this.node.stop()},this.onEnded=()=>{this.node.loop||this.dispose()},this.source=e;var t=this.source.audio.ctx,n=this.source.audio.masterNode;this.gain=t.createGain(),this.gain.connect(n),this.gain.gain.value=0,this.node=t.createBufferSource(),this.node.buffer=this.source.bufferSource,this.node.connect(this.gain),this.node.onended=this.onEnded}init(e,t,n){this.gain.gain.value=e,this.node.loop=t,this.startTime=this.source.audio.ctx.currentTime,this.node.start(0,n)}getCurrentTime(){return this.source.audio.ctx.currentTime-this.startTime}dispose(){if(null!==this.source){this.gain.disconnect(),this.node.disconnect(),this.node.onended=null;try{this.node.stop()}catch(e){}this.gain=null,this.node=null,this.source=null}}}class he{constructor(e,t,n){this.decodeBuffer=e=>{var t=ce.a.defer();return this.audio.ctx.decodeAudioData(e,e=>{this.bufferSource=e,t.resolve(e)}),t.promise},this.audio=e,this.url=t,n=n||{},this.loop=void 0!==n.loop&&n.loop,this.promise=null}load(){return null===this.promise&&(this.promise=D(this.url).then(this.decodeBuffer)),this.promise}play(e,t,n){void 0===e&&(e=1),void 0===t&&(t=this.loop),void 0===n&&(n=0);var i=new ue(this);return i.init(e,t,n),i}}const pe=window.AudioContext||window.webkitAudioContext;class _e{constructor(){this.volume=1,this.onStateChange=()=>{"running"==this.ctx.state&&this._ctxReady.resolve()};const e=new pe;this.ctx=e,this.ctx.onstatechange=this.onStateChange,this.masterNode=e.createGain(),this.masterNode.gain.value=this.volume,this.masterNode.connect(e.destination),this._ctxReady=ce.a.defer()}load(){const e=ce.a.defer();return e.resolve(),e.promise}getReadyChange(){return this._ctxReady.promise}createSource(e,t){return new he(this,"assets/audio/"+e+".mp3",t)}setVolume(e){"function"==typeof this.masterNode.gain.setTargetAtTime?this.masterNode.gain.setTargetAtTime(e,0,.2):this.masterNode.gain.value=e}}const ge=new class{constructor(){this.baseVolume=.85,this.volume=this.baseVolume,this.firstLaunch=!0,this.requestIntroTime=0,this.requestIntro=!1,this.requestBackground=!1,this.onDocumentVisibilityChange=()=>{this.volume=document.hidden||this.isMuted?0:this.baseVolume,this.audio.setVolume(this.volume)},this.stopIntro=(e=1e3)=>{this.introSound&&(this.requestIntro=!1,Object(o.a)({targets:this.introSound.gain.gain,value:0,duration:e,complete:()=>{this.introSound.stop()}}))},this.toggleMute=()=>{this.setMute(!this.isMuted)},this.isMuted=!0,this.audio=new _e,this.introSource=this.audio.createSource("intro-video-all-instruments",{loop:!1}),this.backgroundSource=this.audio.createSource("loop-guitar",{loop:!0}),this.bindEvents(),this.setMute(!0),this.firstLaunch=!0}load(){const e=ce.a.defer();return ce.a.all([this.introSource.load(),this.backgroundSource.load()]).then(()=>{e.resolve()}),[e.promise]}bindEvents(){document.addEventListener("visibilitychange",this.onDocumentVisibilityChange),g.toggleAudio.on(this.toggleMute)}playBackground(e=1e3){this.isMuted&&this.firstLaunch?this.requestBackground=!0:(this.requestBackground=!1,this.backgroundSound=this.backgroundSource.play(0),Object(o.a)({targets:this.backgroundSound.gain.gain,value:1*this.baseVolume,duration:e}))}stopBackground(e=1e3){this.backgroundSound&&(this.requestBackground=!1,Object(o.a)({targets:this.backgroundSound.gain.gain,value:0,duration:e,complete:()=>{this.backgroundSound.stop()}}))}playIntro(e=1e3,t){if(this.isMuted&&this.firstLaunch)return this.requestIntroTime=t,void(this.requestIntro=!0);this.requestIntro=!1,this.introSound=this.introSource.play(0,!1,t),t=t||0,Object(o.a)({targets:this.introSound.gain.gain,value:1*this.baseVolume,duration:e})}setMute(e){this.isMuted=e,this.volume=this.isMuted?0:this.baseVolume,this.audio.setVolume(this.volume),!this.isMuted&&this.requestIntro&&this.playIntro(1e3,this.requestIntroTime),!this.isMuted&&this.requestBackground&&this.playBackground(1e3),this.firstLaunch=!1}setVolume(e){this.baseVolume=e,this.volume=this.isMuted?0:this.baseVolume,this.audio.setVolume(this.volume)}};var me={props:{source:{type:Object,require:!0}},template:n(131),components:{},data:()=>({isSafeMode:!0,isAudioPlaying:!1}),mounted(){this.bindEvents()},beforeDestroy(){this.unbindEvents(),this.$refs.video.pause()},methods:{bindEvents(){this.$refs.video.addEventListener("ended",this.onVideoEnded,!1),this.$refs.video.addEventListener("suspend",this.onVideoSuspended,!1),this.$refs.video.addEventListener("play",this.onVideoPlayed,!1)},unbindEvents(){this.$refs.video.removeEventListener("ended",this.onVideoEnded,!1),this.$refs.video.removeEventListener("suspend",this.onVideoSuspended,!1),this.$refs.video.removeEventListener("play",this.onVideoPlayed,!1)},onVideoEnded(){this.$emit("onEnded")},onVideoPlayed(){this.isSafeMode=!1,this.$emit("onPlay")},onVideoSuspended(){setTimeout(()=>{this.isSafeMode&&this.$emit("onSafeModeActive")},1e3)},toggleAudio(e){ge.setMute(ge.isMuted),this.isAudioPlaying||(this.isAudioPlaying=!0,ge.playIntro(4e3,this.$refs.video.currentTime))}}},ve=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const fe="assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_"+window.user_lang+".mp4",be="assets/videos/MMP_Netflix_LCDP_CiaoBella_Intro_Mobile_"+window.user_lang+".mp4";var Te,Ee={mixins:[S,le],template:n(132),components:{"ui-button":d,"ui-video":me},data:()=>({skipActive:!1,isPlaying:!1,audioInstruction:!1,nextView:bt.Introduction}),computed:{videoSource(){return this.$appdatas.store.isMobile?{url:be,type:"video/mp4"}:{url:fe,type:"video/mp4"}}},mounted(){this.videoEnded=!1,this.requestNext=!1,this.bindEvents(),this.showInstructions()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.loaderEnded.on(this.onLoaded),g.toggleAudio.on(this.toggleVideoAudio)},unbindEvents(){g.loaderEnded.off(this.onLoaded),g.loaderEnded.off(this.onVideoEnded),g.toggleAudio.off(this.toggleVideoAudio)},onSafeMode(){this.onVideoPlay(),this.onVideoEnded()},onVideoPlay(){this.isPlaying=!0,g.videoIntroPlay.dispatch()},onVideoEnded(){if(!this.$appdatas.store.preloaded)return this.requestNext=!0,g.loaderEnded.off(this.onLoaded),void g.loaderEnded.on(this.onVideoEnded);g.videoIntroEnd.dispatch(),this.goToNextView()},onLoaded(){return ve(this,void 0,void 0,(function*(){g.loaderEnded.off(this.onLoaded),this.skipActive=!0,this.$refs.skipButton.appearCtaLight()}))},toggleVideoAudio(e){this.$refs.video.toggleAudio(e)},showInstructions(){return ve(this,void 0,void 0,(function*(){this.audioInstruction=!0,this.audioInstruction=!1}))},toggleAudio(){this.audioInstruction&&!this.audioActive&&(this.audioInstruction=!1),this.audioActive=!this.audioActive,g.toggleAudio.dispatch(this.audioActive)}}};function we(e){switch(e){case 0:return 34069;case 1:return 34071;case 2:return 34073;case 3:return 34070;case 4:return 34072;case 5:return 34074}}!function(e){e[e.RAW=0]="RAW",e[e.RAW_COMPRESSED=1]="RAW_COMPRESSED",e[e.IMAGE=2]="IMAGE"}(Te||(Te={}));const Ce=[];let Ae=0,Se=0;var Re={markPerfIn:function(){Ae=performance.now()},markPerfOut:function(){Se=performance.now()-Ae},add:function(e,t,n){const i=t.sources[n];let s=0;if(t.datatype===Te.IMAGE){const e=t.sources[n].surfaces[0],i=3;for(const t of e){s+=t.width*t.height*i}}else{const e=t.sources[n].surfaces[0];for(const t of e)s+=t.data.buffer.byteLength}const o={url:e.name,bbc:t.datatype==Te.RAW_COMPRESSED,w:i.surfaces[0][0].width,h:i.surfaces[0][0].height,mipmap:i.surfaces[0].length>1,weight:s,uptime:Se,cube:!1};Ce.push(o)}};const ye=["WEBGL_compressed_texture_s3tc","MOZ_WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"],xe=["WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"],Me=["WEBGL_compressed_texture_etc1","WEBKIT_WEBGL_compressed_texture_etc1"],Pe=["WEBGL_compressed_texture_astc"];class Ne{constructor(e){this.gl=e,this.dxt=this.pickExtension(ye),this.pvr=this.pickExtension(xe),this.etc=this.pickExtension(Me),this.astc=this.pickExtension(Pe)}pickExtension(e){let t=null;for(const n of e)if(t=this.gl.getExtension(n),t)break;return t}}var Ie=n(24);class Le{constructor(e){this.gl=e,this.extTextures=new Ne(e),this.extAniso=e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("EXT_texture_filter_anisotropic")}upload(e,t){this.gl;const n=e.texture;if(n.textureType!==t.textureType)throw new Error("TexturesLoader::upload() texture type mismatch");switch(n.bind(),Re.markPerfIn(),n.textureType){case Ie.a.TEXTURE_2D:this.uploadTexture2D(n,t,0);break;case Ie.a.TEXTURE_CUBE:this.uploadTextureCube(n,t,0)}Re.markPerfOut(),Re.add(e,t,0)}uploadTexture2D(e,t,n=0){this.uploadAllSurfaceLevels(e,t,n,0,e.textureType)}uploadTextureCube(e,t,n=0){for(let i=0;i<6;i++){const s=we(i);this.uploadAllSurfaceLevels(e,t,n,i,s)}}uploadAllSurfaceLevels(e,t,n,i,s){switch(t.datatype){case Te.RAW_COMPRESSED:this.uploadLevelsCompressed(e,t,n,i,s);break;case Te.IMAGE:this.uploadLevels(e,t,n,i,s);break;case Te.RAW:this.uploadLevelsRaw(e,t,n,i,s)}}uploadLevels(e,t,n,i,s){const o=t.sources[n].surfaces[i];for(let e=0;e<o.length;e++)this.gl.texImage2D(s,e,t.internalformat,t.format,t.type,o[e].data);this.gl.generateMipmap(this.gl.TEXTURE_2D)}uploadLevelsRaw(e,t,n,i,s){const o=t.sources[n].surfaces[i];for(let e=0;e<o.length;e++){const n=o[e];this.gl.texImage2D(s,e,t.internalformat,n.width,n.height,0,t.format,t.type,n.data)}}uploadLevelsCompressed(e,t,n,i,s){const o=t.sources[n].surfaces[i];let r=o[0].width,a=o[0].height;for(let e=0;e<o.length;e++){const n=o[e];this.gl.compressedTexImage2D(s,e,t.internalformat,r,a,0,n.data),r=Math.max(1,r>>1),a=Math.max(1,a>>1)}}}class Oe extends P{constructor(e="default",t,n=P.default){super(e,n),this._lodLevel=0,this.gl=t,this.loader=new Le(t)}set lodLevel(e){this._lodLevel=e}get lodLevel(){return this._lodLevel}}var De=n(14);class Fe{static registerCodec(e){void 0===this._codecs[e.name]?this._codecs[e.name]=e:console.warn(`TextureCodec.registerCodec() Codec ${e.name} already exist`)}static getCodecForRequest(e,t){const n=e.sources;for(const e of n){const n=this._codecs[e.codec];if(void 0!==n&&n.isSupported(t))return[n,e]}return null}}Fe._codecs={};var Be,Ue,Ve,Ge=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e[e.CLAMP=0]="CLAMP",e[e.REPEAT=1]="REPEAT",e[e.MIRROR=2]="MIRROR"}(Be||(Be={}));class ke extends N{constructor(e,t,n){super(e,n),this.request=t}set request(e){this._request=e}get request(){return this._request}get value(){return this.texture}load(){const e=this.group.lodLevel;this.loadLevelAsync(e)}loadInstant(){return Ge(this,void 0,void 0,(function*(){const e=this.group.lodLevel;yield this.loadLevelAsync(e,!0)}))}unload(){}loadData(e){return Ge(this,void 0,void 0,(function*(){let t={id:e,data:null};return new Promise(e=>Ge(this,void 0,void 0,(function*(){const n=this.group.loader.extTextures,[i,s]=Fe.getCodecForRequest(this._request,n);yield this.loadSourceInstant(s.lods[this.group.lodLevel]),yield i.decodeLod(s,this.group.lodLevel,n),t.data=s.datas,e(t)})))}))}loadLevelAsync(e,t=!1){return Ge(this,void 0,void 0,(function*(){const n=this.group.loader.extTextures,[i,s]=Fe.getCodecForRequest(this._request,n);t?yield this.loadSourceInstant(s.lods[e]):yield this.loadSourceLod(s.lods[e]),yield i.decodeLod(s,e,n),this.group.loader.upload(this,s.datas),this.resolve(this.texture)}))}loadSourceLod(e){return Ge(this,void 0,void 0,(function*(){const t=[];for(let n=0;n<e.files.length;n++)t.push(D(e.files[n],this.group));const n=yield Promise.all(t);return e.buffers=n,n}))}loadSourceInstant(e){return Ge(this,void 0,void 0,(function*(){const t=[];for(let n=0;n<e.files.length;n++){const i=new H(e.files[n],null);i.fetch(),t.push(i.response())}const n=yield Promise.all(t);return e.buffers=n,n}))}}class He extends ke{constructor(e,t,n){super(e,t,n),this.texture=new De.a(this.group.gl)}}!function(e){e[e.CLAMP=0]="CLAMP",e[e.REPEAT=1]="REPEAT",e[e.MIRROR=2]="MIRROR"}(Ue||(Ue={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(Ve||(Ve={}));class ze{constructor(e){"string"==typeof e&&(e={std:e}),this.sources=[];for(const t in e){const n=e[t];this.sources.push({codec:t,lods:[{files:[n],buffers:null}],datas:null})}}clearData(){for(let e=0;e<this.sources.length;e++){this.sources[e].datas=null;for(let t=0;t<this.sources[e].lods.length;t++)this.sources[e].lods[t].buffers=null}}}var We=n(10);let je="assets/webgl";var Xe,qe,$e={WALL_DIST:We.a.isMobile?3.5:5.5,isWebgl2:!1,CONTRIB_SPEED:1,INTRO:{DIST:3.5,ZOOMED_DIST:2.5,DURATION:6},asset_url:e=>je+"/"+e,setBaseDir(e="assets/webgl"){je=e},api:e=>"./apis/"+e},Ye=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ke{constructor(){this.id="",this.resourceIdx=-1,this.loading=!1,this.loaded=!1,this.locked=!1,this.srcSet=null,this.loadedTime=Number.MAX_VALUE}}class Ze{constructor(e,t){this.id=t,this.tex=e,this.allocator=null}get available(){return null===this.allocator||!this.allocator.locked&&!this.loading}setAllocator(e){return Ye(this,void 0,void 0,(function*(){null!=this.allocator&&(this.allocator.loadedTime=Number.MAX_VALUE,this.allocator.resourceIdx=-1,this.allocator.srcSet.clearData()),this.allocator!==e&&(this.allocator=e,this.allocator.loadedTime=Number.MAX_VALUE,null!=this.allocator&&this.load(this.allocator.srcSet))}))}load(e){return Ye(this,void 0,void 0,(function*(){return this.allocator&&(this.allocator.loading=!0),this.loading=!0,this.tex.request=e,this.tex.loadData(this.allocator?this.allocator.id:"").then(this.onTexLoaded.bind(this))}))}onTexLoaded(e){(null===this.allocator||null!=this.allocator&&e.id===this.allocator.id)&&(this.tex.group.loader.upload(this.tex,e.data),this.tex.texture.clamp(),this.allocator&&(this.allocator.loadedTime=Date.now(),this.allocator.loaded=!0,this.allocator.loading=!1)),this.loading=!1}}class Qe{constructor(e="default",t,n,i="stream_empty.png"){this._poolCount=1,this._lockTime=0,this._poolCount=n,this.gl=t,this._streamedPool=[],this._allocators=[],this.texs=new Oe(e,this.gl),this.loader=new Le(this.gl),this._emptySrc=new ze({std:$e.asset_url(i)}),this._emptyTex=new He("streaming_empty",this._emptySrc,this.texs),this._emptyTex.loadInstant(),this._bindedRegistry=[],this._lockloading=!1}get EmptyTexture(){return this._emptyTex.texture}alloc(){const e=[];for(var t=0;t<this._poolCount;t++){let n=new He("sidx_"+t,null,this.texs),i=new Ze(n,"sidx_"+t);e.push(i.load(this._emptySrc)),this._streamedPool.push(i)}return Promise.all(e)}prepare(e){this._lockTime+=e,this._lockTime>.024&&(this._lockTime=0,this._lockloading=!1)}registerAllocator(e){this._allocators.push(e)}isTexReady(e){const t=e.resourceIdx;return-1!==t&&!this._streamedPool[t].loading}getTex(e){let t=e.resourceIdx,n=-1!==t;if(this._lockloading&&!n)return this._emptyTex.texture;if(n)return this._streamedPool[t].loading?this._emptyTex.texture:this._streamedPool[t].tex.texture;let i=-1;for(let e=0;e<this._poolCount;e++)if(this._streamedPool[e].available){i=e;break}return e.resourceIdx=i,-1===i?this._emptyTex.texture:(this._streamedPool[i].setAllocator(e),this._lockloading=!0,this._streamedPool[i].loading?this._emptyTex.texture:this._streamedPool[i].tex.texture)}}!function(e){e.All="All",e.Best="BestMoments",e.GoodbyeCast="GoodbyeCast",e.Country="MyCountry"}(Xe||(Xe={})),function(e){e.Fanart="fanart",e.Video="video",e.Picture="picture",e.Text="text",e.PicturePoster="picture-poster",e.PictureResistencia="picture-resistencia",e.PictureWhiteBorder="picture-white-border",e.QuoteAllWhite="quote-all-white",e.QuoteHalfImage="quote-half-image",e.QuoteRed="quote-red",e.VideoPlay="video-play",e.VideoRed="video-red",e.VideoWhiteBorder="video-white-border"}(qe||(qe={}));const Je=[qe.Video,qe.VideoPlay,qe.VideoRed,qe.VideoWhiteBorder],et={[qe.Video]:W.vec2.fromValues(1,1),[qe.Fanart]:W.vec2.fromValues(2,2),[qe.Picture]:W.vec2.fromValues(1,1),[qe.Text]:W.vec2.fromValues(1,1),[qe.PicturePoster]:W.vec2.fromValues(2,2),[qe.PictureResistencia]:W.vec2.fromValues(2,2),[qe.PictureWhiteBorder]:W.vec2.fromValues(2,2),[qe.QuoteAllWhite]:W.vec2.fromValues(2,2),[qe.QuoteHalfImage]:W.vec2.fromValues(2,2),[qe.QuoteRed]:W.vec2.fromValues(2,2),[qe.VideoPlay]:W.vec2.fromValues(2,2),[qe.VideoRed]:W.vec2.fromValues(2,2),[qe.VideoWhiteBorder]:W.vec2.fromValues(2,2)},tt={[qe.Fanart]:2,[qe.Video]:3,[qe.Picture]:3,[qe.Text]:1,[qe.PicturePoster]:null,[qe.PictureResistencia]:null,[qe.PictureWhiteBorder]:null,[qe.QuoteAllWhite]:null,[qe.QuoteHalfImage]:null,[qe.QuoteRed]:null,[qe.VideoPlay]:null,[qe.VideoRed]:null,[qe.VideoWhiteBorder]:null};var nt;!function(e){e[e.NONE=0]="NONE",e[e.SEPIA=1]="SEPIA",e[e.DESAT=2]="DESAT",e[e.GRAY=3]="GRAY",e[e.SAT=4]="SAT"}(nt||(nt={}));const it={[qe.Video+"_1"]:nt.SEPIA,[qe.Video+"_2"]:nt.GRAY,[qe.Video+"_3"]:nt.SAT,[qe.Fanart+"_1"]:nt.DESAT,[qe.Fanart+"_2"]:nt.DESAT,[qe.Picture+"_1"]:nt.SEPIA,[qe.Picture+"_2"]:nt.DESAT,[qe.Picture+"_3"]:nt.DESAT,[qe.Text+"_1"]:nt.NONE,[qe.PicturePoster]:nt.NONE,[qe.PictureResistencia]:nt.NONE,[qe.PictureWhiteBorder]:nt.NONE,[qe.QuoteAllWhite]:nt.NONE,[qe.QuoteHalfImage]:nt.NONE,[qe.QuoteRed]:nt.NONE,[qe.VideoPlay]:nt.NONE,[qe.VideoRed]:nt.NONE,[qe.VideoWhiteBorder]:nt.NONE};var st=class{constructor(e){this.city={text:"",image:"",basis:""},this.media={image:"",basis:"",video:""},this.thumb={image:"",basis:""},Object.assign(this,e),e.city||(this.city=null)}get thumbId(){return this.thumb.image+"_"+this.uuid}allocResources(e){const t=e.thumbStreaming,n=e.mediaStreaming,i=e.cityStreaming;if(this.thumbResource||!t||!n||!i)return;let s=new Ke;s.id=this.uuid.toString()+"_thumb",s.srcSet=new ze({std:this.thumb.image}),t.registerAllocator(s),this.thumbResource={group:t,allocator:s},s=new Ke,s.id=this.uuid.toString()+"_media",s.srcSet=new ze({std:this.media.image}),n.registerAllocator(s),this.mediaResource={group:t,allocator:s},s=null,this.city&&(s=new Ke,s.id=this.uuid.toString()+"_city",s.srcSet=new ze({std:this.city.image}),i.registerAllocator(s)),this.cityResource={group:i,allocator:s},this.hasVideo=-1!==Je.indexOf(this.type),this.hasVideo&&(this.videoTex=e.videoTexture)}thumbLoadedTime(){return this.thumbResource.allocator.loadedTime}lockThumb(){this.thumbResource.allocator.locked=!0}unlockThumb(){this.thumbResource.allocator.locked=!1}lockMedia(){this.hasVideo&&null===this.videoTex.currentSource&&this.videoTex.setSrc(this.media.video,this.width,this.height),this.mediaResource.allocator.locked=!0}unlockMedia(){this.hasVideo&&this.videoTex.setSrc(null),this.mediaResource.allocator.locked=!1}lockCity(){this.city&&(this.cityResource.allocator.locked=!0)}unlockCity(){this.city&&(this.cityResource.allocator.locked=!1)}release(){this.thumbResource&&(this.thumbResource.allocator=null,this.thumbResource.group=null)}isMediaReady(){return this.hasVideo&&this.videoTex._playing||this.mediaResource.group.isTexReady(this.mediaResource.allocator)}getMediaTex(){return this.hasVideo&&this.videoTex._playing?this.videoTex.currentSource===this.media.video&&this.videoTex._ready?this.videoTex.getTex():this.thumbResource.group.getTex(this.thumbResource.allocator):this.mediaResource.group.getTex(this.mediaResource.allocator)}getThumbTex(){return this.thumbResource.group.getTex(this.thumbResource.allocator)}getCityTex(){return this.city?this.cityResource.group.getTex(this.cityResource.allocator):this.cityResource.group.EmptyTexture}};const ot={[Xe.All]:"",[Xe.Best]:"netflix",[Xe.Country]:window.user_lang};class rt{static get GET_Path(){return this.HOST+this.GET_ENDPOINT}static get POST_Path(){return this.HOST+this.POST_ENDPOINT}static get SUBMIT_Path(){return this.HOST+this.SUBMIT_ENDPOINT}static GET_TRIBUTE_Path(e){return this.HOST+this.GET_ENDPOINT+"/"+e}}rt.HOST="",rt.DEV_HOST="",rt.END_STRIDE=20,rt.GET_ENDPOINT="/api/tribute",rt.POST_ENDPOINT="/api/create",rt.SUBMIT_ENDPOINT="/api/submit";class at{constructor(){this.page=0}stringParams(){return function(e){var t="",n=!0;for(var i in e)n=null!==e[i]&&void 0!==e[i]&&""!==e[i],""!=t&&n&&(t+="&"),n&&(t+=i+"="+encodeURIComponent(e[i]));return t}(this)}}const lt={[Xe.All]:"assets/mock_media_data.json",[Xe.Best]:"assets/mock_media_data_netflix.json",[Xe.Country]:"assets/mock_media_data_country.json"};class dt{constructor(){this.data=[],this.fetchingData=!1,this.apiEnd=!1,this.overriden=!1,this.brandContentData=[],this.brandPointer=0,this.directMedia=null,this.params=new at,this.dataLength=0,this.resetPointer()}resetPointer(){this.dataPointer=1}load(e){if(this.fetchingData&&!this.apiEnd)return;return this.fetchingData=!0,null!=new URLSearchParams(window.location.search).get("devdata")?O(rt.DEV_HOST+lt[this.filter]+"?"+e.stringParams()).then(this.onDataLoaded.bind(this)):O(rt.GET_Path+"?"+e.stringParams()).then(this.onDataLoaded.bind(this))}needData(){return this.dataPointer>this.dataLength-rt.END_STRIDE&&!this.fetchingData&&!this.overriden}loadNextPage(){if(!this.apiEnd)return this.params.page+=1,this.load(this.params)}loadDirectMedia(e){return fetch(rt.GET_TRIBUTE_Path(e)).then(this.onDirectMediaLoaded.bind(this))}provideData(e,t=!1){if(this.brandContentData=e,t){if(this.resourcesGroup)for(let t=0;t<e.length;t++)e[t].allocResources(this.resourcesGroup);this.data=e,this.apiEnd=!0,this.fetchingData=!1,this.dataLength=this.data.length,this.overriden=!0}}onDirectMediaLoaded(e){return 200!==e.status?Promise.resolve():e.json().then(e=>{let t=new st(e);this.resourcesGroup&&t.allocResources(this.resourcesGroup),this.directMedia=t})}onDataLoaded(e){this.fetchingData=!1,this.dataLength+=e.length,e.length<25&&(this.apiEnd=!0);let t=this.brandContentData.length,n=0===t?0:10,i=0,s=0===t?0:Math.floor(e.length/n);for(let o=0;o<e.length+s;o++){let s=e[i];o%n==0&&t>0&&!this.overriden?(s=this.brandContentData[this.brandPointer%this.brandContentData.length],this.brandPointer+=1):i+=1;let r=new st(s);r.allocResources(this.resourcesGroup),this.data.push(r)}if(this.dataLength+=s,this.brandPointer<this.brandContentData.length-1&&this.apiEnd)for(let e=this.brandPointer;e<this.brandContentData.length;e++){let e=this.brandContentData[this.brandPointer%this.brandContentData.length],t=new st(e);t.allocResources(this.resourcesGroup),this.data.push(t),this.brandPointer+=1,this.dataLength+=1}}setMediaResourcesGroup(e){this.resourcesGroup=e;for(let t=0;t<this.data.length;t++)this.data[t].release(),this.data[t].allocResources(e);this.directMedia&&(this.directMedia.release(),this.directMedia.allocResources(e))}currentData(){return this.dataPointer!==this.dataLength||this.apiEnd?this.data[this.dataPointer%this.dataLength]:null}release(){for(let e=0;e<this.data.length;e++)this.data[e].release();this.directMedia&&this.directMedia.release()}movePointer(){if(this.needData()&&!this.apiEnd&&this.loadNextPage(),this.dataPointer===this.dataLength&&!this.apiEnd)return null;this.dataPointer+=1}}class ct{constructor(e){this.postMediaData=e}postSequence(){return this.promise=new Promise(this.postData.bind(this)),this.promise}postData(e){this.resolve=e,fetch(rt.POST_Path,{method:"POST",body:this.postMediaData.serializeData(),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.onDataSended.bind(this)).catch(e=>{console.log("Someting wrong appended"),console.log(e)}),console.log("[Send Data] 1 : sending user data")}onDataSended(e){e.json().then(e=>{this.postMediaData.uuid=e.uuid,this._presignedUrls=e}).then(this.uploadMedia.bind(this)).then(this.uploadCity.bind(this)).then(this.submit.bind(this)).then(()=>{this.resolve()}).catch(e=>{console.log("Someting wrong appended"),console.log(e)})}uploadMedia(){return console.log("[Send Data] 2 : upload media"),this.uploadS3File(this.postMediaData.getFile(),this._presignedUrls.mediaurl)}uploadCity(){console.log("[Send Data] 3 : upload city");const e=this.postMediaData.getCityFile();return null===e||this.uploadS3File(e,this._presignedUrls.cityurl)}submit(){return this.postMediaData.uuid,fetch(rt.SUBMIT_Path,{method:"POST",body:JSON.stringify({uuid:this.postMediaData.uuid}),headers:{Accept:"application/json","Content-Type":"application/json"}})}uploadS3File(e,t){var n=new FormData;Object.entries(t.values).forEach(([e,t])=>{n.append(e,t)}),n.append("file",e);const i={method:"POST",body:n,mode:"no-cors"};return fetch(t.url,i)}}var ut=n(46);var ht=new class{constructor(){this._mediaPoster=null,this._apiStores={},this.loadBrandContent();for(let e in Xe){let t=Xe[e],n=new dt;n.filter=t,n.params.filter=ot[t],t!==Xe.Best&&t!==Xe.All||n.provideData(this.brandContent,t===Xe.Best),t===Xe.GoodbyeCast&&n.provideData(this.castContent,!0),this._apiStores[t]=n}}get CurrentFilter(){return this._currentFilter}get CurrentStore(){return this._apiStores[this._currentFilter]}get IsFetchingData(){return this.CurrentStore.fetchingData}loadBrandContent(){const e="assets/brand-content/";this.brandContent=[],this.castContent=[];for(let t=0;t<ut.length;t++){let n=new st(ut[t]);if(n.media.image=e+n.media.image,n.media.basis=e+n.media.basis,n.media.video=e+n.media.video,n.thumb.image=e+n.thumb.image,this.brandContent.push(n),n.type===qe.Video){let e=new st(ut[t]);this.castContent.push(e)}}}setCurrentFilter(e){return this.CurrentStore&&this.CurrentStore.resetPointer(),this._currentFilter=e,this.CurrentStore.needData()?this.loadCurrentNextPage():Promise.resolve()}directAccess(e){return this._apiStores[Xe.All].loadDirectMedia(e)}setHOST(e){rt.HOST=e}setFilter(e){this._currentFilter=e}loadCurrentNextPage(){return this.CurrentStore.loadNextPage()}sendUserData(e){if(null===this._mediaPoster)return this._mediaPoster=new ct(e),this._mediaPoster.postSequence().then(()=>{console.log("[Send Data] 4 : All good"),this._mediaPoster=null})}registerMediaResouresGroup(e){for(let t in Xe){let n=Xe[t];this._apiStores[n].setMediaResourcesGroup(e)}}release(){for(let e in Xe){let t=Xe[e];this._apiStores[t].release()}}};var pt={template:n(133),components:{"ui-button":d},data:()=>({filters:[{slug:Xe.All,content:h.t("grid.filter_all")},{slug:Xe.Best,content:h.t("grid.filter_netflix")},{slug:Xe.GoodbyeCast,content:h.t("grid.filter_goodbye_cast")},{slug:Xe.Country,content:h.t("grid.filter_country")}],filterSlug:Xe.All}),computed:{},created(){this.filterSlug=ht.CurrentFilter},beforeDestroy(){this.unbind()},mounted(){this.bind()},methods:{bind(){document.addEventListener("touchstart",this.onDocumentClick,!1)},unbind(){document.removeEventListener("touchstart",this.onDocumentClick,!1)},onDocumentClick(e){const t=document.querySelector(".ui-button--filter");this.$el.contains(e.target)||t.contains(e.target)||this.$emit("closeFilter")},open(){this.tl&&this.tl.pause(),this.tl=o.a.timeline({delay:500}),this.tl.add({targets:this.$refs.item,duration:1200,opacity:[0,1],translateX:["20%","0%"],delay:o.a.stagger(200),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),this.tl.add({targets:this.$refs.indicator,duration:1200,scale:[0,1],delay:o.a.stagger(200,{start:200}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)},close(){this.tl&&this.tl.pause(),this.tl=o.a.timeline(),this.tl.add({targets:this.$refs.item,duration:1200,opacity:[1,0],translateX:["0%","20%"],delay:o.a.stagger(200),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)},activeFilter(e){this.filterSlug=e,g.changeFilter.dispatch(e),this.$emit("closeFilter")}}};var _t={template:n(134),components:{"ui-button":d},data:()=>({resetTransition:!0}),computed:{showInstruction(){return!this.$appdatas.store.hasSlide&&this.$appdatas.store.sliderState||!this.$appdatas.store.sliderState&&this.$appdatas.store.dragPending}},methods:{onSlide(e){g.slide.dispatch(e)},onClose(){g.closeSlider.dispatch(),this.$appdatas.store.sliderState=!1},open(){let e;this.$appdatas.store.isMobile||(e=[this.$refs.prevButton.$refs.iconNext,this.$refs.nextButton.$refs.iconNext]),this.tl&&this.tl.pause(),this.tl=o.a.timeline({delay:500,complete:()=>{if(!this.$appdatas.store.isMobile)for(let t=0;t<e.length;t++){e[t].style=""}this.resetTransition=!1}}),this.$appdatas.store.isMobile||this.tl.add({targets:this.$refs.prevButton.$el,duration:1200,opacity:[0,1],translateX:["100%","0%"],scaleX:[-1,-1],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),this.$appdatas.store.isMobile||this.tl.add({targets:this.$refs.nextButton.$el,duration:1200,opacity:[0,1],translateX:["-100%","0%"],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),this.$refs.close&&this.tl.add({targets:this.$refs.close.$el,duration:1200,opacity:[0,1],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),e&&this.tl.add({targets:e,duration:1200,translateX:["-80%","0%"],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)},close(e){this.tl&&this.tl.pause(),this.tl=o.a.timeline({complete:()=>{this.resetTransition=!0,e&&e()}}),this.$appdatas.store.isMobile||this.tl.add({targets:this.$refs.prevButton.$el,duration:1200,opacity:[1,0],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),this.$appdatas.store.isMobile||this.tl.add({targets:this.$refs.nextButton.$el,duration:1200,opacity:[1,0],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),this.$refs.close&&this.tl.add({targets:this.$refs.close.$el,duration:1200,opacity:[1,0],easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)}}};var gt={mounted(){this._bindUI()},methods:{_bindUI(){this.ui={filtersItems:this.$refs.filters.$refs.item,filtersIndicator:this.$refs.filters.$refs.indicator,filterButton:this.$refs.filterButton.$el,filterButtonIndicator:this.$refs.filterButtonIndicator}},onXpEnterAnimation(e){this.onEnterAnimation(e)},onEnterAnimation(e){const t=o.a.timeline({complete:e});t.add({targets:this.ui.filterButton,duration:1800,opacity:[0,1],translateX:["20%","0%"],delay:200,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),t.add({targets:this.ui.filterButtonIndicator,duration:1800,scale:[0,1],delay:400,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),setTimeout(()=>{this.$refs.filters.open()},200)}}};const mt=new class{constructor(){this.screen={},this.postMediaData=null,this.store=s.a.observable({headerState:"",audioReady:!1,sliderState:!1,loaderState:!1,langSelectorState:!1,preloaded:!1,sliderVideoPending:!1,hasSlide:!1,dragPending:!1,isMobile:!We.a.isDesktop,get contribSpeed(){return this.phase===gc.Contribution?.7:.9},phase:""}),this.screen={width:window.innerWidth,height:window.innerHeight},g.resize.on(this.onResize.bind(this))}register(){s.a.mixin({beforeCreate:vt})}onResize(e){this.screen.width=e[0],this.screen.height=e[1]}};function vt(){this.$appdatas=mt}var ft=mt;var bt,Tt={mixins:[S,R,gt],template:n(137),components:{"ui-filters":pt,"ui-slider":_t,"ui-button":d},data:()=>({filterActive:!1,playAnimating:!0}),computed:{},mounted(){if(this.$appdatas.store.isMobile||(this.filterActive=!0),this.$appdatas.store.isMobile){const e=this.$refs.playButton.$el,t=this.$refs.playButton.$refs.iconBorder,n=this.$refs.playButton.$refs.iconNext;this.playTL=o.a.timeline({autoplay:!1,complete:()=>{this.playAnimating=!1,n.style="",t.style=""}}),this.playTL.add({targets:[e],duration:10,opacity:[0,1]},0),this.playTL.add({targets:[t,n],duration:450,opacity:[0,1],scale:[1.1,1],delay:o.a.stagger(150),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0)}},methods:{setHeaderState(){this.$appdatas.store.headerState=w.Default},changeMode(){a.reset(),this.currentMode===mc.Contribution?g.changeMode.dispatch(mc.Xp):g.changeMode.dispatch(mc.Contribution)},toggleFilters(){this.filterActive=!this.filterActive,this.filterActive?this.$refs.filters.open():this.$refs.filters.close()},hideCtaButtons(){Object(o.a)({targets:[this.$refs.filterButton.$el],duration:1800,opacity:0,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)",complete:()=>{}})},showCtaButtons(){Object(o.a)({targets:this.$refs.filterButton.$el,duration:1800,opacity:1,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"})},onPlay(){ft.videoTexture.play()},openPlayButton(){this.playTL&&(this.playTL.reversed&&this.playTL.reverse(),this.playTL.play())},closePlayButton(){this.playTL&&(this.playTL.pause(),this.playTL.reversed||this.playTL.reverse(),this.playTL.play())},onCloseFilter(){this.$appdatas.store.isMobile&&(this.filterActive=!1)}},watch:{"$appdatas.store.sliderVideoPending":function(e){e?this.openPlayButton():this.closePlayButton()},"$appdatas.store.sliderState":function(e){e?(this.filterActive?(this.$refs.filters.close(),this.$refs.slider.open()):this.$refs.slider.open(),this.hideCtaButtons()):(this.$appdatas.store.sliderVideoPending=!1,this.$refs.slider.close(),this.filterActive&&this.$refs.filters.open(),this.showCtaButtons())}}};!function(e){e.Video="video",e.Introduction="introduction",e.Grid="grid"}(bt||(bt={}));const Et={[bt.Video]:Ee,[bt.Introduction]:ae,[bt.Grid]:Tt};var wt={props:{startView:{type:String}},template:n(138),data:()=>({mediaDatas:{},currentViewSlug:""}),computed:{currentView(){return Et[this.currentViewSlug]},componentActiveClass(){return`xp-${this.currentViewSlug}-active`}},created(){this.startView&&(this.currentViewSlug=this.startView)},methods:{onNextView(e){a.reset(),this.prevViewSlug=this.currentViewSlug,e&&(this.currentViewSlug=e),this.currentViewSlug===bt.Introduction&&this.$parent.enterGrid()},onPrevView(e){a.reset(),this.prevViewSlug=this.currentViewSlug,e&&(this.currentViewSlug=e)},enter(e,t){this.$refs.component.enterAnimation(t)},leave(e,t){this.$refs.component.leaveAnimation(t)}}};const Ct={methods:{enterAnimation(e,t){this.onEnterAnimation?this.onEnterAnimation(e,t):Object(o.a)({targets:this.$el,opacity:[0,1],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:t})},leaveAnimation(e){this.onLeaveAnimation?this.onLeaveAnimation(e):Object(o.a)({targets:this.$el,opacity:[1,0],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)",complete:e})}}};var At=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var St={mixins:[S,Ct,{mounted(){this.bindUI()},methods:{bindUI(){this.ui={instructions:this.$refs.instructions,button:this.$refs.button.$el,picture:this.$refs.picture}},beforeLoaderEnter(){o.a.set(this.ui.instructions,{opacity:0}),o.a.set(this.ui.picture,{opacity:0})},onEnterAnimation(e,t){this.beforeLoaderEnter(),this.loaderEnterAnimation()},loaderEnterAnimation(){this.$refs.button.appearCta(),Object(o.a)({targets:this.ui.instructions,duration:1e3,delay:1640,opacity:{value:[0,1],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},translateX:{value:["-50%","-50%"],duration:1,easing:"linear"},translateY:{value:["60%","0%"],duration:1e3,easing:"cubicBezier(0.00, 1.17, 0.46, 1.00)"}}),Object(o.a)({targets:this.ui.picture,duration:1e3,delay:400,opacity:{value:[0,1],duration:720,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"}})}}}],template:n(139),components:{UiButton:d},data:()=>({nextView:Gt.Onboarding}),computed:{titleImage:()=>"assets/introduction_title.png",titleImageMobile:()=>"assets/introduction_title_mobile.png"},mounted(){this.bindEvents(),this.$appdatas.store.loaderState?this.$refs.button.appearCta():this.beforeLoaderEnter()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.loaderEnded.on(this.onLoaderEnter)},unbindEvents(){g.loaderEnded.off(this.onLoaderEnter)},onLoaderEnter(){return At(this,void 0,void 0,(function*(){yield m(720),this.loaderEnterAnimation()}))},setHeaderState(){this.$appdatas.store.headerState=w.Default}}};function Rt(e,t){for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],s=atob(n[1]),o=s.length,r=new Uint8Array(o);o--;)r[o]=s.charCodeAt(o);return new File([r],t,{type:i})}var yt=class{constructor(){this.captcha="6LdOqeIUAAAAAHBbiVI0ZGXnmqyJA-2GOnftDmwi"}serializeData(){let e={};return e.type=this.media_type,this.file_text&&(e.text=this.file_text),this.city&&(e.city=this.city),this.email&&(e.email=this.email),e.optin1=!0,e.optin2=!0,e.lang=this.locale,e.token=this.token,JSON.stringify(e)}getFile(){if(this.media_type==qe.Picture||this.media_type==qe.Video)return this.file;return Rt(this.file,this.uuid+".png")}getCityFile(){if(!this.city_file)return null;return Rt(this.city_file,this.uuid+"_city.png")}};var xt={mixins:[S,Ct,{mounted(){this._bindUI()},methods:{onXpEnterAnimation(e){const t=o.a.timeline({complete:()=>{this._cleanButton(),e()}}),n=this.$appdatas.store.contribSpeed;t.add({targets:this.$el,opacity:{value:[0,1],duration:2910*n,easing:"linear"}},0),t.add({targets:this.ui.instructions,opacity:{value:[0,1],delay:1e3,duration:1e3*n,easing:"linear"},translateY:{value:["75%","0%"],duration:2920*n,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"}},0),t.add({targets:this.ui.buttonsBorders,duration:1440*n,scale:[0,1],delay:o.a.stagger(120*n,{start:1e3*n}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),t.add({targets:this.ui.buttonsIcons,duration:840*n,opacity:[0,1],delay:o.a.stagger(120*n,{start:1660*n}),easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0)},onEnterAnimation(e,t){const n=o.a.timeline({complete:()=>{this._cleanButton(),t()}}),i=this.$appdatas.store.contribSpeed,s=e<0?"-200%":"200%";n.add({targets:this.$el,opacity:{value:[0,1],duration:2910*i,easing:"linear"},translateX:{value:[s,"0%"],duration:2910*i,easing:"cubicBezier(0.61, 0.15, 0.16, 1.00)"}},0);const r=e<0?"-75%":"75%";n.add({targets:this.ui.instructions,translateX:{value:[r,"0%"],duration:2920*i,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"}},0),n.add({targets:this.ui.buttonsBorders,duration:1440*i,scale:[0,1],delay:o.a.stagger(120*i,{start:1960*i}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),n.add({targets:this.ui.buttonsIcons,duration:840*i,opacity:[0,1],delay:o.a.stagger(120*i,{start:2560*i}),easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0)},_bindUI(){const e=[],t=[],n=[],i=[];this.$refs.pictureButton&&e.push(this.$refs.pictureButton),this.$refs.messageButton&&e.push(this.$refs.messageButton);for(let s=0;s<e.length;s++){const o=e[s],r=o.$refs.iconBorder,a=o.$refs.iconNext;r&&n.push(r),a&&i.push(a),t&&t.push(o.$el)}this.$refs.iconBorder&&n.push(this.$refs.iconBorder),this.$refs.iconNext&&i.push(this.$refs.iconNext),this.$refs.uploadButton&&t.push(this.$refs.uploadButton),this.ui={instructions:this.$refs.instructions,buttons:t,buttonsBorders:n,buttonsIcons:i}},_cleanButton(){for(let e=0;e<this.ui.buttons.length;e++){const t=this.ui.buttons[e],n=this.ui.buttonsBorders[e],i=this.ui.buttonsIcons[e];t.classList.remove("reset-transition"),n.style="",i.style=""}}}}],template:n(140),components:{UiButton:d},data:()=>({imageMissing:!1}),mounted(){this.$appdatas.postMediaData=new yt,this.$appdatas.postMediaData.locale=h.locale,this.$appdatas.store.phase===gc.Xp&&this.bindEvents(),this.$refs.fileInput&&this.$refs.fileInput.addEventListener("change",this.onInputChange)},beforeDestroy(){this.$appdatas.store.phase===gc.Xp&&this.unbindEvents()},computed:{titleImage(){let e="assets/onboarding/"+h.defaultLocale+"/onboarding_title.png";const t="assets/onboarding/"+h.locale+"/onboarding_title.png";return-1!=J.indexOf(t)?e=t:this.imageMissing=!0,e}},methods:{bindEvents(){g.headerTriggered.on(this.onHeaderTriggered)},unbindEvents(){g.headerTriggered.off(this.onHeaderTriggered)},onHeaderTriggered(e){switch(e){case"cancel":g.changeMode.dispatch(mc.Xp)}},onInputChange(e){const t=e.target.files[0];t&&(this.$appdatas.postMediaData.file=t,this.$nextTick(()=>{this.sendPicture()}))},setHeaderState(){this.$appdatas.store.phase===gc.Xp?this.$appdatas.store.headerState=w.Cancel:this.$appdatas.store.headerState=w.Default},sendPicture(){this.goToNextView(Gt.Picture)},sendMessage(){this.goToNextView(Gt.Message)}}},Mt=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const Pt={mounted(){return Mt(this,void 0,void 0,(function*(){We.a.isDesktop||(yield this.$nextTick(),this.screenHeight=window.innerHeight)}))},methods:{onFocus(){if(We.a.isDesktop)return;document.body.style.height=this.screenHeight+"px"},onBlur(){return Mt(this,void 0,void 0,(function*(){if(We.a.isDesktop)return;const e=document.body;setTimeout(()=>{window.scrollTo(0,0),e.style.height=""},500)}))}}};var Nt=Pt;var It={mixins:[S,Ct,Pt,{mounted(){this._bindUI()},methods:{onEnterAnimation(e,t){const n=o.a.timeline({complete:()=>{this._cleanButton(),t()}}),i=this.$appdatas.store.contribSpeed,s=e<0?"-200%":"200%";n.add({targets:this.$el,opacity:{value:[0,1],duration:2910*i,easing:"linear"},translateX:{value:[s,"0%"],duration:2910*i,easing:"cubicBezier(0.61, 0.15, 0.16, 1.00)"}},0),n.add({targets:this.ui.buttonsBorders,duration:1440*i,scale:[0,1],delay:o.a.stagger(120*i,{start:1960*i}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),n.add({targets:this.ui.buttonsIcons,duration:840*i,opacity:[0,1],delay:o.a.stagger(120*i,{start:2560*i}),easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},0)},onLeaveAnimation(e){const t=this.$appdatas.store.contribSpeed;Object(o.a)({targets:this.$el,opacity:{value:0,duration:720*t,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},translateY:{value:["0%","5%"],duration:720*t,delay:300*t,easing:"cubicBezier(0.33, 0.00, 0.67, 1.00)"},complete:e})},_bindUI(){const e=[],t=[],n=[],i=[];this.$refs.submitButton&&e.push(this.$refs.submitButton);for(let s=0;s<e.length;s++){const o=e[s],r=o.$refs.iconBorder,a=o.$refs.iconNext;r&&n.push(r),a&&i.push(a),t&&t.push(o.$el)}this.ui={buttons:t,buttonsBorders:n,buttonsIcons:i}},_cleanButton(){for(let e=0;e<this.ui.buttons.length;e++){const t=this.ui.buttons[e],n=this.ui.buttonsBorders[e],i=this.ui.buttonsIcons[e];t.classList.remove("reset-transition"),n.style="",i.style=""}}}}],template:n(141),components:{"ui-button":d},data:()=>({message:"",maxChar:240,prevView:Gt.Onboarding,nextView:Gt.Form}),computed:{charCounter(){return"-"+(this.maxChar-this.message.length)}},mounted(){this.bindEvents()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.headerTriggered.on(this.onHeaderTriggered)},unbindEvents(){g.headerTriggered.off(this.onHeaderTriggered)},onHeaderTriggered(e){switch(e){case"cancel":this.cancelMessage();break;case"submit":this.saveMessage()}},setHeaderState(){const e=window.matchMedia("(min-width: 1024px)").matches;this.$appdatas.store.headerState=e?w.Cancel:w.CancelSubmit},cancelMessage(){this.goToPrevView()},saveMessage(){if(0==this.message.length)return;let e=this.$appdatas.postMediaData;e.file_text=this.message,e.media_type=qe.Text,this.goToNextView()}}};const Lt={data:()=>({fileName:"",sizeError:!1,isValid:!1}),computed:{},mounted(){this.$appdatas.postMediaData.file&&(this.resetFile(!1),this.checkFile(this.$appdatas.postMediaData.file))},methods:{onInputChange(e){this.resetFile(!1);const t=e.target.files[0];this.checkFile(t)},checkFile(e){this.fileName=e.name,e.size>8e7?this.sizeError=!0:(this.file=e,this.isValid=!0)},resetFile(e=!0){e&&(this.$refs.fileInput.value=null),this.sizeError=!1,this.isValid=!1,this.file=null,this.fileName=""},saveFile(){if(!this.file)return;const e=this.$appdatas.postMediaData;e.file=this.file,e.media_type=this.resolveMediaType(this.file.name),this.goToNextView()},resolveMediaType:e=>/\.(MP4|MOV|mov|mp4)$/i.test(e)?qe.Video:qe.Picture}};var Ot={mixins:[S,Ct,Lt,{methods:{onEnterAnimation(e,t){const n=o.a.timeline({complete:()=>{t()}}),i=this.$appdatas.store.contribSpeed,s=e<0?"-200%":"200%";n.add({targets:this.$el,opacity:{value:[0,1],duration:2910*i,easing:"linear"},translateX:{value:[s,"0%"],duration:2910*i,easing:"cubicBezier(0.61, 0.15, 0.16, 1.00)"}},0),setTimeout(()=>{this.$refs.uploadButton.appearCtaLight()},2e3)}}}],template:n(142),components:{"ui-button":d},data:()=>({prevView:Gt.Onboarding,nextView:Gt.Form}),mounted(){this.bindEvents()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.headerTriggered.on(this.onHeaderTriggered)},unbindEvents(){g.headerTriggered.off(this.onHeaderTriggered)},onHeaderTriggered(e){switch(e){case"cancel":this.goToPrevView()}},setHeaderState(){this.$appdatas.store.headerState=w.Cancel}}};var Dt=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const Ft=/\#\#/g,Bt=/\#\#(.)+\#\#/g;var Ut={mixins:[S,Ct,Nt,{mounted(){this._bindUI()},methods:{onEnterAnimation(e,t){const n=o.a.timeline({complete:()=>{t()}}),i=this.$appdatas.store.contribSpeed,s=e<0?"-200%":"200%";n.add({targets:this.$el,opacity:{value:[0,1],duration:2910*i,easing:"linear"},translateX:{value:[s,"0%"],duration:2910*i,easing:"cubicBezier(0.61, 0.15, 0.16, 1.00)"}},0),n.add({targets:this.ui.linesWrapper,duration:1800*i,translateX:["50%","-50%"],delay:o.a.stagger(200*i,{start:1200*i}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),n.add({targets:this.ui.lines,duration:1800*i,translateX:["-100%","0%"],delay:o.a.stagger(200*i,{start:1200*i}),easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"},0),setTimeout(()=>{this.$refs.submitButton.appearCtaLight()},2e3)},_bindUI(){this.ui={linesWrapper:this.$el.querySelectorAll(".contribution-form__group__line__wrapper"),lines:this.$el.querySelectorAll(".contribution-form__group__line")}}}}],template:n(143),components:{UiButton:d},data:()=>({city:"",email:"",legalTerms:"",legalTermsError:"",prevView:Gt.Onboarding,nextView:Gt.Success,emailError:!1,checkError:!1,formError:!1,checked:!1,submitProcess:!1}),computed:{},mounted(){this.setShakeAnimation(this.$refs.submitButton),this.legalTerms=this.setTermsLink(h.t("contribution.check_terms")),this.legalTermsError=this.setTermsLink(h.t("contribution.check_terms_error")),this.bindEvents()},beforeDestroy(){this.unbindEvents()},methods:{bindEvents(){g.headerTriggered.on(this.onHeaderTriggered)},unbindEvents(){g.headerTriggered.off(this.onHeaderTriggered)},onHeaderTriggered(e){switch(e){case"cancel":this.goToPrevView();break;case"submit":this.onSubmit()}},setHeaderState(){this.$appdatas.store.headerState=w.Cancel},onSubmit(){let e=""==this.email||this.validateEmail(this.email);this.checked&&e?this.submitForm():(e||(this.emailError=!0,this.restartShareAnimation()),this.checked||(this.checkError=!0,this.restartShareAnimation()))},submitForm(){return Dt(this,void 0,void 0,(function*(){this.submitProcess=!0,this.setPostMediaDatas();const e=this.$parent.$refs.canvasText,t=this.$appdatas.postMediaData;t.optin_1=this.checked,t.city&&(yield e.setText(t.city,qe.Fanart),t.city_file=yield e.getStringImage(qe.Fanart)),t.file_text&&(yield e.setText(t.file_text,qe.Text),t.file=yield e.getStringImage(qe.Text)),this.getRecaptchaToken(t.captcha).then(e=>{t.token=e,ht.sendUserData(t).then(this.goToNextView).catch(e=>{console.log(e),this.submitProcess=!1,this.formError=!0})})}))},getRecaptchaToken(e){return new Promise(t=>{grecaptcha.ready(()=>Dt(this,void 0,void 0,(function*(){const n=yield grecaptcha.execute(e);t(n)})))})},validateEmail:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),setShakeAnimation(e){this.shakeAnimation=Object(o.a)({targets:e,easing:"easeInOutSine",duration:550,translateX:[{value:-8},{value:8},{value:-4},{value:4},{value:0}],autoplay:!1})},restartShareAnimation(){this.shakeAnimation.restart()},setPostMediaDatas(){let e=this.$appdatas.postMediaData;this.city&&(e.city=this.city),this.email&&(e.email=this.email)},onFocusMail(){this.emailError=!1},onBlurMail(){this.emailError=""!=this.email&&!this.validateEmail(this.email)},setTermsLink(e){let t=e.trim();return(e.match(Bt)||[]).forEach(e=>{const n=e.replace(Ft,"");t=t.replace(e,`<a href="${this.setPdfLink()}" target="_blank">${n}</a>`)}),t},setPdfLink(){let e="assets/legals/"+h.defaultLocale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";const t="assets/legals/"+h.locale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";return t||e}}};const Vt={mounted(){this._bindUI()},methods:{onEnterAnimation(e,t){const n=o.a.timeline({complete:()=>{t()}}),i=this.$appdatas.store.contribSpeed,s=e<0?"-200%":"200%";n.add({targets:this.$el,opacity:{value:[0,1],duration:2910*i,easing:"linear"},translateX:{value:[s,"0%"],duration:2910*i,easing:"cubicBezier(0.61, 0.15, 0.16, 1.00)"}},0);const r=e<0?"-75%":"75%";n.add({targets:this.ui.instructions,translateX:{value:[r,"0%"],duration:2920*i,easing:"cubicBezier(0.76, 0.00, 0.24, 1.00)"}},0),setTimeout(()=>{this.$refs.button.appearCtaLight()},2e3)},_bindUI(){this.ui={instructions:this.$refs.instructions}}}};var Gt,kt={mixins:[S,Ct,Vt],template:n(144),components:{UiButton:d},data:()=>({nextView:Gt.Introduction,imageMissing:!1}),computed:{titleImage(){let e="assets/thanks/"+h.defaultLocale+"/thanks.png";const t="assets/thanks/"+h.locale+"/thanks.png";return-1!=J.indexOf(t)?e=t:this.imageMissing=!0,e}},methods:{setHeaderState(){this.$appdatas.store.headerState=w.Default},successClick(){this.$appdatas.store.phase===gc.Xp?g.changeMode.dispatch(mc.Xp):this.goToNextView()}}};!function(e){e.Introduction="introduction",e.Onboarding="onboarding",e.Message="message",e.Picture="picture",e.Form="form",e.Success="success"}(Gt||(Gt={}));const Ht={[Gt.Introduction]:St,[Gt.Onboarding]:xt,[Gt.Message]:It,[Gt.Picture]:Ot,[Gt.Form]:Ut,[Gt.Success]:kt};var zt=class{constructor(e){this._opts=e,this._debug=e.debug,this._debugImage=e.debugImage,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._setSize(this._opts.size)}_setSize({width:e=100,height:t=100}){this._canvas.width=e,this._canvas.height=t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"}_drawBackground(){const e=this._ctx,{width:t,height:n}=this._canvas;e.fillStyle="white",e.fillRect(0,0,t,n)}_drawDebug(){if(!this._debug.drawDebugImage)return;const{width:e,height:t}=this._canvas;this._ctx.drawImage(this._debugImage,0,0,e,t)}_draw(){this._drawBackground(),this._drawDebug();const e=this._ctx;e.fillStyle="black",this._isArabicText()&&(e.direction="rtl")}_isArabicText(){return/[\u0600-\u06FF]/.test(this._text)||this._debug.forceArabic}set text(e){this._text=e,this._draw()}get image(){return this._image||(this._image=new Image),this._image.src=this._canvas.toDataURL(),this._image}get canvas(){return this._canvas}};const Wt=1024,jt=105,Xt=105,qt=280,$t=250;class Yt extends zt{_draw(){super._draw(),this._drawText({text:this._text,rect:{x:jt/Wt,y:qt/Wt,width:(Wt-jt-Xt)/Wt,height:(Wt-qt-$t)/Wt}})}_drawText({text:e="",fontName:t=Yt.font.name,rect:n,lineHeight:i=1.2,minFontSize:s=1,maxFontSize:o=40,stepFontSize:r=.1}){const a=this._canvas,l=this._ctx,d=this._textToWords(e);this._isArabicText()&&(d.reverse(),n.x=1-n.x),n.x=Math.floor(n.x*a.width),n.y=Math.floor(n.y*a.height),n.width=Math.floor(n.width*a.width),n.height=Math.floor(n.height*a.height);let c,u=[];c=25;const h=25*i;l.font="25px "+t;let p=n.x,_=n.y+25;u=[];let g="";for(const e of d){let t;t="///newline///"!==e?this._isArabicText()?e+" "+g:g+e+" ":g,l.measureText(t).width>n.width||"///newline///"===e?(u.push({text:g,x:p,y:_}),g="///newline///"!==e?e+" ":"",_+=h):g=t}u.push({text:g,x:p,y:_}),console.log(25);for(const e of u){const t=e.text.trim();t&&l.fillText(t,e.x,e.y)}}_textToWords(e){if(/[\u3400-\u9FBF]/.test(e)){const t=[],n=e.split("");for(let e=0;e<=n.length-1;e++)"\n"!==n[e]?this._containsPunctations(n[e+1])?(t.push(n[e]+n[e+1]),e++):t.push(n[e]):t.push("///newline///");return t}return(e=e.replace(/\n/g," ///newline/// ").replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")).split(" ")}_containsPunctations(e){return/[\uFF01-\uFF07,\u0021,\u003F,\u002E,\u002C,\u003A,\u003B,\uFF1A-\uFF1F,\u3002,\uFF0C-\uFF0E,\u2000-\u206F,\uFFED-\uFFEF,\u0028,\u0029]/.test(e)}}Yt.debugImageUrl="assets/media_text_debug.png",Yt.font={name:"Indieflower",url:"assets/fonts/indieflower-regular-webfont.woff"};var Kt=Yt;const Zt={x:200,y:380,xOffset:30,yOffset:20},Qt=1024,Jt=216,en=336,tn=Zt,nn={x:Zt.x-150,y:Zt.y+330,width:1024-2*(Zt.x-150)};class sn extends zt{_draw(){this._setSize({width:128,height:128}),super._draw(),this._drawText({fromText:h.translate("contribution.share_name_img"),cityText:this._text,fromFontSize:Jt/Qt,maxCityFontSize:en/Qt,rectFrom:{x:tn.x/Qt,y:tn.y/Qt,xOffset:tn.xOffset/Qt,yOffset:tn.yOffset/Qt},rectCity:{x:nn.x/Qt,y:nn.y/Qt,width:nn.width/Qt}})}_drawText({fromText:e="",cityText:t="",fontName:n=sn.font.name,fromFontSize:i,maxCityFontSize:s,rectFrom:o,rectCity:r,angle:a=-6,stepFontSize:l=.1}){const d=this._ctx,c=this._canvas;o.x=Math.floor(o.x*c.width),o.y=Math.floor(o.y*c.height),o.xOffset=Math.floor(o.xOffset*c.height),o.yOffset=Math.floor(o.yOffset*c.width),r.x=Math.floor(r.x*c.width),r.y=Math.floor(r.y*c.height),r.width=Math.floor(r.width*c.width),i=Math.floor(i*c.width),s=Math.floor(s*c.width);const u=this._getFitFontSize({text:t,width:r.width,maxFontSize:s,stepFontSize:l});d.save(),this._isArabicText()&&(d.textAlign="left"),d.translate(r.x,r.y),d.translate(-r.x,-r.y);const h=Z(u,1,s,o.xOffset,0),p=Z(u,1,s,o.yOffset,0);d.font=`${i}px ${n}`,d.fillText(e,o.x-h,o.y+p),d.font=`${u}px ${n}`,d.fillText(t,r.x,r.y),d.restore()}_getFitFontSize({text:e,fontName:t=sn.font.name,maxFontSize:n,stepFontSize:i=1,width:s}){const o=this._ctx;let r;for(o.font=`${n}px ${t}`,r=n;s<o.measureText(e).width;r-=i)o.font=`${r}px ${t}`;return Y(r,1,n)}}sn.debugImageUrl="assets/media_fanart_debug.png",sn.font={name:"Rock Salt",url:"assets/fonts/rock-salt.woff"};var on=sn;const rn={[qe.Text]:Kt,[qe.Fanart]:on};var an=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const ln={debug:{debugImage:!1,showCanvas:!1,drawDebugImage:!1,forceArabic:!1},size:{width:512,height:512}};var dn={template:n(145),created(){this.mediaTypeIntancesMap={},this.loadingPromise=this._load()},mounted(){ln.debug.showCanvas&&this.loadingPromise.then(()=>this._showCanvas())},methods:{setText(e="",t=qe.Text){return an(this,void 0,void 0,(function*(){return this.loadingPromise.then(()=>{this.mediaTypeIntancesMap[t].text=e})}))},getImage(e=qe.Text){return an(this,void 0,void 0,(function*(){return this.loadingPromise.then(()=>this.mediaTypeIntancesMap[e].image)}))},getStringImage(e=qe.Text){return an(this,void 0,void 0,(function*(){return this.loadingPromise.then(()=>this.mediaTypeIntancesMap[e].image.src)}))},_load(){return an(this,void 0,void 0,(function*(){const e=[];for(const t in rn){const n=rn[t],i=[];n.font&&i.push(this._loadFont(n.font)),ln.debug.debugImage&&n.debugImageUrl&&i.push(F(n.debugImageUrl));const s=Promise.all(i).then(({1:e})=>this._instanciateMediaType(t,n,e));e.push(s)}return Promise.all(e)}))},_loadFont({url:e,name:t}){return an(this,void 0,void 0,(function*(){return D(e).then(e=>new FontFace(t,e).load()).then(e=>(document.fonts.add(e),e))}))},_instanciateMediaType(e,t,n){this.mediaTypeIntancesMap[e]=new t(Object.assign(Object.assign({},ln),{debugImage:n}))},_showCanvas(){for(const e in this.mediaTypeIntancesMap){const t=this.mediaTypeIntancesMap[e];t.canvas.classList.add(e.toLowerCase()),this.$el.appendChild(t.canvas)}}}};var cn={props:{startView:{type:String}},template:n(146),components:{"ui-footer":T,"ui-header":A,"canvas-text":dn},data:()=>({mediaDatas:{},currentViewSlug:Gt.Introduction}),computed:{currentView(){return Ht[this.currentViewSlug]},componentActiveClass(){return`contribution-${this.currentViewSlug}-active`}},created(){this.startView&&(this.currentViewSlug=this.startView),this.direction=0},methods:{onNextView(e){a.reset(),this.direction=1,this.prevViewSlug=this.currentViewSlug,e&&(this.currentViewSlug=e)},onPrevView(e){a.reset(),this.direction=-1,this.prevViewSlug=this.currentViewSlug,e&&(this.currentViewSlug=e)},enter(e,t){this.$refs.component.enterAnimation(this.direction,t)},leave(e,t){this.$refs.component.leaveAnimation(()=>{1===this.direction?this.$emit("request-next-slide"):this.$emit("request-prev-slide"),t&&t()})}}};const un=W.vec2.create();class hn{constructor(e){this.nativeTouch=e,this.id=e.identifier,this.startTime=Date.now(),this.onEnd=new r,this.startCoords=W.vec2.create(),this.coords=W.vec2.create(),this.ncoords=W.vec2.create(),this.pcoords=W.vec2.create(),this.update(e),this.startCoords.set(this.coords)}get duration(){return Date.now()-this.startTime}getDelta(e){e[0]=this.coords[0]-this.startCoords[0],e[1]=this.coords[1]-this.startCoords[1]}getDeltaLength(){return this.getDelta(un),W.vec2.length(un)}update(e){const t=e.clientX,n=e.clientY;this.pcoords[0]=t,this.pcoords[1]=n,this.coords[0]=2*t/ft.screen.width-1,this.coords[1]=-(2*n/ft.screen.height-1),this.ncoords[0]=2*t/ft.screen.width-1,this.ncoords[1]=-(2*n/ft.screen.height-1)}end(){this.onEnd.emit(),this.onEnd.release()}}class pn{constructor(e){if(this.touchstart=e=>{e.touches.length>0&&(this.mpos[0]=2*e.touches[0].clientX/ft.screen.width-1,this.mpos[1]=-(2*e.touches[0].clientY/ft.screen.height-1));for(var t=0;t<e.changedTouches.length;t++)this.addTouch(e.changedTouches[t])},this.mouseout=()=>{this.hasMouse=!1},this.mouseenter=()=>{this.hasMouse=!0},this.touchmove=e=>{if(e.touches.length>0&&(this.mpos[0]=2*e.touches[0].clientX/ft.screen.width-1,this.mpos[1]=-(2*e.touches[0].clientY/ft.screen.height-1)),e.touches.length<this.touches.length)for(var t=Array.from(e.touches).map(e=>e.identifier),n=this.touches.length-1;n>-1;n--){var i=this.touches[n];-1===t.indexOf(i.id)&&this.removeTouchId(i.id)}var s=e.changedTouches;for(n=0;n<s.length;n++)this.touchesById[s[n].identifier].update(s[n])},this.touchend=e=>{for(var t=0;t<e.changedTouches.length;t++)this.removeTouch(e.changedTouches[t])},this.mousehandler=e=>{if(this._handleMouse&&(this.mpos[0]=2*e.clientX/ft.screen.width-1,this.mpos[1]=-(2*e.clientY/ft.screen.height-1)),!this._handleMouse)return;0!=(1&function(e){return void 0===e.buttons?1<<e.which:e.buttons}(e))&&(_n.clientX=e.clientX,_n.clientY=e.clientY,this.mpos[0]=2*e.clientX/ft.screen.width-1,this.mpos[1]=-(2*e.clientY/ft.screen.height-1),void 0===this.touchesById.mouse0?this.touchstart(gn):this.touchmove(gn))},this.mouseend=e=>{this._handleMouse&&this.touchend(gn)},this.el=e,this.touches=[],this.touchesById={},this.onTouchAdded=new r,this.onTouchRemoved=new r,this.mpos=W.vec2.create(),this._handleMouse=!0,void 0!==e){const t=n=>{this._handleMouse=!1,e.removeEventListener("touchstart",t)};e.addEventListener("touchstart",t)}}start(e){if(void 0!==e){this.el=e;const t=n=>{this._handleMouse=!1,e.removeEventListener("touchstart",t)};e.addEventListener("touchstart",t)}const t=document.body;(e=this.el).addEventListener("mousemove",this.mousehandler),e.addEventListener("mousedown",this.mousehandler),e.addEventListener("mouseout",this.mouseout),e.addEventListener("mouseenter",this.mouseenter),t.addEventListener("mouseleave",this.mouseend),t.addEventListener("mouseup",this.mouseend),e.addEventListener("touchmove",this.touchmove),e.addEventListener("touchstart",this.touchstart),t.addEventListener("touchend",this.touchend)}release(){var e=this.el;const t=document.body;this.removeAllTouch(),e.removeEventListener("mousemove",this.mousehandler),e.removeEventListener("mousedown",this.mousehandler),t.removeEventListener("mouseleave",this.mouseend),t.removeEventListener("mouseup",this.mouseend),e.removeEventListener("mouseout",this.mouseout),e.removeEventListener("mouseenter",this.mouseenter),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchstart",this.touchstart),t.removeEventListener("touchend",this.touchend)}addTouch(e){var t=new hn(e);this.touches.push(t),this.touchesById[t.id]=t,this.onTouchAdded.emit(t)}removeTouch(e){this.removeTouchId(e.identifier)}removeTouchId(e){var t=this.touchesById[e];void 0!==t&&(this.touches.splice(this.touches.indexOf(t),1),delete this.touchesById[t.id],t.end(),this.onTouchRemoved.emit(t))}removeAllTouch(){for(var e=0;e<this.touches.length;e++)this.touches[e].end(),this.onTouchRemoved.emit(this.touches[e]);this.touches=[],this.touchesById={}}}var _n={identifier:"mouse0",clientX:0,clientY:0},gn={changedTouches:[_n],touches:[_n]};var mn=class{constructor(e){this._screenWidth=window.innerWidth,this._screenHeight=window.innerHeight,this._dpr=window.devicePixelRatio,this._canvasWidth=150,this._canvasHeight=150,this._coords={x:0,y:0},this._view=e,this._viewEl=e.$el,this._viewRoot=e.htmlRoot,this._inputs=new pn(this._viewRoot),this._inputs.start(),document.body.addEventListener("mousemove",this._updateMouseCoords.bind(this)),document.body.addEventListener("touchmove",this._updateMouseCoords.bind(this)),this._updateClasses(),a.stateChange.on(this._updateClasses.bind(this))}_updateMouseCoords(){const e=this._inputs.mpos,t=.5*(e[0]+1)*this._screenWidth-this._canvasWidth/2,n=.5*(1-e[1])*this._screenHeight-this._canvasHeight/2;this._coords.x=t,this._coords.y=n,this._viewEl.style.transform=`translate3d(${t}px, ${n}px, 0)`}_updateClasses(){this._viewEl.classList.remove(this.getStringForState(i.DEFAULT),this.getStringForState(i.POINT),this.getStringForState(i.EYE),this.getStringForState(i.CROSS)),this._viewEl.classList.add(this.getStringForState(a.currentState))}getStringForState(e){let t;switch(e){case i.DEFAULT:t="default";break;case i.POINT:t="point";break;case i.EYE:t="eye";break;case i.CROSS:t="cross"}return t}resize(){this._screenWidth=window.innerWidth,this._screenHeight=window.innerHeight}update(){this._updateClasses()}destroy(){}},vn=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var fn={template:n(147),components:{},data:()=>({visible:!1}),computed:{},beforeDestroy(){this.unbind()},mounted(){this.binded=!1,this.mouseMoved=!1,this.shouldShow=!1,this.htmlRoot=document.querySelector("html"),this.cursorCtrl=new mn(this),this.show()},methods:{bind(){this.binded||(this.binded=!0,this.cursorCtrl.update=this.cursorCtrl.update.bind(this.cursorCtrl),window.addEventListener("resize",this.onResize),this.htmlRoot.addEventListener("mousemove",this.onMouseMove))},unbind(){this.binded&&(this.binded=!1,this.cursorCtrl.destroy(),window.removeEventListener("resize",this.onResize),this.htmlRoot.removeEventListener("mousemove",this.onMouseMove))},show(){return vn(this,void 0,void 0,(function*(){We.a.isDesktop&&(this.bind(),this.mouseMoved?(this.visible=!0,this.cursorCtrl.update(),this.htmlRoot.classList.add("no-cursor")):this.shouldShow=!0)}))},hide(){We.a.isDesktop&&(this.unbind(),this.visible=!1,this.htmlRoot.classList.remove("no-cursor"))},onResize(){this.cursorCtrl.resize()},onMouseMove(){We.a.isDesktop&&(this.mouseMoved=!0,this.shouldShow&&this.show(),document.removeEventListener("mousemove",this.onMouseMove))}}},bn=n(47),Tn=n.n(bn);var En=class{constructor(e,{depth:t=!0,alpha:n=!1,pixelRatio:i=-1}={}){this._wasPlaying=!1,this.handleVisibilityChange=()=>{if(document.hidden)return this._wasPlaying=this._playing,void this.stop();this._wasPlaying&&window.requestAnimationFrame(()=>{this.play()})},this.handleContextLost=e=>{e.preventDefault(),window.cancelAnimationFrame(this._rafId),this.stop()},this.frame=()=>{if(!this._playing)return;const e=Tn()();let t=(e-this.previousTime)/1e3;this.previousTime=e,(t>.2||t<1/180)&&(t=1/60),this._checkSize()&&this.render(t),this._playing&&this._requestFrame()},e.addEventListener("touchmove",e=>e.preventDefault(),!1),this.pixelRatio=i<0?Math.min(1.5,window.devicePixelRatio):i;const s={depth:t,antialias:this.pixelRatio<1.5,stencil:!1,alpha:n,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:We.a.isMobile?"default":"high-performance"};var o;this.gl=e.getContext("webgl2",s),null==this.gl&&(this.gl=e.getContext("webgl",s)||e.getContext("experimental-webgl",s)||e.getContext("webgl")),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),$e.isWebgl2="undefined"!=typeof WebGL2RenderingContext&&this.gl instanceof WebGL2RenderingContext,console.log("START GL VIEW"),this.canvas=e,this.width=0,this.height=0,this.canvasWidth=0,this.canvasHeight=0,this.previousTime=Tn()(),this._rafId=0,this._playing=!1,this.scene=null,void 0!==document.hidden?("hidden",o="visibilitychange"):void 0!==document.msHidden?("msHidden",o="msvisibilitychange"):void 0!==document.webkitHidden&&("webkitHidden",o="webkitvisibilitychange"),document.addEventListener(o,this.handleVisibilityChange,!1),this.canvas.addEventListener("webglcontextlost",this.handleContextLost,!1)}play(){this._playing||!document.hidden?this._playing||(this._playing=!0,this.frame(),this.previousTime=Tn()()):this._wasPlaying=!0}stop(){this._playing=!1,this._rafId=0}updateSize(){const e=this.pixelRatio;this.canvas.width=4*Math.ceil(e*this.canvasWidth/4),this.canvas.height=4*Math.ceil(e*this.canvasHeight/4),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this.resize()}_checkSize(){const e=ft.screen.width,t=ft.screen.height;return!isNaN(e)&&!isNaN(t)&&0!==e&&0!==t&&(e===this.canvasWidth&&t===this.canvasHeight||(this.canvasWidth=e,this.canvasHeight=t,this.updateSize()),!0)}_requestFrame(){window.cancelAnimationFrame(this._rafId),this._rafId=window.requestAnimationFrame(this.frame)}render(e){this.scene&&this.scene.render(e)}resize(){this.scene&&this.scene.handleResize()}},wn=n(58),Cn=n(44),An=n(5),Sn=n(45),Rn=n(41),yn=n(21),xn=n(59),Mn=n.n(xn),Pn=n(60),Nn=n.n(Pn),In=n(61),Ln=n.n(In),On=n(62),Dn=n.n(On),Fn=n(63),Bn=n.n(Fn),Un=n(64),Vn=n.n(Un),Gn=n(65),kn=n.n(Gn),Hn=n(66),zn=n.n(Hn),Wn=n(67),jn=n.n(Wn),Xn=n(68),qn=n.n(Xn),$n=n(69),Yn=n.n($n),Kn=n(70),Zn=n.n(Kn),Qn=n(71),Jn=n.n(Qn),ei=n(72),ti=n.n(ei);yn.a.debug=!1;class ni{constructor(e){const t=e.gl;t.getExtension("OES_standard_derivatives"),this.hasHighp=function(e){const t=e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT);return e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0&&t.precision>0}(t),this.programs=[this.debugFbo=new yn.a(t),this.blit=new yn.a(t),this.filteredThumb=new yn.a(t),this.dummyCard=new yn.a(t),this.wallTile=new yn.a(t),this.halolight=new yn.a(t),this.cursorRibbon=new yn.a(t)],this.compile()}precision(){return this.hasHighp?"highp":"mediump"}compile(){var e="\n";e+="precision "+this.precision()+" float;\n",this.debugFbo.compile(Mn()(),Nn()(),e),this.blit.compile(Ln()(),Dn()()),this.filteredThumb.compile(Bn()(),Vn()(),e),this.dummyCard.compile(kn()(),zn()(),e),this.wallTile.compile(jn()(),qn()(),e),this.halolight.compile(Yn()(),Zn()(),e),this.cursorRibbon.compile(Jn()(),ti()(),e),this.process()}process(){for(var e of this.programs)e.use()}dispose(){for(var e of this.programs)e.dispose();this.programs=null}}var ii=n(37);class si extends ii.a{constructor(e,t,n){super(e,null),this.envHi=t,this.envBg=n}setupProgram(e){super.setupProgram(e),e.tEnvHi&&e.tEnvHi(this.envHi)}}n(148);let oi;{var ri=function(){},ai={onChange:ri,name:ri};function li(){return ai}var di={addFolder:function(){return di},__controllers:[],remove:li,removeFolder:li,add:li,addColor:li,close:ri};oi=di}function ci(){for(const e of oi.__controllers)oi.remove(e);for(const e in oi.__folders)oi.removeFolder(oi.__folders[e])}var ui=oi;var hi=n(1),pi=n(4),_i=n(101),gi=n(102),mi=n(3),vi=n(11),fi=n(12),bi=n(9),Ti=n.n(bi),Ei=n(82),wi=n.n(Ei),Ci=n(83),Ai=n.n(Ci),Si=n(13),Ri=n(32),yi=Ti.a.create();class xi extends Si.a{constructor(){super({uid:"dpm",vert:wi()(),frag:Ai()()}),this.version=this.inputs.add(new fi.a($e.isWebgl2?"300 es":"100")),this.precision=this.inputs.add(new vi.a("mediump")),this.shaderid=this.inputs.add(new mi.a("id_dpm",!0)),this.depthFormat=this.inputs.add(new pi.a("depthFormat",Ri.a)),this.mask=-1}setLightSetup(e){this.inputs.remove(this.depthFormat),this.depthFormat.proxy(e.depthFormat),this.inputs.add(this.depthFormat)}prepare(e,t,n){e.uMVP&&(n.modelViewProjectionMatrix(yi,t._wmatrix),e.uMVP(yi)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj)}}var Mi=n(18),Pi=n.n(Mi);const Ni=W.vec3.create(),Ii=W.mat4.create(),Li=(W.mat3.create(),W.mat4.create());class Oi{constructor(){this._invalid=!0,this.pos=W.vec3.create(),this.dir=W.vec3.create()}unproject(e,t,n=!1){W.mat4.invert(Ii,t._viewProj),t._parent&&n&&(W.mat4.invert(Li,t._parent._wmatrix),W.mat4.multiply(Ii,Li,Ii)),Ni[0]=e[0],Ni[1]=e[1],Ni[2]=-1,W.vec3.transformMat4(this.pos,Ni,Ii),Ni[2]=1,W.vec3.transformMat4(this.dir,Ni,Ii),W.vec3.subtract(this.dir,this.dir,this.pos),W.vec3.normalize(this.dir,this.dir)}unprojectProjOnly(e,t){W.mat4.invert(Ii,t.lens.getProjection()),Ni[0]=e[0],Ni[1]=e[1],Ni[2]=-1,W.vec3.transformMat4(this.pos,Ni,Ii),Ni[2]=1,W.vec3.transformMat4(this.dir,Ni,Ii),W.vec3.subtract(this.dir,this.dir,this.pos),W.vec3.normalize(this.dir,this.dir)}invalidate(){this._invalid=!0}}class Di{constructor(){this.origin=new Float32Array(3),this.normal=new Float32Array(3),this.normal[1]=1}}const Fi=W.vec3.create();var Bi=(e,t,n)=>{const i=W.vec3.dot(n.normal,t.dir);if(Math.abs(i)>1e-6){W.vec3.sub(Fi,n.origin,t.pos);const s=W.vec3.dot(Fi,n.normal)/i;return W.vec3.scaleAndAdd(e,t.pos,t.dir,s),!0}return!1};const Ui=Pi.a.create(),Vi=Pi.a.create(),Gi=Pi.a.create(),ki=Pi.a.create(),Hi=new Oi,zi=new Oi,Wi=new Di;class ji{constructor(e){this.sliderProgress=0,this.lightFactor=.45,this.color=[1,192/255,150/255],this.scene=e;const t=e.gl;this.node=new An.a,this.setup=new gi.a;const n=Array(Pi.a.fromValues(-.5,-1,-.5),Pi.a.fromValues(.5,0,.5));this.setup.bounds.fromMinMax(n[0],n[1]),this.setup.stdModel.shadowFilter.set("PCF4x4"),this.setup.stdModel.iblShadowing.enable(),this.list=[];const i=new xi;i.setLightSetup(this.setup),this.depthPass=i,this.depthCfg=e.glstate.config().cullFace(t.BACK).enableCullface(!0).enableDepthTest(!0).depthMask(!0),this.spot=new _i.a(t),this.spot.angle=Math.PI/3,this.spot.sharpness=0,this.spot.radius=7,this.spot.castShadows(!0),this.spot._shadowmapSize=512,this.spot._color.set([this.color[0]*this.lightFactor,this.color[1]*this.lightFactor,this.color[2]*this.lightFactor]),this.spot.iblShadowing=1,this.spot.falloffCurve=.01,this.setup.add(this.spot),this.list.push(this.spot),this.scene.camera.add(this.spot)}hasDepthShadowmap(){return this.spot.hasDepthShadowmap()}preRender(){ft.store.sliderState?this.sliderProgress+=this.scene.dt:this.sliderProgress-=this.scene.dt,this.sliderProgress=$(this.sliderProgress),this.spot.x=2.5*this.scene.inputs.mpos[0],this.spot.y=K(2.5*this.scene.inputs.mpos[1],-.8,this.sliderProgress);let e=3.5-this.scene.camera.z;this.spot.z=e+.35*this.sliderProgress,this.lightFactor=.35+.4*this.sliderProgress,this.spot._color.set([this.color[0]*this.lightFactor,this.color[1]*this.lightFactor,this.color[2]*this.lightFactor]),Ui[0]=.1*this.scene.inputs.mpos[0],Ui[1]=K(.1*this.scene.inputs.mpos[1],0,this.sliderProgress),Ui[2]=this.scene.camera.z,this.scene.cameraUtils.screenToWorldPoint(Vi,Ui,!0),this.spot.lookAt(Vi),Ui[0]=-1,Ui[1]=-1,Ui[2]=1,Vi[0]=1,Vi[1]=1,Vi[2]=1,this.scene.cameraUtils.screenToWorldPoint(Gi,Ui),this.scene.cameraUtils.screenToWorldPoint(ki,Vi),Hi.unproject(Ui,this.scene.camera,!1),zi.unproject(Vi,this.scene.camera,!1),Wi.normal.set([0,0,-1]),Pi.a.transformMat4(Wi.normal,Wi.normal,this.scene.camera._parent._wmatrix),Bi(Gi,Hi,Wi),Bi(ki,zi,Wi),Pi.a.scale(Wi.normal,Wi.normal,.3),Pi.a.sub(Gi,Gi,Wi.normal),Pi.a.add(ki,ki,Wi.normal),this.setup.bounds.fromMinMax(Gi,ki)}}var Xi=n(84);const qi=[];for(let e=1;e<=52;e++)qi.push("env_"+e.toString().padStart(3,"0"));qi.push("studio_052-v1"),qi.push("studio_052-v2"),qi.push("studio_052-v3"),qi.push("studio_052-v4");var $i=class{constructor(e){this.convertSH=e=>{this.shBase=new Float32Array(e,0,27),this.ibl.sh=ii.a.convert(this.shBase,this.shMul)};const t=e.gl;this.scene=e,this.gl=t,this.envTex=new De.a(this.gl,this.gl.RGBA),this.envHi=new De.a(this.gl,this.gl.RGBA),this.envBg=new De.a(this.gl,this.gl.RGB),this.ibl=new si(this.envTex,this.envHi,this.envBg),this.envTex.setFilter(!1),this.lights=new ji(e),this.shMul=1,this.gammaMode=new pi.a("gammaMode",Xi.a),this.gamma=new hi.c("gamma",1,hi.c.ALL),this.exposure=new hi.c("exposure",1,hi.c.ALL),this.expoUniform=this.exposure.attachUniform("utmExpo"),this.gammaUniform=this.gamma.attachUniform("uTMGamma"),this.expoUniform.set(1.2),this.gammaUniform.set(1/1.5),this.gammaMode.set("GAMMA_STD"),this.loadDefault(),this._gui()}setupForReflect(){this.expoUniform.set(1),this.gammaUniform.set(1)}restoreFromReflect(){this.expoUniform.set(1.2),this.gammaUniform.set(1/1.5)}setupMat(e){e.setIBL(this.ibl),e.setLightSetup(this.lights.setup),e.iGamma.proxy(this.gamma),e.iExposure.proxy(this.exposure),e.gammaMode.proxy(this.gammaMode)}dispose(){this.envTex.dispose(),this.envHi.dispose(),this.envBg.dispose(),this.envTex=null,this.envHi=null,this.envBg=null,this.ibl=null,this.scene=null,this.shBase=null,this.shMul=1}loadDefault(){return this.load("envs/studio_052-v1")}load(e){return[F($e.asset_url(e+"/env.png")).then(e=>this.envTex.fromImage(e)),D($e.asset_url(e+"/sh.bin")).then(this.convertSH)]}preRender(){this.lights.preRender()}_gui(){const e=ui.addFolder("ibl");let t={envname:qi[51]};e.add(t,"envname",qi).onChange(e=>{this.load("envs/"+e)});const n={iblexpo:1,expo:.2,gamma:2.2,ambient:1};var i=null,s=null;e.add(n,"iblexpo",{none:0,uniform:1,constant:2}).onChange(e=>{"0"===e?(this.exposure.detach(),this.gamma.detach(),i=null,s=null):"1"===e?((i=this.exposure.attachUniform("uexposure")).set(n.expo),(s=this.gamma.attachUniform("ugamma")).set(1/n.gamma)):"2"===e&&(i=null,s=null,this.exposure.attachConstant(n.expo),this.gamma.attachConstant(1/n.gamma))}),e.add(n,"expo",0,5).onChange(e=>{i&&i.set(n.expo)}),e.add(n,"gamma",0,3).onChange(e=>{s&&s.set(1/n.gamma)}),e.add(n,"ambient",0,2).onChange(e=>{this.shMul=n.ambient,this.ibl.sh=ii.a.convert(this.shBase,this.shMul)})}};class Yi{constructor(e){this.scene=e,this._current=null}setController(e){this._current&&this._current.stop(),this._current=e,e.start(this.scene.camera)}preRender(){this._current&&this._current.update(this.scene.dt)}}function Ki(e){return--e*e*e+1}function Zi(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}function Qi(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}const Ji=W.vec3.create(),es=W.vec3.create(),ts=W.vec3.create();class ns{constructor(e,t){this._smooth=1,this._zoomOut=0,this._zoomOutSpeed=1.75*.7777,this._zoomOutDist=.6*.7777,this.inputs=e,this.cameraUtils=t,this._tdown=!1,this._delta=W.vec3.create(),this._ptpos=W.vec3.create(),this._tpos=W.vec3.create(),this._dragoffset=W.vec3.create(),this._startCampos=W.vec3.create(),this._lookAt=W.vec3.create()}start(e){this.camera=e,this.running=!0,this._zoomOut=0,this._startCampos[0]=this.camera.x,this._startCampos[1]=this.camera.y,this._startCampos[2]=this.camera.z,this._lookAt.set([this.camera.x,this.camera.y,-$e.WALL_DIST]),this._dragoffset.set(Ji),this._tpos.set(Ji),this._delta.set(Ji),this._ptpos.set(Ji)}stop(){this.running=!1,this._zoomOut=0}update(e){if(!this.running)return;const t=this.inputs.touches[0];void 0===t&&(this._tdown&&(this._tpos[0]+=this._delta[0],this._tpos[1]+=this._delta[1]),this._tdown&&a.currentState==i.POINT&&a.releaseState(i.POINT),this._tdown=!1,this._smooth=.9),t&&(es.set(t.coords),es[2]=.75*$e.WALL_DIST,this.cameraUtils.screenToWorldPoint(ts,es,!0)),t&&!this._tdown&&(this._tpos.set(ts),this._ptpos.set(ts),this._tdown=!0,a.currentState!=i.POINT&&a.pushState(i.POINT)),t?(this._smooth=1e3,this._tpos.set(ts),ft.store.isMobile||(this._zoomOut+=e*this._zoomOutSpeed)):this._zoomOut-=e*this._zoomOutSpeed,this._zoomOut=$(this._zoomOut);let n=e*this._smooth;n=Math.min(n,1),this._dragoffset[0]+=(this._tpos[0]-this._ptpos[0])*n,this._dragoffset[1]+=(this._tpos[1]-this._ptpos[1])*n,this._delta[0]=30*(this._tpos[0]-this._ptpos[0]),this._delta[1]=30*(this._tpos[1]-this._ptpos[1]),this._ptpos[0]+=(this._tpos[0]-this._ptpos[0])*n,this._ptpos[1]+=(this._tpos[1]-this._ptpos[1])*n,this.camera.x=this._startCampos[0]-this._dragoffset[0],this.camera.y=this._startCampos[1]-this._dragoffset[1];let s=Zi(this._zoomOut);this.camera.z=this._startCampos[2]+s*this._zoomOutDist,ts[0]=this.camera.x,ts[1]=this.camera.y,ts[2]=-$e.WALL_DIST,W.vec3.lerp(this._lookAt,this._lookAt,ts,$(15*e)),this.camera.lookAt(this._lookAt)}}const is=W.quat.create(),ss=W.quat.create(),os=W.quat.create(),rs=W.vec3.create(),as=W.vec3.create(),ls=(W.mat4.create(),W.mat4.create());class ds{constructor(e){this.onMouseMove=e=>{var t=this._getModeForEvt(e);this.setMode(t),function(e,t,n){n[0]=2*e.clientX/(t.width/window.devicePixelRatio)-1,n[1]=-(2*e.clientY/(t.height/window.devicePixelRatio)-1)}(e,this.el,this.mouse),this.action.update(this.mouse)},this.el=e,this.mouse=W.vec3.fromValues(0,0,1),this.cam=null,this.orbitRadius=-10,this.mode=-1}start(e){this.cam=e,this.el.addEventListener("mousemove",this.onMouseMove),this.mode=-1,this.setMode(0)}stop(){this.cam=null,this.el.removeEventListener("mousemove",this.onMouseMove)}update(e){}setMode(e){if(this.mode!==e){switch(this.mode=e,e){case 0:this.action=new cs;break;case 1:this.action=new us;break;case 2:this.action=new hs;break;case 3:this.action=new ps}this.unproject(rs),this.action.start(this.cam,rs,this.mouse)}}unproject(e){this.cam.updateMatrix(),W.mat4.invert(ls,this.cam.lens._proj),W.vec3.transformMat4(rs,this.mouse,ls),W.vec3.scale(rs,rs,this.orbitRadius/rs[2]),W.vec3.transformMat4(e,rs,this.cam._matrix)}_getModeForEvt(e){return 2!==e.which?0:e.altKey?e.ctrlKey?3:1:2}}class cs{start(e,t,n){}update(e){}}class us{constructor(){this.initialX=W.vec3.create(),this.initialR=W.quat.create(),this.initialP=W.vec3.create(),this.startMouse=W.vec3.create(),this.focus=W.vec3.create()}start(e,t,n){this.cam=e,W.vec3.copy(this.initialX,this.cam._matrix),W.vec3.copy(this.startMouse,n),W.quat.copy(this.initialR,e.rotation),W.vec3.subtract(this.initialP,e.position,t),W.vec3.copy(this.focus,t)}update(e){W.vec3.subtract(rs,e,this.startMouse),W.quat.setAxisAngle(os,this.initialX,5*rs[1]),W.quat.rotateY(ss,is,5*-rs[0]),W.quat.multiply(ss,ss,os),W.quat.multiply(this.cam.rotation,ss,this.initialR),W.vec3.transformQuat(rs,this.initialP,ss),W.vec3.add(this.cam.position,this.focus,rs),this.cam.invalidate()}}class hs{constructor(){this.initialX=W.vec3.create(),this.initialY=W.vec3.create(),this.initialP=W.vec3.create(),this.startMouse=W.vec3.create(),this.focus=W.vec3.create()}start(e,t,n){this.cam=e,W.vec3.copy(this.initialX,this.cam._matrix),W.vec3.copy(this.initialP,this.cam.position),this.initialY[0]=this.cam._matrix[4],this.initialY[1]=this.cam._matrix[5],this.initialY[2]=this.cam._matrix[6],W.vec3.copy(this.startMouse,n),W.vec3.copy(this.focus,t)}update(e){W.vec3.subtract(rs,e,this.startMouse),W.vec3.scale(as,this.initialX,10*-rs[0]),W.vec3.scaleAndAdd(as,as,this.initialY,10*-rs[1]),W.vec3.add(this.cam.position,this.initialP,as),this.cam.invalidate()}}class ps{constructor(){this.initialZ=W.vec3.create(),this.initialP=W.vec3.create(),this.startMouse=W.vec3.create(),this.focus=W.vec3.create()}start(e,t,n){this.cam=e,W.vec3.copy(this.initialP,this.cam.position),W.vec3.subtract(this.initialZ,this.cam.position,t),W.vec3.copy(this.startMouse,n),W.vec3.copy(this.focus,t)}update(e){W.vec3.subtract(rs,e,this.startMouse),W.vec3.scale(rs,this.initialZ,5*rs[1]),W.vec3.add(this.cam.position,this.initialP,rs),this.cam.invalidate()}}const _s=new Oi,gs=W.vec3.create(),ms=W.vec3.create(),vs=W.vec3.create(),fs=W.vec3.create(),bs=new Oi,Ts=new Oi,Es=new Di;W.mat4.create(),W.mat4.create();class ws{constructor(e){this.scene=e}get minBPlane(){return vs}get maxBPlane(){return fs}worldToScreen(e,t){W.vec3.transformMat4(e,t,this.scene.camera._viewProj),e[0]+=1,e[1]+=1,e[0]/=2,e[1]/=2,e[0]*=window.innerWidth,e[1]*=window.innerHeight}worldToClip(e,t){W.vec3.transformMat4(e,t,this.scene.camera._viewProj)}screenToWorldPoint(e,t,n=!1){n?_s.unprojectProjOnly(t,this.scene.camera):_s.unproject(t,this.scene.camera,!0),e.set(_s.pos),W.vec3.scale(_s.dir,_s.dir,t[2]),W.vec3.add(e,e,_s.dir)}cameraScreenToWorldPoint(e,t,n,i=!1){i?_s.unprojectProjOnly(n,t):_s.unproject(n,t,!0),e.set(_s.pos),W.vec3.scale(_s.dir,_s.dir,n[2]),W.vec3.add(e,e,_s.dir)}updateBounds(){const e=this.scene.camera;gs[0]=-1,gs[1]=-1,gs[2]=1,ms[0]=1,ms[1]=1,ms[2]=1,this.scene.cameraUtils.cameraScreenToWorldPoint(vs,e,gs),this.scene.cameraUtils.cameraScreenToWorldPoint(fs,e,ms),bs.unproject(gs,e,!1),Ts.unproject(ms,e,!1),Es.normal.set([0,0,-1]),W.vec3.transformMat4(Es.normal,Es.normal,e._parent._wmatrix),Bi(vs,bs,Es),Bi(fs,Ts,Es),W.vec3.scale(Es.normal,Es.normal,.01),W.vec3.sub(vs,vs,Es.normal),W.vec3.add(fs,fs,Es.normal)}}var Cs;!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.READ_BUFFER=3074]="READ_BUFFER",e[e.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",e[e.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",e[e.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",e[e.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",e[e.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",e[e.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.RED=6403]="RED",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB10_A2=32857]="RGB10_A2",e[e.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",e[e.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",e[e.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",e[e.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",e[e.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",e[e.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",e[e.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",e[e.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",e[e.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",e[e.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",e[e.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",e[e.CURRENT_QUERY=34917]="CURRENT_QUERY",e[e.QUERY_RESULT=34918]="QUERY_RESULT",e[e.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STREAM_COPY=35042]="STREAM_COPY",e[e.STATIC_READ=35045]="STATIC_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",e[e.DRAW_BUFFER0=34853]="DRAW_BUFFER0",e[e.DRAW_BUFFER1=34854]="DRAW_BUFFER1",e[e.DRAW_BUFFER2=34855]="DRAW_BUFFER2",e[e.DRAW_BUFFER3=34856]="DRAW_BUFFER3",e[e.DRAW_BUFFER4=34857]="DRAW_BUFFER4",e[e.DRAW_BUFFER5=34858]="DRAW_BUFFER5",e[e.DRAW_BUFFER6=34859]="DRAW_BUFFER6",e[e.DRAW_BUFFER7=34860]="DRAW_BUFFER7",e[e.DRAW_BUFFER8=34861]="DRAW_BUFFER8",e[e.DRAW_BUFFER9=34862]="DRAW_BUFFER9",e[e.DRAW_BUFFER10=34863]="DRAW_BUFFER10",e[e.DRAW_BUFFER11=34864]="DRAW_BUFFER11",e[e.DRAW_BUFFER12=34865]="DRAW_BUFFER12",e[e.DRAW_BUFFER13=34866]="DRAW_BUFFER13",e[e.DRAW_BUFFER14=34867]="DRAW_BUFFER14",e[e.DRAW_BUFFER15=34868]="DRAW_BUFFER15",e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SRGB=35904]="SRGB",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",e[e.RGBA32F=34836]="RGBA32F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.RGB16F=34843]="RGB16F",e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",e[e.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.RGB9_E5=35901]="RGB9_E5",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",e[e.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",e[e.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",e[e.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",e[e.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",e[e.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e[e.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",e[e.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",e[e.MAX_SAMPLES=36183]="MAX_SAMPLES",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.RG=33319]="RG",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R16F=33325]="R16F",e[e.R32F=33326]="R32F",e[e.RG16F=33327]="RG16F",e[e.RG32F=33328]="RG32F",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",e[e.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",e[e.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",e[e.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",e[e.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",e[e.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",e[e.UNIFORM_TYPE=35383]="UNIFORM_TYPE",e[e.UNIFORM_SIZE=35384]="UNIFORM_SIZE",e[e.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",e[e.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",e[e.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",e[e.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",e[e.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",e[e.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",e[e.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",e[e.INVALID_INDEX=4294967295]="INVALID_INDEX",e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",e[e.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS",e[e.SYNC_FENCE=37142]="SYNC_FENCE",e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED",e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED",e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",e[e.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",e[e.SAMPLER_BINDING=35097]="SAMPLER_BINDING",e[e.RGB10_A2UI=36975]="RGB10_A2UI",e[e.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",e[e.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",e[e.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",e[e.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",e[e.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",e[e.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",e[e.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",e[e.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL"}(Cs||(Cs={}));var As,Ss=Cs;!function(e){e[e.OPAQUE=1]="OPAQUE",e[e.BLENDED=2]="BLENDED",e[e.SHADOW_CASTER=1024]="SHADOW_CASTER"}(As||(As={}));var Rs=As,ys=n(85),xs=n.n(ys),Ms=n(86),Ps=n.n(Ms),Ns=n(6),Is=n(39),Ls=n.n(Is),Os=n(48),Ds=n.n(Os);class Fs extends Ns.a{constructor(e="aTexCoord0",t="vTexCoord0"){super(!0,!1),this.attrib=e,this.varying=t,this._defineAttrib=!0,this._scale=new Float32Array([1,1]),this._rotation=0,this._translateInput=this.addChild(new hi.c("translate_"+t,2,hi.c.VERTEX)),this._translateParam=new hi.b("uTranslate_"+t,2),this._translateValue=this._translateParam._value,this._pivotInput=this.addChild(new hi.c("pivot_"+t,2,hi.c.VERTEX)),this._pivotParam=new hi.b("uPivot_"+t,2),this._pivotValue=this._pivotParam._value,this._transformInput=this.addChild(new hi.c("transform_"+t,4,hi.c.VERTEX)),this._transformParam=new hi.b("uTransform_"+t,4),this._transformValue=this._transformParam._value}token(){return this.varying}scale(e,t=e){return this._scale[0]=e,this._scale[1]=t,this.updateMat(),this}rotate(e){return this._rotation=e,this.updateMat(),this}pivot(e,t){return 0!==e||0!==t?(this._pivotValue[0]=e,this._pivotValue[1]=t,this._pivotInput.attach(this._pivotParam)):this._pivotInput.detach(),this}translate(e,t){return 0!==e||0!==t?(this._translateValue[0]=e,this._translateValue[1]=t,this._translateInput.attach(this._translateParam)):this._translateInput.detach(),this}updateMat(){!(0===this._rotation&&1===this._scale[0]&&1===this._scale[1])?(Ls.a.fromScaling(this._transformValue,this._scale),Ls.a.rotate(this._transformValue,this._transformValue,this._rotation),this._transformInput.attach(this._transformParam)):this._transformInput.detach()}setupMaterial(e){e.inputs.add(this.createProxy())}_genCode(e){e.add("pv",Ds()({pv:!0,mod:this})),e.add("pf",Ds()({pf:!0,mod:this})),e.add("v",Ds()({v:!0,mod:this}))}_getHash(){return""}}var Bs=Ti.a.create();class Us extends Si.a{constructor(){super({uid:"dpmco",vert:xs()(),frag:Ps()()}),this.inputs.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),this.version=this.inputs.add(new fi.a($e.isWebgl2?"300 es":"100")),this.precision=this.inputs.add(new vi.a("mediump")),this.shaderid=this.inputs.add(new mi.a("id_dpmco",!0)),this.depthFormat=this.inputs.add(new pi.a("depthFormat",Ri.a)),this.iAlpha=this.inputs.add(new hi.c("alpha",1)),this.mask=-1}setLightSetup(e){this.inputs.remove(this.depthFormat),this.depthFormat.proxy(e.depthFormat),this.inputs.add(this.depthFormat)}prepare(e,t,n){e.uMVP&&(n.modelViewProjectionMatrix(Bs,t._wmatrix),e.uMVP(Bs)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj)}}var Vs=n(87),Gs=n.n(Vs),ks=n(88),Hs=n.n(ks);const zs=Ti.a.create();class Ws extends Si.a{constructor(e="standard-pass"){super({uid:"std",vert:Gs()(),frag:Hs()()}),this.ibl=null;const t=this.inputs;t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),t.add(this.iTexCoord1=new Fs("aTexCoord1","vTexCoord1"));const n=new Fs("aTexCoord0","vTexCoordCity");n._defineAttrib=!1,t.add(this.iCityTexCoord=n),t.add(this.iCity=new hi.c("cityColor",1)),t.add(this.iMediaContent=new hi.c("mediacontent",4)),t.add(this.iNoise=new hi.c("noise",3)),t.add(this.iReveal=new hi.c("reveal",1)),t.add(this.iAlbedo=new hi.c("albedo",3)),t.add(this.iAlpha=new hi.c("alpha",1)),t.add(this.iSpecular=new hi.c("specular",3)),t.add(this.iGloss=new hi.c("gloss",1)),t.add(this.iNormal=new hi.c("normal",3)),t.add(this.iNormalDetail=new hi.c("normalDetail",3)),t.add(this.iNormalDetailStrength=new hi.c("normalDetailStrength",1)),t.add(this.iOcclusion=new hi.c("occlusion",1)),t.add(this.iCavity=new hi.c("cavity",1)),t.add(this.iCavityStrength=new hi.c("cavityStrength",2)),t.add(this.iEmissive=new hi.c("emissive",1)),t.add(this.iEmissiveScale=new hi.c("emissiveScale",1)),t.add(this.iFresnel=new hi.c("fresnel",3)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.iLightmap=new hi.c("Lightmap",3)),t.add(this.iLightmapMultiplier=new hi.c("LightmapMultiplier",1)),t.add(this.iAmbientMultiplier=new hi.c("AmbientMultiplier",1)),t.add(this.iShadingFilter=new hi.c("shadingFilter",2)),t.add(this.iAlbedoTint=new hi.c("albedoTint",3)),t.add(this.iSpecularTint=new hi.c("specularTint",3)),t.add(this.iSecondaryTint=new hi.c("secondaryTint",3)),t.add(this.iSecondaryTintMask=new hi.c("secondaryTintMask",1)),t.add(this.tintBlendMode=new pi.a("tintBlendMode",["TBM_LINEAR_LIGHT","TBM_MULTIPLY"])),t.add(this.alphaBlending=new pi.a("alphaBlending",["ALPHA_CUTOUT","ALPHA_STD"])),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.multiplyMedia=new mi.a("multiplyMedia",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])),this.iAmbientMultiplier.attachConstant(1)}addTexCoords(e=1,t=e){const n=new Fs("aTexCoord"+e,"vTexCoord"+t);return this.inputs.add(n),n}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}setupIbl(e){this.ibl.setupProgram(e)}prepare(e,t,n){e.uMVP&&(n.modelViewProjectionMatrix(zs,t._wmatrix),e.uMVP(zs)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var js=n(17);class Xs{static init(e){this._isInit||(this.createTextures(e),this.createBrandContentTexs(e),this.createMaterials(e),this.setupMaterials(e),this._isInit=!0)}static pbrTexs(e,t){const n=this.folder+e.toLowerCase(),i=t.texs;let s=new ze({basis:$e.asset_url(n+"_Albedo.basis"),std:$e.asset_url(n+"_Albedo.png")}),o=new He(e+"_Albedo",s,i);s=new ze({std:$e.asset_url(n+"_Normal.png")}),o=new He(e+"_Normal",s,i),o.texture.setFilter(!0,!0,!1),s=new ze({basis:$e.asset_url(n+"_CGS.basis"),std:$e.asset_url(n+"_CGS.jpg")}),o=new He(e+"_CGS",s,i)}static createBrandContentTexs(e){const t=e.texs;let n=new ze({std:$e.asset_url(this.folder+qe.PicturePoster+"_Normal.png")}),i=new He(qe.PicturePoster+"_Normal",n,t);i.texture.setFilter(!0,!0,!1),n=new ze({basis:$e.asset_url(this.folder+qe.VideoWhiteBorder+"_Albedo.basis"),std:$e.asset_url(this.folder+qe.VideoWhiteBorder+"_Albedo.png")}),i=new He(qe.VideoWhiteBorder+"_Albedo",n,t),n=new ze({basis:$e.asset_url(this.folder+"resistencia_alpha.basis"),std:$e.asset_url(this.folder+"resistencia_alpha.png")}),i=new He("resistencia_alpha",n,t),n=new ze({basis:$e.asset_url(this.folder+"video_red_alpha.basis"),std:$e.asset_url(this.folder+"video_red_alpha.png")}),i=new He("video_red_alpha",n,t),n=new ze({basis:$e.asset_url(this.folder+"white_border_alpha.basis"),std:$e.asset_url(this.folder+"white_border_alpha.png")}),i=new He("white_border_alpha",n,t),n=new ze({basis:$e.asset_url(this.folder+"quote_alpha.basis"),std:$e.asset_url(this.folder+"quote_alpha.png")}),i=new He("quote_alpha",n,t)}static createTextures(e){this.pbrTexs(qe.Fanart+"_1",e),this.pbrTexs(qe.Fanart+"_2",e),this.pbrTexs(qe.Picture+"_1",e),this.pbrTexs(qe.Picture+"_2",e),this.pbrTexs(qe.Picture+"_3",e),this.pbrTexs(qe.Video+"_1",e),this.pbrTexs(qe.Video+"_2",e),this.pbrTexs(qe.Video+"_3",e),this.pbrTexs(qe.Text+"_1",e);let t=new ze({std:$e.asset_url("noise.png")}),n=new He("noise",t,e.texs);t=new ze({std:$e.asset_url("city_test.png")}),n=new He("city_test",t,e.texs),n.texture.clamp()}static createMaterials(e){this.createMaterial(qe.Fanart+"_1",e),this.createMaterial(qe.Fanart+"_2",e),this.createMaterial(qe.Picture+"_1",e),this.createMaterial(qe.Picture+"_2",e),this.createMaterial(qe.Picture+"_3",e),this.createMaterial(qe.Video+"_1",e),this.createMaterial(qe.Video+"_2",e),this.createMaterial(qe.Video+"_3",e),this.createMaterial(qe.Text+"_1",e),this.createMaterial(qe.PicturePoster,e),this.createMaterial(qe.PictureResistencia,e),this.createMaterial(qe.PictureWhiteBorder,e),this.createMaterial(qe.QuoteAllWhite,e),this.createMaterial(qe.QuoteHalfImage,e),this.createMaterial(qe.QuoteRed,e),this.createMaterial(qe.VideoPlay,e),this.createMaterial(qe.VideoRed,e),this.createMaterial(qe.VideoWhiteBorder,e)}static setupMaterials(e){this.setupMaterial(qe.Fanart+"_1",e,[1.45,2,0,5,6.5],!0),this.setupMaterial(qe.Fanart+"_2",e,[-1.45,-2,0,5,6.5],!0),this.setupMaterial(qe.Picture+"_1",e,[1.6,-2.2,.03,5,6.5]),this.setupMaterial(qe.Picture+"_2",e,[-1.6,-2.5,0,5,6.5]),this.setupMaterial(qe.Picture+"_3",e,[.5,-2.5,.04,5,6.5]),this.setupMaterial(qe.Video+"_1",e,[-1.45,-1.8,.03,5,6.5]),this.setupMaterial(qe.Video+"_2",e,[1.5,1.75,0,5,6.5]),this.setupMaterial(qe.Video+"_3",e,[1.5,-1.8,.04,5,6.5]),this.setupMaterial(qe.Text+"_1",e,[-1.6,-2.5,0,5,6.5],!0),this.setupBrandContentMaterial(qe.PicturePoster,e,!1,!1),this.setupBrandContentMaterial(qe.PictureResistencia,e),this.setupBrandContentMaterial(qe.PictureWhiteBorder,e),this.setupBrandContentMaterial(qe.QuoteAllWhite,e),this.setupBrandContentMaterial(qe.QuoteHalfImage,e),this.setupBrandContentMaterial(qe.QuoteRed,e),this.setupBrandContentMaterial(qe.VideoPlay,e),this.setupBrandContentMaterial(qe.VideoRed,e),this.setupBrandContentMaterial(qe.VideoWhiteBorder,e,!0,!1,!1);const t=e.mats.get(qe.VideoWhiteBorder).getPass("color").pass,n=new hi.a("tCGS","vTexCoord0");t.iCavity.attach(n,"r"),t.iGloss.attach(n,"g"),t.iSpecular.attach(n,"b"),n.set(e.texs.get(qe.Video+"_3_CGS")),t.iNormal.attachSampler("tNormal","vTexCoord0").set(e.texs.get(qe.Video+"_3_Normal"))}static setupMaterial(e,t,n=[0,0,3.5,0],i=!1){const s=t.mats.get(e),o=this.createPass("main",t);o.iMediaContent.attachSampler("tMedia","vTexCoord1").set(t.texs.get(e+"_Normal"));const r=new hi.a("tAlbedo","vTexCoord0");o.iAlbedo.attach(r,"rgb"),o.iAlpha.attach(r,"a"),r.set(t.texs.get(e+"_Albedo")),o.iNormal.attachSampler("tNormal","vTexCoord0").set(t.texs.get(e+"_Normal"));const a=new hi.a("tCGS","vTexCoord0");o.iCavity.attach(a,"r"),o.iGloss.attach(a,"g"),o.iSpecular.attach(a,"b"),a.set(t.texs.get(e+"_CGS")),o.iNoise.attachSampler("tNoise","vTexCoord1").set(t.texs.get("noise")),o.iReveal.attachUniform("uReveal",1).set(0),o.iCity.attachSampler("tCity","vTexCoordCity","r").set(t.texs.get("city_test")),o.iCityTexCoord.pivot(.5,.5),o.iCityTexCoord.translate(n[0],n[1]),o.iCityTexCoord.rotate(Math.PI*n[2]),o.iCityTexCoord.scale(n[3],n[4]),o.multiplyMedia.set(i),o.useDerivatives.set(!0),s.addPass(o,"color");const l=new Us,d=t.scene.iblMngr.lights;l.setLightSetup(d.setup),this.depthConfig(l.glconfig);const c="D_RGB"===d.setup.depthFormat._val;l.glconfig.colorMask(c?1:0,c?1:0,c?1:0,c?1:0),l.iAlpha.attachSampler("tColor","vTexCoord0","a").set(t.texs.get(e+"_Albedo")),l.mask=Rs.SHADOW_CASTER,s.addPass(l,"depth")}static setupBrandContentMaterial(e,t,n=!1,i=!1,s=!0){const o=t.mats.get(e),r=this.createPass("main",t),a=new hi.a("tMedia","vTexCoord1");if(r.iMediaContent.attach(a),a.set(t.texs.get(qe.Fanart+"_1_Albedo")),n){const n=new hi.a("tAlbedo","vTexCoord0");r.iAlbedo.attach(n,"rgb"),r.iAlpha.attach(n,"a"),n.set(t.texs.get(e+"_Albedo"))}else r.iAlbedo.attachConstant([1,1,1],"rgb");switch(e){case qe.PicturePoster:break;case qe.PictureResistencia:r.iAlpha.attachSampler("tAlpha","vTexCoord1","r").set(t.texs.get("resistencia_alpha"));break;case qe.PictureWhiteBorder:r.iAlpha.attachSampler("tAlpha","vTexCoord1","r").set(t.texs.get("white_border_alpha"));break;case qe.QuoteAllWhite:case qe.QuoteHalfImage:case qe.QuoteRed:r.iAlpha.attachSampler("tAlpha","vTexCoord1","r").set(t.texs.get("quote_alpha"));break;case qe.VideoRed:r.iAlpha.attachSampler("tAlpha","vTexCoord1","r").set(t.texs.get("video_red_alpha"));break;case qe.VideoPlay:case qe.VideoWhiteBorder:}i&&r.iNormal.attachSampler("tNormal","vTexCoord0").set(t.texs.get(e+"_Normal")),s&&(r.iGloss.attachConstant(.5),r.iSpecular.attachConstant([.2,.2,.2])),r.iNoise.attachSampler("tNoise","vTexCoord1").set(t.texs.get("noise")),r.iReveal.attachUniform("uReveal",1).set(0),r.useDerivatives.set(!1),o.addPass(r,"color");const l=new Us,d=t.scene.iblMngr.lights;l.setLightSetup(d.setup),this.depthConfig(l.glconfig);const c="D_RGB"===d.setup.depthFormat._val;l.glconfig.colorMask(c?1:0,c?1:0,c?1:0,c?1:0),n?l.iAlpha.attachSampler("tColor","vTexCoord0","a").set(t.texs.get(e+"_Albedo")):l.iAlpha.attachConstant(1),l.mask=Rs.SHADOW_CASTER,o.addPass(l,"depth")}static createPass(e,t){const n=new Ws(e);return t.scene.iblMngr.setupMat(n),n.iShadingFilter.attachUniform("uShadingFilter",2).set(nt.NONE,1),this.opaqueConfig(n.glconfig),n.mask=Rs.OPAQUE,n}static depthConfig(e){e.cullFace(Ss.BACK).enableCullface(!0).enableDepthTest(!0).depthMask(!0)}static blendedConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest(!1).depthMask(!1).enableBlend(!0).blendFunc(Ss.SRC_ALPHA,Ss.ONE_MINUS_SRC_ALPHA)}static opaqueConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest(!0).depthMask(!0)}static createMaterial(e,t){const n=new js.a(t.scene.gl,e);return t.mats.registerMaterial(n,e),n}}Xs._isInit=!1,Xs.folder="grid/";var qs=n(89),$s=n.n(qs),Ys=n(90),Ks=n.n(Ys);const Zs=Ti.a.create();class Qs extends Si.a{constructor(e="standard-pass"){super({uid:"std",vert:$s()(),frag:Ks()()}),this.ibl=null;const t=this.inputs;t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),t.add(this.iMask=new hi.c("mask",1)),t.add(this.iReveal=new hi.c("reveal",1)),t.add(this.iAlbedo=new hi.c("albedo",3)),t.add(this.iAlpha=new hi.c("alpha",1)),t.add(this.iSpecular=new hi.c("specular",3)),t.add(this.iGloss=new hi.c("gloss",1)),t.add(this.iNormal=new hi.c("normal",3)),t.add(this.iNormalDetail=new hi.c("normalDetail",3)),t.add(this.iNormalDetailStrength=new hi.c("normalDetailStrength",1)),t.add(this.iOcclusion=new hi.c("occlusion",1)),t.add(this.iCavity=new hi.c("cavity",1)),t.add(this.iCavityStrength=new hi.c("cavityStrength",2)),t.add(this.iEmissive=new hi.c("emissive",1)),t.add(this.iEmissiveScale=new hi.c("emissiveScale",1)),t.add(this.iFresnel=new hi.c("fresnel",3)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.iLightmap=new hi.c("Lightmap",3)),t.add(this.iLightmapMultiplier=new hi.c("LightmapMultiplier",1)),t.add(this.iAmbientMultiplier=new hi.c("AmbientMultiplier",1)),t.add(this.iAlbedoTint=new hi.c("albedoTint",3)),t.add(this.iSpecularTint=new hi.c("specularTint",3)),t.add(this.iSecondaryTint=new hi.c("secondaryTint",3)),t.add(this.iSecondaryTintMask=new hi.c("secondaryTintMask",1)),t.add(this.tintBlendMode=new pi.a("tintBlendMode",["TBM_LINEAR_LIGHT","TBM_MULTIPLY"])),t.add(this.alphaBlending=new pi.a("alphaBlending",["ALPHA_CUTOUT","ALPHA_STD"])),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])),this.iAmbientMultiplier.attachConstant(1)}addTexCoords(e=1,t=e){const n=new Fs("aTexCoord"+e,"vTexCoord"+t);return this.inputs.add(n),n}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}prepare(e,t,n){this.ibl.setupProgram(e),e.uMVP&&(n.modelViewProjectionMatrix(Zs,t._wmatrix),e.uMVP(Zs)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var Js=n(91),eo=n.n(Js),to=n(92),no=n.n(to);const io=Ti.a.create();class so extends Si.a{constructor(e="standard-pass"){super({uid:"std",vert:eo()(),frag:no()()}),this.ibl=null;const t=this.inputs;t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),t.add(this.iAlbedo=new hi.c("albedo",3)),t.add(this.iAlpha=new hi.c("alpha",1)),t.add(this.iSpecular=new hi.c("specular",3)),t.add(this.iGloss=new hi.c("gloss",1)),t.add(this.iNormal=new hi.c("normal",3)),t.add(this.iNormalDetail=new hi.c("normalDetail",3)),t.add(this.iNormalDetailStrength=new hi.c("normalDetailStrength",1)),t.add(this.iOcclusion=new hi.c("occlusion",1)),t.add(this.iCavity=new hi.c("cavity",1)),t.add(this.iCavityStrength=new hi.c("cavityStrength",2)),t.add(this.iEmissive=new hi.c("emissive",1)),t.add(this.iEmissiveScale=new hi.c("emissiveScale",1)),t.add(this.iFresnel=new hi.c("fresnel",3)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.iLightmap=new hi.c("Lightmap",3)),t.add(this.iLightmapMultiplier=new hi.c("LightmapMultiplier",1)),t.add(this.iAmbientMultiplier=new hi.c("AmbientMultiplier",1)),t.add(this.iAlbedoTint=new hi.c("albedoTint",3)),t.add(this.iSpecularTint=new hi.c("specularTint",3)),t.add(this.iSecondaryTint=new hi.c("secondaryTint",3)),t.add(this.iSecondaryTintMask=new hi.c("secondaryTintMask",1)),t.add(this.tintBlendMode=new pi.a("tintBlendMode",["TBM_LINEAR_LIGHT","TBM_MULTIPLY"])),t.add(this.alphaBlending=new pi.a("alphaBlending",["ALPHA_CUTOUT","ALPHA_STD"])),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])),this.iAmbientMultiplier.attachConstant(1)}addTexCoords(e=1,t=e){const n=new Fs("aTexCoord"+e,"vTexCoord"+t);return this.inputs.add(n),n}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}prepare(e,t,n){this.ibl.setupProgram(e),e.uMVP&&(n.modelViewProjectionMatrix(io,t._wmatrix),e.uMVP(io)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var oo;!function(e){e.HoverCircle="HoverCircle"}(oo||(oo={}));class ro{static init(e,t,n){this._isInit||(this.createTextures(n),this.createMaterial(e.gl,oo.HoverCircle,t),this.setupHoverCircle(e,t.get(oo.HoverCircle),n),this._isInit=!0)}static createTextures(e){let t=new ze({std:"assets/webgl/hover_mask.png"}),n=new He("hover_mask",t,e);t=new ze({std:"assets/webgl/hover_circle.jpg"}),n=new He("hover_circle_albedo",t,e),n.texture.setFilter(!0,!0,!1)}static setupHoverCircle(e,t,n){const i=new Qs("hover-circle");e.iblMngr.setupMat(i),i.mask=Rs.BLENDED,i.iAlbedo.attachSampler("tColor","vTexCoord0").set(n.get("hover_circle_albedo")),i.iAlpha.attachSampler("tAlpha","vTexCoord0","r").set(n.get("hover_circle_albedo")),i.iMask.attachSampler("tMask","vTexCoord0").set(n.get("hover_mask")),i.iAlbedoTint.attachConstant([.725490196,.188235294,.176470588]),i.iReveal.attachUniform("uReveal",1).set(0),i.iSpecular.attachConstant([.15,.15,.15]),i.iGloss.attachConstant(.1),i.useDerivatives.set(!1),this.blendedConfig(i.glconfig),t.addPass(i,"color")}static createPass(e,t){const n=new so(e);return t.iblMngr.setupMat(n),this.opaqueConfig(n.glconfig),n.mask=Rs.OPAQUE,n}static opaqueConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest().depthMask(!0)}static blendedConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest(!0).depthMask(!1).enableBlend(!0).blendFunc(Ss.SRC_ALPHA,Ss.ONE_MINUS_SRC_ALPHA)}static createMaterial(e,t,n){const i=new js.a(e,t);return n.registerMaterial(i,t),i}}ro._isInit=!1;var ao=n(93),lo=n.n(ao);const co="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):null;function uo(e,t,n){return t<=e&&e<=n}var ho="undefined"!=typeof TextDecoder?function(e){return co.decode(e)}:function(e){let t="";const n=function(e){let t=0,n=0,i=0,s=128,o=191,r=[],a=e.length;for(var l=0;l<a;++l){var d=e[l];if(0===i){if(uo(d,0,127)){r.push(d);continue}if(uo(d,194,223)){i=1,t=31&d;continue}if(uo(d,224,239)){224===d&&(s=160),237===d&&(o=159),i=2,t=15&d;continue}if(uo(d,240,244)){240===d&&(s=144),244===d&&(o=143),i=3,t=7&d;continue}throw new Error("String decoding failed.")}uo(d,s,o)?(s=128,o=191,t=t<<6|63&d,++n,n===i&&(r.push(t),t=i=n=0)):(t=i=n=0,s=128,o=191,--l)}return r}(e);for(let e of n)e<=65535?t+=String.fromCharCode(e):(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e)));return t};function po(e){throw new Error(e)}var _o={isDefined(e,t=""){void 0===e&&po(t)},isUndefined(e,t=""){void 0!==e&&po(t)},isTrue(e,t=""){!0!==e&&po(t)},isFalse(e,t=""){!1!==e&&po(t)}};class go{constructor(){this._map={},this._list=[]}addExtension(e){if(void 0!==this._map[e.name])throw new Error(`Extension ${e.name} already exits`);this._map[e.name]=e,this._list.push(e)}sort(){this._list.sort((e,t)=>t.priority-e.priority)}validate(e=[],t=[]){for(const t of e)void 0===this._map[t]&&console.warn("Missing used extension "+t);for(const e of t)if(void 0===this._map[e])throw new Error("Missing required extension "+e)}}var mo=class{constructor(){this._extensionFactories={}}addExtension(e){const t=e.name;_o.isUndefined(this._extensionFactories[t],`extension '${t}' already exist`),this._extensionFactories[t]=e}setupExtensions(e,t=[]){const n=e._extensions;for(const t in this._extensionFactories){const i=this._extensionFactories[t].createInstance(e);_o.isTrue(i.name===t),n.addExtension(i)}for(const i of t){const t=i.createInstance(e);n.addExtension(t)}n.sort()}};const vo={POSITION:{indexed:!1,attrib:"aPosition"},NORMAL:{indexed:!1,attrib:"aNormal"},TANGENT:{indexed:!1,attrib:"aTangent"},TEXCOORD:{indexed:!0,attrib:"aTexCoord"},COLOR:{indexed:!0,attrib:"aColor"},JOINTS:{indexed:!0,attrib:"aSkinJoints"},WEIGHTS:{indexed:!0,attrib:"aSkinWeights"}};var fo=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class bo{constructor(){this.indexed=[],this.list=[]}addElement(e,t=-1){t>-1&&(this.indexed[t]=e),this.list.push(e)}}class To{constructor(){this.root=new An.a,this._collections=new Map([["accessors",new bo],["sparse",new bo],["sparseIndices",new bo],["sparseValues",new bo],["animations",new bo],["animationSamplers",new bo],["animationChannels",new bo],["asset",new bo],["buffers",new bo],["bufferViews",new bo],["cameras",new bo],["images",new bo],["materials",new bo],["meshes",new bo],["nodes",new bo],["normalTextureInfo",new bo],["occlusionTextureInfo",new bo],["primitives",new bo],["samplers",new bo],["scenes",new bo],["skins",new bo],["textures",new bo],["textureInfo",new bo]]),this._elements=[]}static addExtension(e){To._extensionsRegistry.addExtension(e)}static getSemantics(){return this._semantics}static setSemantics(e){null!=e||(this._semantics=e)}static getRenderConfig(){return this._renderConfig}static getExtensionsRegistry(){return this._extensionsRegistry}allocateGl(e){return fo(this,void 0,void 0,(function*(){var t;const n=[];for(const i of this._elements){const s=null===(t=i.allocateGl)||void 0===t?void 0:t.call(i,e);null!=s||n.push(s)}yield Promise.all(n),this.renderables=this.nodes.map(e=>e.renderable).filter(e=>void 0!==e);for(const e of this.nodes)e._parent||this.root.add(e)}))}get buffers(){return this._getCollection("buffers").list}get bufferViews(){return this._getCollection("bufferViews").list}get accessors(){return this._getCollection("accessors").list}get animations(){return this._getCollection("animations").list}get meshes(){return this._getCollection("meshes").list}get nodes(){return this._getCollection("nodes").list}get materials(){return this._getCollection("materials").list}get cameras(){return this._getCollection("cameras").list}get skins(){return this._getCollection("skins").list}getAllElements(){return this._elements}getElement(e,t){return this._getCollection(e).indexed[t]}getElementByName(e,t){const n=this._getCollection(e).list;for(var i of n)if(i.name===t)return i;return null}_getCollection(e){return this._collections.get(e)}addElement(e,t=-1){this._getCollection(e.gltftype).addElement(e,t),this._elements.push(e)}}To._extensionsRegistry=new mo,To._semantics=new class{getMorphedAttributeName(e,t){return this.getAttributeName(e)+"_mt"+t}getAttributeName(e){const[t,n=0]=e.split("_"),i=vo[t];if(void 0!==i)return n>0||i.indexed?i.attrib+n:i.attrib;throw new Error("Invalid Semantic "+e)}},To._renderConfig={opaqueMask:1,blendedMask:2};var Eo,wo=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Co{constructor(){this.gltftype="animations",this.duration=0}parse(e,t){return wo(this,void 0,void 0,(function*(){const n=t.samplers.map(t=>e._loadElement(t));this.samplers=yield Promise.all(n);for(const e of this.samplers)this.duration=Math.max(e.maxTime);const i=t.channels.map(t=>e._loadElement(t));this.channels=yield Promise.all(i)}))}evaluate(e){for(var t of this.channels)t.evaluate(e)}getChannel(e){return this.channels[e]}getSampler(e){return this.samplers[e]}}!function(e){let t,n,i,s,o,r,a,l,d,c,u;!function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(t=e.AccessorComponentType||(e.AccessorComponentType={})),function(e){e.SCALAR="SCALAR",e.VEC2="VEC2",e.VEC3="VEC3",e.VEC4="VEC4",e.MAT2="MAT2",e.MAT3="MAT3",e.MAT4="MAT4"}(n=e.AccessorType||(e.AccessorType={})),function(e){e.TRANSLATION="translation",e.ROTATION="rotation",e.SCALE="scale",e.WEIGHTS="weights"}(i=e.AnimationChannelTargetPath||(e.AnimationChannelTargetPath={})),function(e){e.LINEAR="LINEAR",e.STEP="STEP",e.CUBICSPLINE="CUBICSPLINE"}(s=e.AnimationSamplerInterpolation||(e.AnimationSamplerInterpolation={})),function(e){e.PERSPECTIVE="perspective",e.ORTHOGRAPHIC="orthographic"}(o=e.CameraType||(e.CameraType={})),function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(r=e.ImageMimeType||(e.ImageMimeType={})),function(e){e.OPAQUE="OPAQUE",e.MASK="MASK",e.BLEND="BLEND"}(a=e.MaterialAlphaMode||(e.MaterialAlphaMode={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.DEFAULT=4]="DEFAULT"}(l=e.MeshPrimitiveMode||(e.MeshPrimitiveMode={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR"}(d=e.TextureMagFilter||(e.TextureMagFilter={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(c=e.TextureMinFilter||(e.TextureMinFilter={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.REPEAT=10497]="REPEAT"}(u=e.TextureWrapMode||(e.TextureWrapMode={}))}(Eo||(Eo={}));var Ao=Eo,So=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function Ro(e,t){e.position.set(t),e.invalidate()}function yo(e,t){e.rotation.set(t),e.invalidate()}function xo(e,t){e.scale.set(t),e.invalidate()}function Mo(e,t){e.weights.set(t)}class Po{constructor(){this.gltftype="animationChannels"}parse(e,t){return So(this,void 0,void 0,(function*(){if(this._active=!1,this.path=t.target.path,this.applyFunction=function(e){switch(e){case Ao.AnimationChannelTargetPath.TRANSLATION:return Ro;case Ao.AnimationChannelTargetPath.ROTATION:return yo;case Ao.AnimationChannelTargetPath.SCALE:return xo;case Ao.AnimationChannelTargetPath.WEIGHTS:return Mo;default:throw new Error("unsupported path "+e)}}(this.path),void 0!==t.target.node){this._active=!0,this.node=yield e.getElement("nodes",t.target.node);let n=1;this.path===Ao.AnimationChannelTargetPath.WEIGHTS&&(n=this.node.mesh.primitives[0].targets.length),e._loadElement(t.elementParent).then(e=>{this.sampler=e.getSampler(t.sampler),this.evaluator=this.sampler.createEvaluator(this.path,n),this.valueHolder=this.evaluator.createElementHolder()})}}))}evaluate(e){this._active&&(this.evaluator.evaluate(this.valueHolder,e),this.applyFunction(this.node,this.valueHolder))}}var No=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Io{constructor(e){this.frame=0,this.t0=e.getRawScalar(0),this.t1=e.getRawScalar(1),this.inBound=!0,this._fMax=e.count-1}contain(e){return e<this.t0?-1:e>=this.t1?1:0}normalizedFrame(){return Math.min(Math.max(this.frame,0),this._fMax)}}class Lo{constructor(e,t){this.sampler=e,this.interval=new Io(e.input),this.numElements=t}resolveInterval(e){const t=this.interval,n=this.sampler.input,i=n.count,s=t.contain(e);if(0===s)return;let o,r,a,l=!0;if(s>0){o=t.frame+1,r=t.t1;do{o++,l=o<i,a=r,r=l?n.getRawScalar(o):Number.MAX_VALUE}while(r<=e);o--}else{o=t.frame,a=t.t0;do{o--,l=o>=0,r=a,a=l?n.getRawScalar(o):-Number.MAX_VALUE}while(a>e)}t.frame=o,t.t0=a,t.t1=r,t.inBound=l}evaluate(e,t){}}class Oo extends Lo{evaluate(e,t){this.resolveInterval(t),this.sampler.output.getValues(e,this.interval.normalizedFrame()*this.numElements,this.numElements)}}function Do(e,t,n,i){const s=t.length,o=1-i;for(var r=0;r<s;r++)e[r]=t[r]*o+n[r]*i}function Fo(e,t,n,i){e[0]=t[0]*(1-i)+n[0]*i}class Bo extends Lo{constructor(e,t,n){super(e,n),this.val0=e.output.createElementHolderArray(n),this.val1=e.output.createElementHolderArray(n),this.lerpFunc=function(e,t){switch(e){case Ao.AnimationChannelTargetPath.WEIGHTS:return 1===t?Fo:Do;case Ao.AnimationChannelTargetPath.ROTATION:return W.quat.slerp;case Ao.AnimationChannelTargetPath.SCALE:case Ao.AnimationChannelTargetPath.TRANSLATION:default:return Do}}(t,this.val0.length)}evaluate(e,t){this.resolveInterval(t);const n=this.sampler.output,i=this.numElements;if(this.interval.inBound){const{t0:s,t1:o,frame:r}=this.interval,a=(t-s)/(o-s);n.getValues(this.val0,i*r+0,i),n.getValues(this.val1,i*r+i,i),this.lerpFunc(e,this.val0,this.val1,a)}else n.getValues(e,this.interval.normalizedFrame()*i,i)}}class Uo extends Lo{constructor(e,t,n){super(e,n),this.val0=e.output.createElementHolderArray(n),this.val1=e.output.createElementHolderArray(n),this.val2=e.output.createElementHolderArray(n),this.val3=e.output.createElementHolderArray(n),this.assumeQuat=t===Ao.AnimationChannelTargetPath.ROTATION}evaluate(e,t){this.resolveInterval(t);const n=this.sampler.output,i=this.numElements;if(this.interval.inBound){const{t0:s,t1:o,frame:r}=this.interval,a=o-s,l=(t-s)/a;n.getValues(this.val0,i*(3*r+1),i),n.getValues(this.val1,i*(3*r+2),i),n.getValues(this.val2,i*(3*r+3),i),n.getValues(this.val3,i*(3*r+4),i),function(e,t,n,i,s,o,r){const a=t*t,l=t*a,d=2*l-3*a+1,c=n*(l-2*a+t),u=3*a-2*l,h=n*(l-a),p=i.length;for(var _=0;_<p;_++)e[_]=d*i[_]+c*s[_]+u*r[_]+h*o[_]}(e,l,a,this.val0,this.val1,this.val2,this.val3),this.assumeQuat&&W.quat.normalize(e,e)}else n.getValues(e,i*(3*this.interval.normalizedFrame()+1),i)}}class Vo{constructor(e,t,n){this.sampler=e,this.numElements=n,this.interpolator=function(e,t,n){switch(e.interpolation){case Ao.AnimationSamplerInterpolation.STEP:return new Oo(e,n);case Ao.AnimationSamplerInterpolation.LINEAR:return new Bo(e,t,n);case Ao.AnimationSamplerInterpolation.CUBICSPLINE:return new Uo(e,t,n);default:throw new Error("GLTF : Unsupported sampler interpolation "+e.interpolation)}}(e,t,n)}evaluate(e,t){this.interpolator.evaluate(e,t)}createElementHolder(){return this.sampler.output.createElementHolderArray(this.numElements)}}class Go{constructor(){this.gltftype="animationSamplers",this.minTime=0,this.maxTime=0}parse(e,t){return No(this,void 0,void 0,(function*(){this.input=yield e.getElement("accessors",t.input),this.output=yield e.getElement("accessors",t.output),this.interpolation=t.interpolation||Ao.AnimationSamplerInterpolation.LINEAR,this.minTime=this.input.getRawScalar(0),this.maxTime=this.input.getRawScalar(this.input.count-1)}))}createEvaluator(e,t){return new Vo(this,e,t)}}var ko,Ho=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.float="float",e.vec2="vec2",e.vec3="vec3",e.vec4="vec4",e.mat2="mat2",e.mat3="mat3",e.mat4="mat4"}(ko||(ko={}));const zo=e=>Math.max(e/127,-1),Wo=e=>e/255,jo=e=>Math.max(e/32767,-1),Xo=e=>e/65535,qo=e=>e,$o=e=>e;function Yo(e){switch(e){case Ao.AccessorComponentType.BYTE:return Int8Array;case Ao.AccessorComponentType.UNSIGNED_BYTE:return Uint8Array;case Ao.AccessorComponentType.SHORT:return Int16Array;case Ao.AccessorComponentType.UNSIGNED_SHORT:return Uint16Array;case Ao.AccessorComponentType.UNSIGNED_INT:return Uint32Array;case Ao.AccessorComponentType.FLOAT:return Float32Array}}class Ko{constructor(){this.normalized=!1,this.byteOffset=0,this.count=0,this._stride=0,this._strideElem=0}get numComps(){return function(e){switch(e){case Ao.AccessorType.SCALAR:return 1;case Ao.AccessorType.VEC2:return 2;case Ao.AccessorType.VEC3:return 3;case Ao.AccessorType.VEC4:case Ao.AccessorType.MAT2:return 4;case Ao.AccessorType.MAT3:return 9;case Ao.AccessorType.MAT4:return 16}}(this.type)}get bytesPerElem(){return Yo(this.componentType).BYTES_PER_ELEMENT}get glslType(){return function(e){switch(e){case Ao.AccessorType.SCALAR:return ko.float;case Ao.AccessorType.VEC2:return ko.vec2;case Ao.AccessorType.VEC3:return ko.vec3;case Ao.AccessorType.VEC4:return ko.vec4;case Ao.AccessorType.MAT2:return ko.mat2;case Ao.AccessorType.MAT3:return ko.mat3;case Ao.AccessorType.MAT4:return ko.mat4}}(this.type)}*[Symbol.iterator](){const e=this.createElementHolder();for(let t=0;t<this.count;t++)this.getValue(e,t),yield e}createElementHolder(e=this.normalized){return e?new Float32Array(this.numComps):new(Yo(this.componentType))(this.numComps)}createElementHolderArray(e,t=this.normalized){return t?new Float32Array(this.numComps*e):new(Yo(this.componentType))(this.numComps*e)}getScalar(e,t=this.normalized){let n;return n=null!==this.sparse?this.sparse.getRawScalar(e):this.getRawScalar(e),t&&(n=this._normalizeFunc(n)),n}getRawScalar(e){const t=this._strideElem*e;return this._array[t]}getValue(e,t,n=this.normalized){const i=n?this._valueHolder:e;null!==this.sparse?this.sparse.getRawValue(i,t):this.getRawValue(i,t),n&&this._normalize(e,i)}getValues(e,t,n){if(null!==this.sparse)throw new Error("Cant call getValues in sparsed accessor");this.getRawValues(e,t,n),this.normalized&&this._normalize(e,e)}getRawValue(e,t){const n=this._strideElem*t,i=this.numComps;for(var s=0;s<i;s++)e[s]=this._array[s+n]}getRawValues(e,t,n){const i=this.numComps;for(let o=0;o<n;o++){const n=o*i,r=this._strideElem*(t+o);for(var s=0;s<i;s++)e[n+s]=this._array[s+r]}}_normalize(e,t){const n=this._normalizeFunc,i=this.numComps;for(var s=0;s<i;s++)e[s]=n(t[s])}}class Zo extends Ko{constructor(){super(...arguments),this.gltftype="accessors"}parse(e,t){return Ho(this,void 0,void 0,(function*(){const{byteOffset:n=0,normalized:i=!1}=t;if(this.normalized=i,this.byteOffset=n,this.componentType=t.componentType,this.count=t.count,this.type=t.type,this.max=t.max,this.min=t.min,void 0!==t.bufferView){this.bufferView=yield e.getElement("bufferViews",t.bufferView);const n=Yo(this.componentType);0===this.bufferView.byteStride?(this._stride=this.numComps*this.bytesPerElem,this._strideElem=this.numComps):(this._stride=this.bufferView.byteStride,this._strideElem=this._stride/n.BYTES_PER_ELEMENT,_o.isTrue(this._strideElem===Math.round(this._strideElem))),this._array=new n(this.bufferView.buffer._bytes,this.byteOffset+this.bufferView.getByteOffset(),this.count*this._strideElem)}else this.bufferView=null,this._stride=0,this._strideElem=0,this._array=this.createElementHolder();return this.sparse=null,void 0!==t.sparse&&e._loadElement(t.sparse).then(e=>this.sparse=e),this._valueHolder=this.createElementHolder(),this._normalizeFunc=function(e){switch(e){case Ao.AccessorComponentType.BYTE:return zo;case Ao.AccessorComponentType.UNSIGNED_BYTE:return Wo;case Ao.AccessorComponentType.SHORT:return jo;case Ao.AccessorComponentType.UNSIGNED_SHORT:return Xo;case Ao.AccessorComponentType.UNSIGNED_INT:return qo;case Ao.AccessorComponentType.FLOAT:return $o}}(this.componentType),Promise.resolve()}))}}class Qo{constructor(){this.gltftype="cameras"}parse(e,t){switch(this.projection=W.mat4.create(),this.type=t.type,this.type){case Ao.CameraType.PERSPECTIVE:this.projectionData=t.perspective,this.createPerpective(this.projectionData);break;case Ao.CameraType.ORTHOGRAPHIC:this.projectionData=t.orthographic,this.createOrtho(this.projectionData);break;default:throw new Error("Camera - unsupported type "+this.type)}return Promise.resolve()}createPerpective(e){W.mat4.perspective(this.projection,e.yfov,e.aspectRatio,e.znear,e.zfar)}createOrtho(e){W.mat4.ortho(this.projection,.5*-e.xmag,.5*e.xmag,.5*-e.ymag,.5*e.ymag,e.znear,e.zfar)}}var Jo=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class er{parse(e,t){return Jo(this,void 0,void 0,(function*(){var n,i;this.baseColorFactor=new Float32Array(t.baseColorFactor||[1,1,1,1]),this.metallicFactor=null!==(n=t.metallicFactor)&&void 0!==n?n:1,this.roughnessFactor=null!==(i=t.roughnessFactor)&&void 0!==i?i:1,void 0!==t.baseColorTexture&&(this.baseColorTexture=yield e._loadElement(t.baseColorTexture)),void 0!==t.metallicRoughnessTexture&&(this.metallicRoughnessTexture=yield e._loadElement(t.metallicRoughnessTexture))}))}}function tr(e){let t="";return t+='\n#ifndef _H_SAMPLE_SH_\n#define _H_SAMPLE_SH_\n// ================================\n// compute Spherical Harmonics\n// ================================\n//\n// "Stupid Spherical Harmonics (SH) Tricks"\n// http://www.ppsloan.org/publications/StupidSH36.pdf\n//\n//\nvec3 SampleSH( vec3 N, vec4 sh[7] )\n{\n  N.xz = N.zx;\n  vec4 NV = vec4(N, 1.0);\n\n  // todo transpose coeffs directly\n  // NV.xyz = NV.zyx;\n\n  vec3 X0, X1, X2;\n  X0.x = dot( sh[0].xyz, N) + sh[0].w;\n  X0.y = dot( sh[1].xyz, N) + sh[1].w;\n  X0.z = dot( sh[2].xyz, N) + sh[2].w;\n\n  vec4 vB = NV.zyxx * NV.yxxz;\n  X1.x = dot( sh[3].xyz, vB.xyz) + (sh[3].w * vB.w);\n  X1.y = dot( sh[4].xyz, vB.xyz) + (sh[4].w * vB.w);\n  X1.z = dot( sh[5].xyz, vB.xyz) + (sh[5].w * vB.w);\n\n  float vC = NV.z * NV.z - NV.y * NV.y;\n  X2 =  sh[6].xyz * vC;\n\n  return ( X0 + X1 + X2 );\n//  return max( vec3(0.0) , X0 + X1 + X2 );\n}\n\n#endif\n','\n#ifndef _H_SAMPLE_SH_\n#define _H_SAMPLE_SH_\n// ================================\n// compute Spherical Harmonics\n// ================================\n//\n// "Stupid Spherical Harmonics (SH) Tricks"\n// http://www.ppsloan.org/publications/StupidSH36.pdf\n//\n//\nvec3 SampleSH( vec3 N, vec4 sh[7] )\n{\n  N.xz = N.zx;\n  vec4 NV = vec4(N, 1.0);\n\n  // todo transpose coeffs directly\n  // NV.xyz = NV.zyx;\n\n  vec3 X0, X1, X2;\n  X0.x = dot( sh[0].xyz, N) + sh[0].w;\n  X0.y = dot( sh[1].xyz, N) + sh[1].w;\n  X0.z = dot( sh[2].xyz, N) + sh[2].w;\n\n  vec4 vB = NV.zyxx * NV.yxxz;\n  X1.x = dot( sh[3].xyz, vB.xyz) + (sh[3].w * vB.w);\n  X1.y = dot( sh[4].xyz, vB.xyz) + (sh[4].w * vB.w);\n  X1.z = dot( sh[5].xyz, vB.xyz) + (sh[5].w * vB.w);\n\n  float vC = NV.z * NV.z - NV.y * NV.y;\n  X2 =  sh[6].xyz * vC;\n\n  return ( X0 + X1 + X2 );\n//  return max( vec3(0.0) , X0 + X1 + X2 );\n}\n\n#endif\n'}tr.toString=tr;var nr=tr;function ir(e){let t="";return t+=`#pragma SLOT version\n#pragma SLOT definitions\n#pragma SLOT precision\n\n\n#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif\n\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec4 aTangent;\n\n\nuniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\n\nOUT vec3 vWorldPosition;\nOUT mediump vec3 vWorldNormal;\nOUT mediump vec3 vWorldTangent;\n\n\n#if HAS_normal\n  #if useDerivatives == 0\n  OUT mediump vec3 vWorldBitangent;\n  #endif\n#endif\n\n\n#if perVertexIrrad\n  OUT vec3 vIrradiance;\n  uniform vec4 uSHCoeffs[7];\n  ${nr()}\n#endif\n\n\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  // warp acces\n  highp vec3 position = aPosition;\n  vec3 normal = aNormal;\n  vec3 tangent = aTangent.xyz;\n  mat4 worldMatrix = uWorldMatrix;\n  mat4 mvp         = uMVP;\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = worldMatrix * vec4( position, 1.0 );\n  worldPos.xyz /= worldPos.w;\n  worldPos.w = 1.0;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP         * worldPos;\n\n  vWorldPosition  = worldPos.xyz;\n  vWorldNormal    = normalize( rotate( worldMatrix, normal ) );\n  vWorldTangent   = normalize( rotate( worldMatrix, tangent.xyz ) );\n\n  #if HAS_normal\n    #if useDerivatives == 0\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * aTangent.w );\n    #endif\n  #endif\n\n  #if perVertexIrrad\n    vIrradiance = SampleSH( vWorldNormal, uSHCoeffs );\n  #endif\n\n\n  \n  // vDebugColor = vec4( -position, 1.0 );\n}`,t}ir.toString=ir;var sr=ir,or=n(29),rr=n.n(or);function ar(e){let t="";return t+="\n\n#if useDerivatives\n\n\nvec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n  // compute derivations of the world position\n\n  vec3 p_dx = dFdx(vWorldPosition);\n  vec3 p_dy = dFdy(vWorldPosition);\n  // compute derivations of the texture coordinate\n  vec2 tc_dx = dFdx(texcoord);\n  vec2 tc_dy = dFdy(texcoord);\n\n  float l = sign(tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n  \n  // prevent some low precision issue (on )\n  // l = max( 0.001 , l );\n\n\n  // compute initial tangent and bi-tangent\n  vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*l;\n  vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*l;\n\n  // get new tangent from a given world normal\n  vec3 x = cross(nrm, t);\n  t = cross(x, nrm);\n  t = normalize(t);\n  // get updated bi-tangent\n  x = cross(b, nrm);\n  b = cross(nrm, x);\n  b = -normalize(b);\n  mat3 tbn = mat3(t, b, nrm);\n  return tbn * n;\n}\n\n\n  \n#endif\n\nvec3 perturbWorldNormal( vec3 nrm, vec3 n, vec3 wtan, vec3 wbitan ){\n  return wtan * n.x + wbitan*n.y + nrm * n.z;\n}\n\n","\n\n#if useDerivatives\n\n\nvec3 perturbWorldNormalDerivatives( vec3 nrm, vec3 n, vec2 texcoord ){\n  // compute derivations of the world position\n\n  vec3 p_dx = dFdx(vWorldPosition);\n  vec3 p_dy = dFdy(vWorldPosition);\n  // compute derivations of the texture coordinate\n  vec2 tc_dx = dFdx(texcoord);\n  vec2 tc_dy = dFdy(texcoord);\n\n  float l = sign(tc_dx.x * tc_dy.y - tc_dx.y * tc_dy.x);\n  \n  // prevent some low precision issue (on )\n  // l = max( 0.001 , l );\n\n\n  // compute initial tangent and bi-tangent\n  vec3 t = normalize( tc_dy.y * p_dx - tc_dx.y * p_dy )*l;\n  vec3 b = normalize( tc_dx.x * p_dy - tc_dy.x * p_dx )*l;\n\n  // get new tangent from a given world normal\n  vec3 x = cross(nrm, t);\n  t = cross(x, nrm);\n  t = normalize(t);\n  // get updated bi-tangent\n  x = cross(b, nrm);\n  b = cross(nrm, x);\n  b = -normalize(b);\n  mat3 tbn = mat3(t, b, nrm);\n  return tbn * n;\n}\n\n\n  \n#endif\n\nvec3 perturbWorldNormal( vec3 nrm, vec3 n, vec3 wtan, vec3 wbitan ){\n  return wtan * n.x + wbitan*n.y + nrm * n.z;\n}\n\n"}ar.toString=ar;var lr=ar;function dr(e){let t="";return t+="\n\n#ifndef _H_TONEMAP_\n#define _H_TONEMAP_\n\n\n  // Exposure\n  // ===========\n \n  #if HAS_exposure\n    #define EXPOSURE(color) color *= vec3( exposure() );\n  #else\n    #define EXPOSURE(color)\n  #endif\n\n\n  // Gamma correction\n  // ===========\n\n  #if gammaMode( GAMMA_STD ) && HAS_gamma\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( gamma() ) );\n\n\n  #elif gammaMode( GAMMA_2_2 )\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( 1.0/2.2 ) );\n\n\n  #elif gammaMode( GAMMA_TB )\n\n    void ToneMapTB( inout vec3 color ) {\n      vec3 c = color;\n      vec3 sqrtc = sqrt( c );\n      color = (sqrtc-sqrtc*c) + c*(0.4672*c+vec3(0.5328));\n    }\n\n    #define GAMMA_CORRECTION(color) ToneMapTB( color );\n\n  #else\n    #define GAMMA_CORRECTION(color)\n\n  #endif\n\n\n\n#endif","\n\n#ifndef _H_TONEMAP_\n#define _H_TONEMAP_\n\n\n  // Exposure\n  // ===========\n \n  #if HAS_exposure\n    #define EXPOSURE(color) color *= vec3( exposure() );\n  #else\n    #define EXPOSURE(color)\n  #endif\n\n\n  // Gamma correction\n  // ===========\n\n  #if gammaMode( GAMMA_STD ) && HAS_gamma\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( gamma() ) );\n\n\n  #elif gammaMode( GAMMA_2_2 )\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( 1.0/2.2 ) );\n\n\n  #elif gammaMode( GAMMA_TB )\n\n    void ToneMapTB( inout vec3 color ) {\n      vec3 c = color;\n      vec3 sqrtc = sqrt( c );\n      color = (sqrtc-sqrtc*c) + c*(0.4672*c+vec3(0.5328));\n    }\n\n    #define GAMMA_CORRECTION(color) ToneMapTB( color );\n\n  #else\n    #define GAMMA_CORRECTION(color)\n\n  #endif\n\n\n\n#endif"}dr.toString=dr;var cr=dr;function ur(e){let t="";return t+=`#pragma SLOT version\n#pragma SLOT definitions\n\n#if useDerivatives && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\n\nIN vec3 vWorldPosition;\nIN mediump vec3 vWorldNormal;\nIN mediump vec3 vWorldTangent;\n\n#if HAS_normal && useDerivatives == 0\n  IN mediump vec3 vWorldBitangent;\n#endif\n\n\n// IBL\n// ========\nuniform sampler2D tEnv;\n\n#if perVertexIrrad\n  IN vec3 vIrradiance;\n#else\n  uniform vec4 uSHCoeffs[7];\n  ${nr()}\n#endif\n\n\n\n// MATH\n// =========\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n\n\n${rr()()}\n${lr()}\n${cr()}\n\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float dot = glo*glo * pow( 1.0-VoH, 5.0 );\n  return( 1.0 - dot )*spec + dot;\n}\n\n\n\n\n#if HAS_normal\n  #if HAS_normalScale\n    #define SCALED_NORMAL(k) GetScaledNormal( normal(), normalScale() )\n    vec3 GetScaledNormal( vec3 nrmtex, float scale ){\n      vec3 nrm = nrmtex = nrmtex*vec3(2.0) - vec3(1.0);\n      return normalize( nrm * vec3(scale, scale, 1.0 ) );\n    }\n  #else\n    #define SCALED_NORMAL(k) GetScaledNormal( normal() )\n    vec3 GetScaledNormal( vec3 nrmtex ){\n      return nrmtex = nrmtex*vec3(2.0) - vec3(1.0);\n    }\n  #endif\n  \n  \n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( SCALED_NORMAL() )\n  vec3 ComputeWorldNormal( vec3 nrmmap ){\n    \n    vec3 nrm = normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #if useDerivatives\n      vec3 res = normalize( perturbWorldNormalDerivatives( nrm, nrmmap, vTexCoord0 ) );\n    #else\n      vec3 res = normalize( perturbWorldNormal( nrm, nrmmap, vWorldTangent, vWorldBitangent ) );\n    #endif\n    // res = res * 0.0001 + vWorldNormal;\n\n    return res;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n  }\n#endif\n\n\n\nvec3 ComputeIBLDiffuse( vec3 worldNormal ){\n  #if perVertexIrrad\n    return vIrradiance;\n  #else\n    return SampleSH(worldNormal, uSHCoeffs );\n  #endif\n}\n\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n  vec3 _baseColor = vec3(1.0);\n  #if HAS_baseColor\n    _baseColor *= baseColor();\n  #endif\n  #if HAS_baseColorFactor\n    _baseColor *= baseColorFactor();\n  #endif\n  \n  #ifdef HAS_vertexColor\n  #if HAS_vertexColor\n    _baseColor *= vertexColor();\n  #endif\n  #endif\n\n\n  float _metalness = 1.0;\n  #if HAS_metalnessFactor\n    _metalness *= metalnessFactor();\n  #endif\n  #if HAS_metalness\n    _metalness *= metalness();\n  #endif\n\n\n  float _roughness = 1.0;\n  #if HAS_roughnessFactor\n    _roughness *= roughnessFactor();\n  #endif\n  #if HAS_roughness\n    _roughness *= roughness();\n  #endif\n\n\n\n  // -----------\n  vec3 worldNormal = COMPUTE_NORMAL();\n\n\n\n  // SH Irradiance diffuse coeff\n  // -------------\n\n  vec3 diffuseCoef = ComputeIBLDiffuse( worldNormal );\n\n\n  // IBL reflexion\n  // --------------\n\n  vec3 viewDir = normalize( uCameraPosition - vWorldPosition );\n  vec3 worldReflect = reflect( -viewDir, worldNormal );\n  vec3 specularColor = SpecularIBL( tEnv, worldReflect, _roughness );\n\n\n  #pragma SLOT lightsf\n\n\n\n\n  float NoV = sdot( viewDir, worldNormal );\n  vec3 specularF0 = mix( vec3(0.04), _baseColor, _metalness );\n  specularColor *= F_Schlick( NoV, specularF0, 1.0-_roughness );\n\n\n  \n\t#if horizonFading\n    float horiz = dot( worldReflect, vWorldNormal );\n    horiz = saturate( 1.0 + horiz );\n    horiz *= horiz;\n    specularColor *= horiz;\n  #endif\n\n\n\n  #if HAS_occlusion\n    float _occlusion = occlusion();\n    #if HAS_occlusionStrength\n      _occlusion = 1.0 - occlusionStrength() + _occlusion*occlusionStrength();\n    #endif\n    diffuseCoef *= _occlusion;\n  #endif\n\n\n  vec3 alb = mix( _baseColor * vec3(1.0-0.04), vec3(0.0), _metalness );\n  vec3 albedoSq = alb*alb;\n\n  FragColor.xyz = diffuseCoef*albedoSq + specularColor;\n\n\n  vec3 _emissive = vec3(0.0);\n  #if HAS_emissive \n    _emissive += emissive();\n  #endif\n  #if HAS_emissiveFactor\n    _emissive *= emissiveFactor();\n  #endif\n  \n  FragColor.xyz += _emissive;\n\n\n\n  float _alpha = 1.0;\n  #if HAS_alpha\n    _alpha *= alpha();\n  #endif\n  #if HAS_alphaFactor\n    _alpha *= alphaFactor();\n  #endif\n\n\n  #if alphaMode( MASK )\n    if( _alpha < alphaCutoff() ) discard;\n    FragColor.a = 1.0;\n  #elif alphaMode( BLEND )\n    FragColor.a = _alpha;\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n\n\n  #pragma SLOT post_color\n\n  // FragColor.rgb = FragColor.rgb*0.0001 + gloss();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specular();\n  // FragColor.rgb = FragColor.rgb*0.0001 + specularColor;\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedo();\n  // FragColor.rgb = FragColor.rgb*0.0001 + albedoSq;\n  // FragColor.rgb = FragColor.rgb*0.0001 + diffuseCoef;\n  // FragColor.rgb = FragColor.rgb*0.0001 + worldNormal;\n  // FragColor.rgb = FragColor.rgb*0.0001 + vec3(1.0, 0.0, 0.0);\n  // FragColor.rg = vec2(0.0);\n\n  // pure mirror\n\n  // vec3 _rr = reflect( -viewDir, vWorldNormal );\n  // vec3 purerefl = SpecularIBL( tEnv, _rr, 0.0 );\n  // FragColor.rgb = FragColor.rgb*0.0001 + purerefl;\n\n  #if HAS_normal\n  // FragColor.rgb = FragColor.rgb*0.0001 + normal();\n  #endif\n\n  #if HAS_occlusion\n    // FragColor.rgb = FragColor.rgb*0.0001 + occlusion();\n  #endif\n\n\n  // #ifdef HAS_GI\n  // #if HAS_GI\n  //   FragColor.rgb = FragColor.rgb*0.0001 + gi;\n  // #endif\n  // #endif\n\n}`,t}ur.toString=ur;var hr=ur,pr=n(103);const _r=Ti.a.create();class gr extends Si.a{constructor(e="gltf-std-pass"){super({uid:"std",vert:sr(),frag:hr()}),this.ibl=null;const t=this.inputs;this.texCoords=new pr.a(t),t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.baseColor=new hi.c("baseColor",3)),t.add(this.baseColorFactor=new hi.c("baseColorFactor",3)),t.add(this.alpha=new hi.c("alpha",1)),t.add(this.alphaFactor=new hi.c("alphaFactor",1)),t.add(this.alphaCutoff=new hi.c("alphaCutoff",1)),t.add(this.metalness=new hi.c("metalness",1)),t.add(this.metalnessFactor=new hi.c("metalnessFactor",1)),t.add(this.roughness=new hi.c("roughness",1)),t.add(this.roughnessFactor=new hi.c("roughnessFactor",1)),t.add(this.emissive=new hi.c("emissive",3)),t.add(this.emissiveFactor=new hi.c("emissiveFactor",3)),t.add(this.normal=new hi.c("normal",3)),t.add(this.normalScale=new hi.c("normalScale",1)),t.add(this.occlusion=new hi.c("occlusion",1)),t.add(this.occlusionStrength=new hi.c("occlusionStrength",1)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.alphaMode=new pi.a("alphaMode",["OPAQUE","MASK","BLEND"])),t.add(this.doubleSided=new mi.a("doubleSided",!1)),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])).set("GAMMA_2_2")}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}prepare(e,t,n){this.ibl.setupProgram(e),e.uMVP&&(n.modelViewProjectionMatrix(_r,t._wmatrix),e.uMVP(_r)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var mr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class vr{constructor(){this.gltftype="materials"}get materialPass(){return this._materialPass}createMaterialForPrimitive(e,t,n){const i=new js.a(e,this._materialPass.name);i.addPass(this._materialPass,"color");const s=n.attributes.getSemantic("COLOR_0");if(null!==s){const e=new hi.c("vertexColor",3);e.attachAttribute(s.glslname),i.inputs.add(e)}return i}parse(e,t){return mr(this,void 0,void 0,(function*(){var n,i;this.emissiveFactor=new Float32Array(t.emissiveFactor||[0,0,0]),this.alphaMode=t.alphaMode||Ao.MaterialAlphaMode.OPAQUE,this.alphaCutoff=null!==(n=t.alphaCutoff)&&void 0!==n?n:.5,this.doubleSided=null!==(i=t.doubleSided)&&void 0!==i&&i,void 0!==t.pbrMetallicRoughness&&(this.pbrMetallicRoughness=new er,yield this.pbrMetallicRoughness.parse(e,t.pbrMetallicRoughness)),void 0!==t.normalTexture&&(this.normalTexture=yield e._loadElement(t.normalTexture)),void 0!==t.occlusionTexture&&(this.occlusionTexture=yield e._loadElement(t.occlusionTexture)),void 0!==t.emissiveTexture&&(this.emissiveTexture=yield e._loadElement(t.emissiveTexture)),this.name=t.name,this.setupMaterials()}))}assignSamplerTexture(e,t){t.glTexturePromise.then(t=>{e.set(t)})}setupMaterials(){const e=new gr(this.name);e.glconfig.enableDepthTest(),e.glconfig.enableCullface(!this.doubleSided),e.doubleSided.set(this.doubleSided),this.alphaMode===Ao.MaterialAlphaMode.BLEND?(e.glconfig.enableBlend(),e.glconfig.blendFunc(770,771),e.mask=To.getRenderConfig().blendedMask):e.mask=To.getRenderConfig().opaqueMask,e.alphaMode.set(this.alphaMode),this.alphaMode===Ao.MaterialAlphaMode.MASK&&e.alphaCutoff.attachUniform("uAlphaCutoff").set(this.alphaCutoff);const t=this.pbrMetallicRoughness;if(void 0!==t){if(t.baseColorTexture){const n=t.baseColorTexture.createMaterialTexCoords(e.texCoords),i=new hi.a("tBaseColor",n);this.assignSamplerTexture(i,t.baseColorTexture.texture),e.baseColor.attach(i,"rgb"),e.alpha.attach(i,"a")}if(t.metallicRoughnessTexture){const n=t.metallicRoughnessTexture.createMaterialTexCoords(e.texCoords),i=new hi.a("tMetalicRoughness",n);this.assignSamplerTexture(i,t.metallicRoughnessTexture.texture),e.metalness.attach(i,"b"),e.roughness.attach(i,"g")}(function(e){for(let t=0;t<e.length;t++)if(1!==e[t])return!1;return!0})(t.baseColorFactor)||e.baseColorFactor.attachUniform("uBasecolorFactor").set(...t.baseColorFactor),1!==t.metallicFactor&&e.metalnessFactor.attachUniform("uMetalnessFactor").set(t.metallicFactor),1!==t.roughnessFactor&&e.roughnessFactor.attachUniform("uRoughnessFactor").set(t.roughnessFactor)}if(this.emissiveTexture){const t=this.emissiveTexture.createMaterialTexCoords(e.texCoords),n=e.emissive.attachSampler("tEmissive",t);this.assignSamplerTexture(n,this.emissiveTexture.texture)}(function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return!1;return!0})(this.emissiveFactor)||e.emissiveFactor.attachUniform("uEmissFactor").set(...this.emissiveFactor);const n=this.normalTexture;if(n){const t=n.createMaterialTexCoords(e.texCoords),i=e.normal.attachSampler("tNormal",t);this.assignSamplerTexture(i,n.texture),1!==n.scale&&e.normalScale.attachUniform("uNormalScale").set(n.scale)}const i=this.occlusionTexture;if(i){const t=i.createMaterialTexCoords(e.texCoords),n=e.occlusion.attachSampler("tOcclusion",t);this.assignSamplerTexture(n,i.texture),1!==i.strength&&e.occlusionStrength.attachUniform("uOccluStrength").set(i.strength)}this._materialPass=e}}var fr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class br{constructor(){this.gltftype="meshes"}parse(e,t){return fr(this,void 0,void 0,(function*(){const n=t.primitives.map(t=>e._loadElement(t));this.primitives=yield Promise.all(n),t.weights&&(this.weights=new Float32Array(t.weights))}))}}var Tr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Er{createMaterialTexCoords(e){const t=To.getSemantics().getAttributeName("TEXCOORD_"+this.texCoord);return e.getTexCoord(t).varying()}parse(e,t){return Tr(this,void 0,void 0,(function*(){var n;this.texture=yield e.getElement("textures",t.index),this.texCoord=null!==(n=t.texCoord)&&void 0!==n?n:0}))}}class wr extends Er{constructor(){super(...arguments),this.gltftype="textureInfo"}}var Cr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ar extends Er{constructor(){super(...arguments),this.gltftype="normalTextureInfo"}parse(e,t){const n=Object.create(null,{parse:{get:()=>super.parse}});return Cr(this,void 0,void 0,(function*(){var i;yield n.parse.call(this,e,t),this.scale=null!==(i=t.scale)&&void 0!==i?i:1}))}}var Sr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Rr extends Er{constructor(){super(...arguments),this.gltftype="occlusionTextureInfo"}parse(e,t){const n=Object.create(null,{parse:{get:()=>super.parse}});return Sr(this,void 0,void 0,(function*(){var i;yield n.parse.call(this,e,t),this.strength=null!==(i=t.strength)&&void 0!==i?i:1}))}}var yr=n(19),xr=n(94),Mr=n(33),Pr=n(30),Nr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ir{constructor(e,t){this.semantic=e,this.accessor=t,this.glslname=To.getSemantics().getAttributeName(e)}}class Lr{constructor(e){this.accessor=e,this.attributes=[]}addAttribute(e){this.attributes.push(e)}}class Or{constructor(){this._attributes=[]}get length(){return this._attributes.length}get attributes(){return this._attributes}add(e){this._attributes.push(e)}getSemantic(e){for(var t of this._attributes)if(t.semantic===e)return t;return null}getBuffersViewSets(){const e=new Map;for(var t of this._attributes){var n=t.accessor.bufferView;e.has(n)||e.set(n,new Lr(t.accessor)),e.get(n).addAttribute(t)}return Array.from(e.values())}}class Dr{constructor(){this.gltftype="primitives",this.material=null,this.indices=null,this.targets=null,this.bounds=new Pr.a}_calculaterBounds(){const e=this.attributes.getSemantic("POSITION");null!=e&&e.accessor.min&&e.accessor.max&&this.bounds.fromMinMax(e.accessor.min,e.accessor.max)}parse(e,t){return Nr(this,void 0,void 0,(function*(){if(this.attributes=new Or,yield this.parseAttributeSet(e,this.attributes,t.attributes),void 0!==t.indices&&(this.indices=yield e.getElement("accessors",t.indices)),void 0!==t.material?this.material=yield e.getElement("materials",t.material):this.material=yield e.loadDefaultMaterial(),void 0!==t.mode?this.mode=t.mode:this.mode=Ao.MeshPrimitiveMode.DEFAULT,void 0!==t.targets){this.targets=[];for(let n=0;n<t.targets.length;n++){const i=t.targets[n],s=new Or;yield this.parseMorphAttributeSet(e,s,i,n),this.targets.push(s)}}this._calculaterBounds()}))}parseAttributeSet(e,t,n){return Nr(this,void 0,void 0,(function*(){for(const i in n){const s=yield e.getElement("accessors",n[i]);t.add(new Ir(i,s))}}))}parseMorphAttributeSet(e,t,n,i){return Nr(this,void 0,void 0,(function*(){for(const s in n){const o=yield e.getElement("accessors",n[s]),r=new Ir(s,o);r.glslname=To.getSemantics().getMorphedAttributeName(r.semantic,i),t.add(r)}}))}allocateGl(e){this._vaoMap=new Map,this.buffers=[];const t=this.attributes.getBuffersViewSets();for(const n of t)this.buffers.push(this.createArrayBuffer(e,n));if(null!==this.indices){const t=this.indices.bufferView.getWebGLBuffer(e,34963);this.indexBuffer=new Mr.a(e,this.indices.componentType,void 0,e.STATIC_DRAW,t),this.indexBuffer.byteLength=this.indices.bufferView.byteLength}if(null!==this.targets)for(let t=0;t<this.targets.length;t++){const n=this.targets[t].getBuffersViewSets();for(const t of n)this.buffers.push(this.createArrayBuffer(e,t))}}createArrayBuffer(e,t){const n=t.accessor.bufferView,i=n.getWebGLBuffer(e,34962),s=new yr.a(e,void 0,e.STATIC_DRAW,i);s.byteLength=n.byteLength,s.stride=t.accessor._stride,s._computeLength();for(const e of t.attributes){const t=this.createAttributeDefinition(e);s.attribs.push(t)}return s}createAttributeDefinition(e){const t=e.accessor;return{name:e.glslname,type:t.componentType,size:t.numComps,normalize:t.normalized,offset:t.byteOffset,stride:t._stride}}getVao(e){const t=e._cuid.toString();if(!this._vaoMap.has(t)){const n=new xr.a(e.gl);n.setup(e,this.buffers,this.indexBuffer),this._vaoMap.set(t,n)}return this._vaoMap.get(t)}bindVao(e){this._currentVao=this.getVao(e),this._currentVao.bind()}render(){this.indexBuffer?this.indexBuffer.draw(this.mode,this.indices.count,this.indices.byteOffset):this.buffers[0].draw(this.mode)}unbindVao(){this._currentVao.unbind()}}class Fr{constructor(){this.gltftype="samplers"}parse(e,t){var n,i;return this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.wrapS=null!==(n=t.wrapS)&&void 0!==n?n:10497,this.wrapT=null!==(i=t.wrapT)&&void 0!==i?i:10497,Promise.resolve()}}var Br=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ur{constructor(){this.gltftype="scenes"}parse(e,t){return Br(this,void 0,void 0,(function*(){if(void 0!==t.nodes){const n=t.nodes.map(t=>e.getElement("nodes",t));this.nodes=yield Promise.all(n)}else this.nodes=[]}))}updateNodes(){for(let e=0;e<this.nodes.length;e++)this.nodes[e].updateWorldMatrix()}}var Vr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const Gr=W.mat4.create();class kr{constructor(){this.gltftype="skins"}parse(e,t){return Vr(this,void 0,void 0,(function*(){const n=t.joints.map(t=>e.getElement("nodes",t));if(this.joints=yield Promise.all(n),this.inverseBindMatrices=this.joints.map(W.mat4.create),void 0!==t.inverseBindMatrices){const n=yield e.getElement("accessors",t.inverseBindMatrices);this.inverseBindMatrices.forEach((e,t)=>n.getValue(e,t))}void 0!==t.skeleton&&(this.skeletonRoot=yield e.getElement("nodes",t.skeleton))}))}computeJoints(e,t){if(t.length!==this.joints.length)throw new Error("Skin.computeJoints(), jointMatrices size must match joints size");W.mat4.invert(Gr,e._wmatrix);for(let e=0;e<this.joints.length;e++){const n=this.joints[e],i=this.inverseBindMatrices[e],s=t[e];W.mat4.mul(s,n._wmatrix,i),W.mat4.mul(s,Gr,s)}}}class Hr{constructor(){this.resolve=e=>{this._resolve(e)},this.reject=e=>{this._reject(e)},this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}}var zr=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function Wr(e){return 256==(256&e)}function jr(e){return 10497===e||33648===e}function Xr(e){return 0!=e&&0==(e&e-1)}function qr(e){return Xr(e)?e:(e%2==1&&e++,Math.pow(2,Math.round(Math.log(e)/Math.log(2))))}class $r{constructor(){this.gltftype="textures",this._glTextureDeferred=new Hr}get glTexturePromise(){return this._glTextureDeferred.promise}parse(e,t){return zr(this,void 0,void 0,(function*(){void 0!==t.sampler&&(this.sampler=yield e.getElement("samplers",t.sampler)),void 0!==t.source&&(this.source=yield e.getElement("images",t.source))}))}allocateGl(e){return zr(this,void 0,void 0,(function*(){var t,n;let i=e.RGBA;this.source.mimeType===Ao.ImageMimeType.JPEG&&(i=e.RGBA);let s=e.LINEAR,o=e.LINEAR,r=e.REPEAT,a=e.REPEAT;this.sampler&&(s=null!==(t=this.sampler.minFilter)&&void 0!==t?t:e.LINEAR,o=null!==(n=this.sampler.magFilter)&&void 0!==n?n:e.LINEAR,r=this.sampler.wrapS,a=this.sampler.wrapT);let l=this.source.texImageSource;(jr(r)||jr(a)||Wr(s))&&(Xr(l.width)&&Xr(l.height)||(l=yield this.resizeToPOT(l,e))),this.glTexture=new De.a(e,i,e.UNSIGNED_BYTE),this.glTexture.fromImage(l),Wr(s)&&e.generateMipmap(e.TEXTURE_2D),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,a),this._glTextureDeferred.resolve(this.glTexture)}))}resizeToPOT(e,t){return zr(this,void 0,void 0,(function*(){const t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=qr(e.width),t.height=qr(e.height),e instanceof ImageData){const i=yield createImageBitmap(e,0,0,t.width,t.height);n.drawImage(i,0,0,t.width,t.height)}else n.drawImage(e,0,0,t.width,t.height);return t}))}}function Yr(e){let t="";return t+="\n\n\n\n",!0===e.pv&&(t+=`\n\n#define SKIN_NUM_JOINTS ${e.numJoints}\n\nuniform mat4 uJoints[SKIN_NUM_JOINTS];\n\n${e.attribDecl}\n\nmat4 ComputeSkinMatrix() {\n  mat4 SM = ${e.matrixSum};\n  return SM;\n}\n\n\n`),t+="\n\n\n",!0===e.vertex_warp&&(t+="\n  \n  mat4 skinMatrix = ComputeSkinMatrix();\n  worldMatrix = worldMatrix * skinMatrix;\n  mvp         = uVP * worldMatrix;\n  // worldMatrix = skinMatrix ;\n\n"),t+="\n",t}Yr.toString=Yr;var Kr=Yr;const Zr=["x","y","z","w"];function Qr(e){let t="";for(const i of e){const e=1===(n=i.numComponents)?"float":"vec"+n;t+=`\nIN ${e} ${i.jointsAttrib}; \nIN ${e} ${i.weightsAttrib};`}var n;return t}function Jr(e){const t=[];for(const n of e){const e=n.numComponents;for(let i=0;i<e;i++){const s=1===e?"":"."+Zr[i],o=n.jointsAttrib+s,r=n.weightsAttrib+s;t.push(`uJoints[int(${o})] * ${r}`)}}return t.join("+ \n  ")}var ea={preVertexCode:e=>Kr({pv:!0,numJoints:e._numJoints,attribDecl:Qr(e._attributeSets),matrixSum:Jr(e._attributeSets)}),vertexCode:()=>Kr({vertex_warp:!0})};class ta extends Ns.a{constructor(){super(!0,!0)}set numJoints(e){this._numJoints=e,this._createJointsBuffer(),this.invalidateCode()}get numJoints(){return this._numJoints}get jointMatrices(){return this._jointMatrices}setAttributeSet(e){this._attributeSets=e,this.invalidateCode()}setup(e){e.uJoints(this._jointsBuffer)}_createJointsBuffer(){this._jointsBuffer=new Float32Array(16*this._numJoints),this._jointMatrices=[];const e=this._jointsBuffer.buffer;for(let t=0;t<this._numJoints;t++)this._jointMatrices.push(new Float32Array(e,16*t*4,16))}_genCode(e){e.add("pv",ea.preVertexCode(this)),e.add("vertex_warp",ea.vertexCode())}_getHash(){let e="";for(const t of this._attributeSets)e+=t.jointsAttrib+t.weightsAttrib+t.numComponents;return e+=this._numJoints,e}}function na(e){return e.attributes.map((t,n)=>`IN ${e.type} ${t};`).join("\n")}function ia(e){const t=e.attributes.map((e,t)=>`${e} * uMorphWeights[${t}]`).join(" +\n ");return`void MorphAttribute_${e.name}( inout ${e.type} ${e.name} ){\n    ${e.name} += ${t};\n  }`}function sa(e){return`MorphAttribute_${e.name}( ${e.name} );`}function oa(e){return e.map(ia).join("\n")}var ra={preVertexCode(e){return[(n=e.numTargets,`uniform float uMorphWeights[${n}];`),(t=e.morphInfos,t.map(na).join("\n")),oa(e.morphInfos)].join("\n");var t,n},vertexCode:e=>e.morphInfos.map(sa).join("\n")};class aa extends Ns.a{constructor(){super(!0,!0)}set weights(e){if(e.length!==this.numTargets)throw new Error("MorphDeformer weights length and numMorph must match");this._weights=e}get weights(){return this._weights}get numTargets(){return this._morphInfos[0].attributes.length}get morphInfos(){return this._morphInfos}set morphInfos(e){this.validateInfos(e),this._morphInfos=e,this.weights=new Float32Array(this.numTargets),this.invalidateCode()}validateInfos(e){const t=e[0].attributes.length;for(let n=1;n<e.length;n++)if(e[n].attributes.length!==t)throw new Error("MorphDeformer mutiple morph dont have the same size")}setup(e){e.uMorphWeights(this._weights)}_genCode(e){e.add("pv",ra.preVertexCode(this)),e.add("vertex_warp",ra.vertexCode(this))}_getHash(){return"mrph"}}function la(e){if(e<1||e>4)throw new Error("number is not Component size")}class da{constructor(e,t){this.materials=[],this.bounds=new Pr.a,this._skins=[],_o.isDefined(t.mesh),this.node=t,this.mesh=t.mesh,this.setupMaterials(e),this.computeBounds()}setupMaterials(e){for(const t of this.mesh.primitives){const n=t.material.createMaterialForPrimitive(e,this.node,t);this.configureDeformers(n,t),this.materials.push(n)}}configureDeformers(e,t){this.configureSkin(e,t),this.configureMorph(e,t)}configureMorph(e,t){if(null!==t.targets){const n=t.targets[0].attributes,i=[];for(const e of n){const n=t.targets.map(t=>t.getSemantic(e.semantic).glslname),s={name:e.semantic.toLowerCase(),type:e.accessor.glslType,attributes:n};i.push(s)}const s=new aa;s.morphInfos=i,this.node.weights?s.weights=this.node.weights:this.mesh.weights&&(s.weights=this.mesh.weights),e.inputs.add(s)}}configureSkin(e,t){if(this.node.skin){const n=new ta;n.numJoints=this.node.skin.joints.length;const i=[];let s=0;for(;;){const e="WEIGHTS_"+s,n="JOINTS_"+s,o=t.attributes.getSemantic(e),r=t.attributes.getSemantic(n);if(null===o!=(null===r))throw new Error("Skin attributes inconsistency");if(null===o)break;if(o.accessor.numComps!==r.accessor.numComps)throw new Error("weight and joints attribute dont have the same size");const a=o.accessor.numComps;la(a),i.push({weightsAttrib:o.glslname,jointsAttrib:r.glslname,numComponents:a}),s++}n.setAttributeSet(i),e.inputs.add(n),this._skins.push(n)}this.node.weights}computeBounds(){this.bounds.copyFrom(this.mesh.primitives[0].bounds);for(const e of this.mesh.primitives)Pr.a.union(this.bounds,this.bounds,e.bounds)}render(e,t,n,i,s){const o=e.glstate,r=this.mesh.primitives;for(const e of this._skins)this.node.skin.computeJoints(this.node,e.jointMatrices);for(let e=0;e<r.length;e++){const a=r[e],l=this.materials[e];if(!l.hasPass(i)||0==(l.mask&n))continue;const d=l.getPass(i);0!=(d.pass.mask&n)&&(d.prepare(this.node,t),o.push(d.pass.glconfig),l.glconfig&&o.push(l.glconfig),this.glconfig&&o.push(this.glconfig),s&&o.push(s),o.apply(),this.drawCall(t,d.getProgram(),a),o.pop(),l.glconfig&&o.pop(),this.glconfig&&o.pop(),s&&o.pop())}}drawCall(e,t,n){n.bindVao(t),n.render(),n.unbindVao()}}var ca=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class ua extends An.a{constructor(){super(...arguments),this.gltftype="nodes"}parse(e,t){return ca(this,void 0,void 0,(function*(){if(this.name=t.name,this.extras=t.extras,void 0!==t.camera&&(this.camera=yield e.getElement("cameras",t.camera)),void 0!==t.matrix&&this.setMatrix(new Float32Array(t.matrix)),void 0!==t.scale&&this.scale.set(t.scale),void 0!==t.translation&&this.position.set(t.translation),void 0!==t.rotation&&this.rotation.set(t.rotation),void 0!==t.weights&&(this.weights=new Float32Array(t.weights)),void 0!==t.children){const i=t.children.map(t=>e.getElement("nodes",t)),s=yield Promise.all(i);for(var n of s)this.add(n)}void 0!==t.skin&&(this.skin=yield e.getElement("skins",t.skin)),void 0!==t.mesh&&(this.mesh=yield e.getElement("meshes",t.mesh)),this.invalidate()}))}allocateGl(e){this.mesh&&(this.renderable=new da(e,this))}set weights(e){this.mesh.weights.set(e)}get weights(){return this.mesh.weights}}var ha=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const pa=void 0!==window.createImageBitmap;class _a{constructor(){this.gltftype="images"}parse(e,t){return ha(this,void 0,void 0,(function*(){t.uri&&(this.uri=t.uri,0==this.uri.indexOf("data:")?this.resolvedUri=this.uri:this.resolvedUri=e.resolveUri(this.uri)),this.mimeType=t.mimeType,void 0!==t.bufferView&&(this.bufferView=yield e.getElement("bufferViews",t.bufferView)),this.texImageSource=yield this.loadImage()}))}loadImage(){return ha(this,void 0,void 0,(function*(){if(this.bufferView){const e=new Uint8Array(this.bufferView.buffer._bytes,this.bufferView.getByteOffset(),this.bufferView.byteLength),t=new Blob([e],{type:this.mimeType});return this.loadImageBuffer(t)}{const e=yield fetch(this.resolvedUri),t=yield e.blob();return this.loadImageBuffer(t)}}))}loadImageBuffer(e){return ha(this,void 0,void 0,(function*(){if(pa)return createImageBitmap(e);{const t=new window.Image,n=URL.createObjectURL(e);new Promise((e,i)=>{t.onload=e,t.onerror=i,t.src=n}).finally(()=>URL.revokeObjectURL(n)).then(()=>t)}}))}}class ga{constructor(){this.gltftype="asset"}parse(e,t){return this.version=t.version,this.copyright=t.copyright,this.generator=t.generator,this.minVersion=t.minVersion,Promise.resolve()}}var ma=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class va{constructor(){this.gltftype="buffers"}parse(e,t){return ma(this,void 0,void 0,(function*(){this.byteLength=t.byteLength,this.uri=t.uri,this._byteOffset=0,this._bytes=yield e.loadBufferUri(t.uri),_o.isTrue(null!==this._bytes)}))}}var fa=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class ba{constructor(){this.gltftype="bufferViews",this.byteOffset=0,this.byteLength=0,this.byteStride=0,this.target=0,this.glBuffer=null,this.glBufferTarget=0}parse(e,t){return fa(this,void 0,void 0,(function*(){const{byteLength:n,byteOffset:i=0,byteStride:s=0,target:o=0}=t;this.byteLength=n,this.byteOffset=i,this.byteStride=s,this.target=o,this.buffer=yield e.getElement("buffers",t.buffer)}))}getByteOffset(){return this.byteOffset+this.buffer._byteOffset}getWebGLBuffer(e,t){if(0!==this.target&&this.target!==t)throw new Error(`BufferView's target ${this.target} doesn't match infered one ${t}`);if(null!==this.glBuffer){if(this.glBufferTarget!==t)throw new Error("WebglBuffers with different target requested on BufferView")}else{const n=new Uint8Array(this.buffer._bytes,this.getByteOffset(),this.byteLength);this.glBufferTarget=t,this.glBuffer=e.createBuffer(),e.bindBuffer(t,this.glBuffer),e.bufferData(t,n,e.STATIC_DRAW),e.bindBuffer(t,null)}return this.glBuffer}}var Ta=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ea{constructor(){this.gltftype="sparse"}parse(e,t,...n){return Ta(this,void 0,void 0,(function*(){this.accessor=yield e.getElement("accessors",t.elementParent.elementIndex),this.indices=yield e._loadElement(t.indices),this.values=yield e._loadElement(t.values);const n=this.indicesSet=new Set,i=this.indicesMap=new Map,s=this.indices,o=s.count;for(var r=0;r<o;r++){var a=s.getScalar(r);n.add(a),i.set(a,r)}}))}getRawValue(e,t){this.indicesSet.has(t)?this.values.getRawValue(e,this.indicesMap.get(t)):this.accessor.getRawValue(e,t)}getRawScalar(e){return this.indicesSet.has(e)?this.values.getRawScalar(this.indicesMap.get(e)):this.accessor.getRawScalar(e)}}var wa=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Ca extends Ko{constructor(){super(...arguments),this.gltftype="sparseIndices"}parse(e,t){return wa(this,void 0,void 0,(function*(){var n;const i=t.elementParent;this.normalized=!1,this.byteOffset=null!==(n=t.byteOffset)&&void 0!==n?n:0,this.componentType=t.componentType,this.count=i.count,this.type=Ao.AccessorType.SCALAR,this.sparse=null,this.bufferView=yield e.getElement("bufferViews",t.bufferView);const s=Yo(this.componentType);return 0===this.bufferView.byteStride?(this._stride=this.numComps*this.bytesPerElem,this._strideElem=this.numComps):(this._stride=this.bufferView.byteStride,this._strideElem=this._stride/s.BYTES_PER_ELEMENT,_o.isTrue(this._strideElem===Math.round(this._strideElem))),this._array=new s(this.bufferView.buffer._bytes,this.byteOffset+this.bufferView.getByteOffset(),this.count*this._strideElem),this._valueHolder=this.createElementHolder(),Promise.resolve()}))}}var Aa=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Sa extends Ko{constructor(){super(...arguments),this.gltftype="sparseValues"}parse(e,t){return Aa(this,void 0,void 0,(function*(){var n,i;const s=t.elementParent,o=s.elementParent;this.byteOffset=null!==(n=t.byteOffset)&&void 0!==n?n:0,this.count=s.count,this.normalized=null!==(i=o.normalized)&&void 0!==i&&i,this.componentType=o.componentType,this.type=o.type,this.sparse=null,this.bufferView=yield e.getElement("bufferViews",t.bufferView);const r=Yo(this.componentType);return 0===this.bufferView.byteStride?(this._stride=this.numComps*this.bytesPerElem,this._strideElem=this.numComps):(this._stride=this.bufferView.byteStride,this._strideElem=this._stride/r.BYTES_PER_ELEMENT,_o.isTrue(this._strideElem===Math.round(this._strideElem))),this._array=new r(this.bufferView.buffer._bytes,this.byteOffset+this.bufferView.getByteOffset(),this.count*this._strideElem),this._valueHolder=this.createElementHolder(),Promise.resolve()}))}}var Ra=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class ya{constructor(e){this.name="default",this.priority=0,this.loader=e}acceptElement(e,t){return null}loadElement(e){switch(e.gltftype){case"accessors":return this.createAccessor(e);case"sparse":return this.createAccessorSparse(e);case"sparseIndices":return this.createAccessorSparseIndices(e);case"sparseValues":return this.createAccessorSparseValues(e);case"animations":return this.createAnimation(e);case"animationSamplers":return this.createAnimationSampler(e);case"animationChannels":return this.createAnimationChannel(e);case"asset":return this.createAsset(e);case"buffers":return this.createBuffer(e);case"bufferViews":return this.createBufferview(e);case"cameras":return this.createCamera(e);case"images":return this.createImage(e);case"materials":return this.createMaterial(e);case"meshes":return this.createMesh(e);case"nodes":return this.createNode(e);case"normalTextureInfo":return this.createNormalTextureInfo(e);case"occlusionTextureInfo":return this.createOcclusionTextureInfo(e);case"primitives":return this.createPrimitive(e);case"samplers":return this.createSampler(e);case"scenes":return this.createScene(e);case"skins":return this.createSkin(e);case"textures":return this.createTexture(e);case"textureInfo":return this.createTextureInfo(e)}}createAccessor(e){return Ra(this,void 0,void 0,(function*(){const t=new Zo;return yield t.parse(this.loader,e),t}))}createAccessorSparse(e){return Ra(this,void 0,void 0,(function*(){const t=new Ea;return yield t.parse(this.loader,e),t}))}createAccessorSparseIndices(e){return Ra(this,void 0,void 0,(function*(){const t=new Ca;return yield t.parse(this.loader,e),t}))}createAccessorSparseValues(e){return Ra(this,void 0,void 0,(function*(){const t=new Sa;return yield t.parse(this.loader,e),t}))}createAsset(e){return Ra(this,void 0,void 0,(function*(){const t=new ga;return yield t.parse(this.loader,e),t}))}createBuffer(e){return Ra(this,void 0,void 0,(function*(){const t=new va;return yield t.parse(this.loader,e),t}))}createBufferview(e){return Ra(this,void 0,void 0,(function*(){const t=new ba;return yield t.parse(this.loader,e),t}))}createAnimationChannel(e){return Ra(this,void 0,void 0,(function*(){const t=new Po;return yield t.parse(this.loader,e),t}))}createAnimationSampler(e){return Ra(this,void 0,void 0,(function*(){const t=new Go;return yield t.parse(this.loader,e),t}))}createAnimation(e){return Ra(this,void 0,void 0,(function*(){const t=new Co;return yield t.parse(this.loader,e),t}))}createCamera(e){return Ra(this,void 0,void 0,(function*(){const t=new Qo;return yield t.parse(this.loader,e),t}))}createImage(e){return Ra(this,void 0,void 0,(function*(){const t=new _a;return yield t.parse(this.loader,e),t}))}createMaterial(e){return Ra(this,void 0,void 0,(function*(){const t=new vr;return yield t.parse(this.loader,e),t}))}createMesh(e){return Ra(this,void 0,void 0,(function*(){const t=new br;return yield t.parse(this.loader,e),t}))}createNode(e){return Ra(this,void 0,void 0,(function*(){const t=new ua;return yield t.parse(this.loader,e),t}))}createNormalTextureInfo(e){return Ra(this,void 0,void 0,(function*(){const t=new Ar;return yield t.parse(this.loader,e),t}))}createOcclusionTextureInfo(e){return Ra(this,void 0,void 0,(function*(){const t=new Rr;return yield t.parse(this.loader,e),t}))}createPbrMetallicRoughness(e){return Ra(this,void 0,void 0,(function*(){const t=new er;return yield t.parse(this.loader,e),t}))}createPrimitive(e){return Ra(this,void 0,void 0,(function*(){const t=new Dr;return yield t.parse(this.loader,e),t}))}createSampler(e){return Ra(this,void 0,void 0,(function*(){const t=new Fr;return yield t.parse(this.loader,e),t}))}createScene(e){return Ra(this,void 0,void 0,(function*(){const t=new Ur;return yield t.parse(this.loader,e),t}))}createSkin(e){return Ra(this,void 0,void 0,(function*(){const t=new kr;return yield t.parse(this.loader,e),t}))}createTexture(e){return Ra(this,void 0,void 0,(function*(){const t=new $r;return yield t.parse(this.loader,e),t}))}createTextureInfo(e){return Ra(this,void 0,void 0,(function*(){const t=new wr;return yield t.parse(this.loader,e),t}))}}const xa=new class{constructor(){this.name="default"}createInstance(e){return new ya(e)}};To.addExtension(xa);var Ma=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};let Pa=0;const Na={gltftype:"materials",elementIndex:-1,elementParent:null,uuid:"_default_mat_",name:"default"};class Ia{constructor(e,t){this.data=e,this.promise=t}}class La{constructor(e,t,n={}){this._elements=new Map,this._pendingElements=[],this._byType=new Map,this._propertyMaps=new Map,this.unpack=e=>{if(1179937895===new Uint32Array(e,0,1)[0])this.unpackGlb(e);else{const t=this.gltfIO.decodeUTF8(e);this._data=JSON.parse(t),this.prepareGltfDatas(this._data)}return Promise.resolve(!0)},this.loadBufferUri=e=>{if(void 0===e)return Promise.resolve(this._glbData);const t=this.gltfIO.resolvePath(e,this._baseUrl);return this.gltfIO.loadBinaryResource(t)},this.parseAll=()=>Ma(this,void 0,void 0,(function*(){if(this._extensions.validate(this._data.extensionsUsed,this._data.extensionsRequired),this._loadElement(this._data.asset),void 0!==this._data.nodes)for(const e of this._data.nodes)this._loadElement(e);if(void 0!==this._data.animations)for(const e of this._data.animations)this._loadElement(e);yield this.resolveElements()})),this.yieldGltf=()=>Promise.resolve(this.gltf),this.gltfIO=e,this._url=t,this._baseUrl=n.baseurl,void 0===this._baseUrl&&([this._baseUrl,this._url]=e.resolveBaseDir(this._url)),this.gltf=new To,this._data=null,this._extensions=new go,To.getExtensionsRegistry().setupExtensions(this,n.extensions)}load(){return this.gltfIO.loadBinaryResource(this.gltfIO.resolvePath(this._url,this._baseUrl)).then(this.unpack).then(this.parseAll).then(this.yieldGltf)}unpackGlb(e){const[,t,,n,i]=new Uint32Array(e,0,5);if(2!==t)throw new Error("Binary glTF version is not 2");if(1313821514!==i)throw new Error("Binary glTF scene format is not JSON");const s=this.gltfIO.decodeUTF8(e,20,n);this._glbData=e.slice(20+n+8),this._data=JSON.parse(s),this.prepareGltfDatas(this._data)}resolveUri(e){return this.gltfIO.resolvePath(e,this._baseUrl)}_createElement(e){return Ma(this,void 0,void 0,(function*(){let t=yield this._createElementInstance(e);return this._extensionsAccept(e,t)}))}_createElementInstance(e){const t=this._extensions._list;for(const n of t){const t=n.loadElement(e);if(void 0===t)throw new Error("extensiosn should not return undefined");if(null!==t)return t}throw new Error("Unhandled type")}_extensionsAccept(e,t){return Ma(this,void 0,void 0,(function*(){const n=this._extensions._list;let i;for(const s of n)i=s.acceptElement(e,t),null!==i&&(t=yield i);return t}))}_loadElement(e){let t=this._elements.get(e.uuid);if(void 0===t){t=this._createElement(e);const n=new Ia(e,t);this._pendingElements.push(n),this._elements.set(e.uuid,t)}return t}loadDefaultMaterial(){return this._loadElement(Na)}_getElementHolder(e){let t=this._byType.get(e);return void 0===t&&(t=[],this._byType.set(e,t)),t}getElement(e,t){const n=this._getElementHolder(e);if(void 0!==n[t])return n[t];const i=this._propertyMaps.get(e)[t];return this._loadElement(i)}resolveElements(){return Ma(this,void 0,void 0,(function*(){for(;this._pendingElements.length>0;){const e=this._pendingElements.splice(0,this._pendingElements.length),t=yield Promise.all(e.map(e=>e.promise));for(let n=0;n<e.length;n++){const i=t[n],s=e[n].data;_o.isDefined(i.gltftype),i.name=s.name,i.extras=s.extras,this.gltf.addElement(t[n],e[n].data.elementIndex)}}}))}prepareGltfDatas(e){if(this.prepareGltfRootProperties(e.accessors,"accessors",null),this.prepareGltfRootProperties(e.animations,"animations",null),this.prepareGltfRootProperties([e.asset],"asset",null),this.prepareGltfRootProperties(e.buffers,"buffers",null),this.prepareGltfRootProperties(e.bufferViews,"bufferViews",null),this.prepareGltfRootProperties(e.cameras,"cameras",null),this.prepareGltfRootProperties(e.images,"images",null),this.prepareGltfRootProperties(e.materials,"materials",null),this.prepareGltfRootProperties(e.meshes,"meshes",null),this.prepareGltfRootProperties(e.nodes,"nodes",null),this.prepareGltfRootProperties(e.samplers,"samplers",null),this.prepareGltfRootProperties(e.scenes,"scenes",null),this.prepareGltfRootProperties(e.skins,"skins",null),this.prepareGltfRootProperties(e.textures,"textures",null),void 0!==e.animations)for(const t of e.animations)this.prepareGltfProperties(t.samplers,"animationSamplers",t),this.prepareGltfProperties(t.channels,"animationChannels",t);if(void 0!==e.materials)for(const t of e.materials)this.prepareGltfProperty(t.normalTexture,"normalTextureInfo",-1,t),this.prepareGltfProperty(t.occlusionTexture,"occlusionTextureInfo",-1,t),this.prepareGltfProperty(t.emissiveTexture,"textureInfo",-1,t),void 0!==t.pbrMetallicRoughness&&(this.prepareGltfProperty(t.pbrMetallicRoughness.baseColorTexture,"textureInfo",-1,t),this.prepareGltfProperty(t.pbrMetallicRoughness.metallicRoughnessTexture,"textureInfo",-1,t));if(void 0!==e.meshes)for(const t of e.meshes)this.prepareGltfProperties(t.primitives,"primitives",t);if(void 0!==e.accessors)for(const t of e.accessors)this.prepareGltfProperty(t.sparse,"sparse",-1,t),void 0!==t.sparse&&(this.prepareGltfProperty(t.sparse.indices,"sparseIndices",-1,t.sparse),this.prepareGltfProperty(t.sparse.values,"sparseValues",-1,t.sparse))}prepareGltfProperties(e,t,n){if(void 0!==e)for(let i=0;i<e.length;i++){const s=e[i];this.prepareGltfProperty(s,t,i,n)}}prepareGltfRootProperties(e,t,n){if(void 0!==e){this._propertyMaps.set(t,e);for(let i=0;i<e.length;i++){const s=e[i];this.prepareGltfProperty(s,t,i,n)}}}prepareGltfProperty(e,t,n,i){void 0!==e&&(e.gltftype=t,e.uuid=Pa+++"",e.elementIndex=n,e.elementParent=i)}}var Oa=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var Da=new class{constructor(e){this._ioImpl=e}loadGltf(e,t={}){return new La(this._ioImpl,e,t).load()}}(new class{isDataURI(e){return 0===e.indexOf("data:")}decodeDataURI(e){if(0!==e.indexOf("data:"))throw new Error("invalid dataURI");var t=e.substr(e.indexOf(",")+1);return lo.a.toByteArray(t).buffer}resolveBaseDir(e){return function(e){const t=e.lastIndexOf("/");return[e.substr(0,t),e.substr(t+1)]}(e)}resolvePath(e,t){return void 0===t||this.isDataURI(e)?e:t+"/"+e}decodeUTF8(e,t=0,n){return ho(new Uint8Array(e,t,n))}loadResource(e){return Oa(this,void 0,void 0,(function*(){return(yield fetch(e)).text()}))}loadBinaryResource(e){return Oa(this,void 0,void 0,(function*(){if(this.isDataURI(e))return this.decodeDataURI(e);return(yield fetch(e)).arrayBuffer()}))}writeResource(e,t){throw new Error("Method not implemented.")}writeBinaryResource(e,t){throw new Error("Method not implemented.")}});class Fa{constructor(e){this.gltftype="materials",this._material=e}createMaterialForPrimitive(e,t,n){return this._material}parse(e,t){return null}}class Ba{constructor(e,t){this.name="material_override",this.priority=10,this.loader=e,this.materials=t}acceptElement(e,t){return null}loadElement(e){switch(e.gltftype){case"materials":return this.createMaterial(e);default:return null}}createMaterial(e){const t=this.materials[e.name];if(void 0!==t){const e=new Fa(t);return Promise.resolve(e)}return null}}class Ua{constructor(){this.name="material_override"}createInstance(e){if(void 0===this.overrides)throw new Error("MaterialOverrideExtension overrides not set");return new Ba(e,this.overrides)}}const Va=j.a.vec3,Ga=j.a.mat4,ka=j.a.mat3,Ha=Va.create(),za=Va.create(),Wa=Va.create(),ja=Va.create(),Xa=Va.create(),qa=Ga.create(),$a=ka.create(),Ya=Va.create(),Ka=Va.create();var Za=class{constructor(e,t,n,i){this.node=e,this.indices=t,this.vertices=n,this.doubleSided=!!i,this.pos=new Float32Array(3),this.id=""}raycast(e,t){Ga.invert(qa,this.node._wmatrix),ka.fromMat4($a,qa),Va.transformMat4(Ya,e.pos,qa),Va.transformMat3(Ka,e.dir,$a);for(var n,i,s,o,r=Ya,a=Ka,l=this.indices,d=this.vertices,c=0;c<l.length;c+=3){n=3*l[c+0],i=3*l[c+1],s=3*l[c+2],Ha[0]=d[i+0]-d[n+0],Ha[1]=d[i+1]-d[n+1],Ha[2]=d[i+2]-d[n+2],za[0]=d[s+0]-d[n+0],za[1]=d[s+1]-d[n+1],za[2]=d[s+2]-d[n+2],Va.cross(Wa,Ha,za);var u=Va.dot(a,Wa);if(u>0){if(!this.doubleSided)continue;o=1}else{if(!(u<0))continue;o=-1,u=-u}ja[0]=r[0]-d[n+0],ja[1]=r[1]-d[n+1],ja[2]=r[2]-d[n+2],Va.cross(Xa,ja,za);var h=o*Va.dot(a,Xa);if(!(h<0)){Va.cross(Xa,Ha,ja);var p=o*Va.dot(a,Xa);if(!(p<0||h+p>u)){var _=-o*Va.dot(ja,Wa);if(!(_<0))return Va.scaleAndAdd(Xa,r,a,_/u),Va.transformMat4(Xa,Xa,this.node._wmatrix),t[0]=Xa[0],t[1]=Xa[1],t[2]=Xa[2],t[3]=_/u,this.pos[0]=Xa[0],this.pos[1]=Xa[1],this.pos[2]=Xa[2],o}}}return 0}getPos(){return this.pos}};const Qa=W.vec3.create(),Ja=W.vec3.create(),el=W.vec3.create();class tl{constructor(e,t){this.closeupProgress=0,this._refCell=null,this.position=W.vec2.create(),this.xmargin=t,this.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.root=new An.a,this._picking=new Za(this.root),this.idlePos=W.vec3.create(),this.closeup=!1,this.setPosition(e)}get Picking(){return this._picking}setCloseup(e){this.closeup=e,this._refCell&&this._refCell.setCloseup(e)}isCloseup(){return this._refCell?this._refCell.isCloseup():this.closeup}updateCloseup(e){let t=this._refCell?this._refCell:this;t.closeupProgress+=.8*e,t.closeupProgress=$(this.closeupProgress)}getCloseupProgress(){return this._refCell?this._refCell.closeupProgress:this.closeupProgress}updateTransition(e){if(!this.transition)return 1;const t=this.transition;let n=$(t.progress);return W.vec3.lerp(el,t.startPos,t.targetPos,Zi(n)),this.root.x=el[0],this.root.y=el[1],this.root.invalidate(),t.progress+=e*(t.speed?t.speed:.7),t.progress=$(t.progress),t.progress}setPosition(e,t=!0){this.position.set(e),t&&(this.root.x=this.position[0]+this.xmargin,this.root.y=this.position[1],this.idlePos.set(this.root.position))}setScale(e,t=!0){this.scale=e,t&&this.root.setScale(this.scale)}setRotation(e,t=!0){this.angle=e,t&&this.root.rotateZ(this.angle)}restoreIdle(){this.transition=null,this.root.position.set(this.idlePos),this.root.invalidate()}setMediaData(e,t){this.mediaData=e,tt[this.mediaData.type]?this.materialRef=1+Math.floor(Math.random()*tt[this.mediaData.type]):this.materialRef=-1,this.primitive=t,Qa.set(this.primitive.bounds.min),Ja.set(this.primitive.bounds.max);let n=new Uint16Array([0,1,2,0,2,3]),i=new Float32Array([Qa[0],Qa[1],Qa[2],Ja[0],Qa[1],Qa[2],Ja[1],Ja[1],Qa[2],Qa[0],Ja[1],Qa[2]]);this._picking.indices=n,this._picking.vertices=i,this._picking.id=e.uuid}setProxy(e){this.mediaData=e.mediaData,this.materialRef=e.materialRef,this.primitive=e.primitive,this.scale=e.scale,this.angle=e.angle,this.uuid=e.uuid,this.root._parent.remove(this.root),this.root=e.root,this.idlePos.set(e.idlePos),this._picking=e._picking,this.primitive=e.primitive,this._refCell=e}}class nl{constructor(){this.grid={},this.colsMargin={},this.root=new An.a,this.root.z=.05}_parseCoords(e,t){return e+"."+t}clear(){this.grid={}}getCell(e,t){return this.grid[this._parseCoords(e,t)]}getOrCreateCell(e,t){let n=this._parseCoords(e,t),i=this.grid[n];if(void 0!==i)return i;let s=n.split(".")[1];return void 0===this.colsMargin[s]&&(this.colsMargin[s]="0"===s?0:1*Math.random()-.5),i=new tl(W.vec2.fromValues(e,t),this.colsMargin[s]),this.root.add(i.root),this.grid[n]=i,i}}class il{constructor(e,t){this._reveal=0,this._closeup=0,this.currentFilter=nt.NONE,this.gridLayout=e,this.scene=e.scene,this.mediaType=t,this.gl=this.scene.gl,this.cell=null,this._reveal=0,this._closeup=0}setCell(e){if(this.cell=e,null==this.cell)return;this.cell=e;let t=this.mediaType;-1!==e.materialRef&&(t+="_"+e.materialRef),this.material=this.gridLayout.mats.get(t),this.primitive=this.gridLayout.primitives[this.mediaType],this.currentFilter=it[t],this.pass=this.material.getPass("color");const n=this.pass.pass;this.uMediaSampler=n.iMediaContent.param,this.uRevealUniform=n.iReveal.param,this.uShadingFilter=n.iShadingFilter.param,this.uCity=n.iCity.param}preRender(){null!=this.cell&&(this.cell.isCloseup()?this.cell.updateCloseup(this.scene.dt):this.cell.updateCloseup(-this.scene.dt),this._reveal=.001*(Date.now()-this.cell.mediaData.thumbLoadedTime()),this._reveal=Math.min(1,Math.max(this._reveal,0)))}render(e,t,n){const i=this.cell;if(null==i)return;const s=this.material.getPass(n),o=s.getProgram();let r;if(i&&"depth"!=n){i.isCloseup()&&(r=i.mediaData.getMediaTex());const e=i.isCloseup()&&i.mediaData.isMediaReady()?r:i.mediaData.getThumbTex();this.uMediaSampler.set(e),this.uRevealUniform.set(this._reveal),this.uShadingFilter.set(this.currentFilter,(a=i.getCloseupProgress())*a*a),this.uMediaSampler.setup(o),this.uRevealUniform.setup(o),this.uShadingFilter.setup(o),this.uCity&&(this.uCity.set(i.mediaData.getCityTex()),this.uCity.setup(o))}var a;s.pass.prepare(o,i.root,e),this.gridLayout.primitives[this.mediaType].render()}}class sl{constructor(e){this.POOL_COUNT=55,this.gridLayout=e,this.scene=e.scene,this.renderables=[],this.generatePool()}generatePool(){this._pools={[qe.Video]:[],[qe.Fanart]:[],[qe.Picture]:[],[qe.Text]:[],[qe.PicturePoster]:[],[qe.PictureResistencia]:[],[qe.PictureWhiteBorder]:[],[qe.QuoteAllWhite]:[],[qe.QuoteHalfImage]:[],[qe.QuoteRed]:[],[qe.VideoPlay]:[],[qe.VideoRed]:[],[qe.VideoWhiteBorder]:[]};for(let e in qe){let t=this.POOL_COUNT,n=qe[e];for(let e=0;e<t;e++)this._pools[n][e]=new il(this.gridLayout,n)}}clearAlloc(){for(let e in qe){let t=qe[e];for(let e=0;e<this._pools[t].length;e++)this._pools[t][e].setCell(null)}}cellsAlloc(e){this.renderables.length=0;let t={[qe.Video]:0,[qe.Fanart]:0,[qe.Picture]:0,[qe.Text]:0,[qe.PicturePoster]:0,[qe.PictureResistencia]:0,[qe.PictureWhiteBorder]:0,[qe.QuoteAllWhite]:0,[qe.QuoteHalfImage]:0,[qe.QuoteRed]:0,[qe.VideoPlay]:0,[qe.VideoRed]:0,[qe.VideoWhiteBorder]:0},n=[];for(let i=0;i<e.length;i++){let s=e[i];if(void 0!==s.mediaData&&-1==n.indexOf(s.uuid)){n.push(s.uuid);const e=s.mediaData.type;let i=t[e];if(!this._pools[e][i])continue;s._refCell?this._pools[e][i].setCell(s._refCell):this._pools[e][i].setCell(s),this.renderables.push(this._pools[e][i]),s.mediaData.lockThumb(),s.mediaData.lockCity(),t[e]+=1}}}preRender(){for(let e in qe){let t=qe[e];for(let e=0;e<this._pools[t].length;e++)this._pools[t][e].preRender()}}render(e,t,n){let i,s,o=this.renderables.length;if(0==o)return;if(o>0){let e=this.renderables[0].material.getPass(n).pass.glconfig;this.scene.glstate.push(e),this.scene.glstate.apply()}this.renderables.sort((e,t)=>e.material.name<t.material.name?-1:e.material.name>t.material.name?1:0),this.renderables.sort((e,t)=>(i=e.material.getPass(n).programSource._program._uid,s=t.material.getPass(n).programSource._program._uid,i<s?-1:i>s?1:0));let r,a,l="",d=-1;for(let i=0;i<o;i++){a=this.renderables[i];const s=a.material.getPass(n);d!==s.getProgram()._uid&&"color"===n&&(s.programSource.setupProgram(),s.pass.setupIbl(s.getProgram()),d=s.getProgram()._uid),this.renderables[i].material.name!==l&&(r&&r.unbindVao(),r=this.gridLayout.primitives[a.mediaType],s.prepare(this.gridLayout.root,e),a.primitive.bindVao(s.getProgram()),l=a.material.name),a.render(e,t,n)}r&&r.unbindVao(),this.scene.glstate.pop()}}const ol=W.vec3.create(),rl=W.vec3.create(),al=W.vec3.create(),ll=W.vec3.create(),dl=new Oi,cl=new Oi,ul=new Di,hl=W.mat4.create();class pl{constructor(e,t){this.deltaMinMaxX=10,this.gridLayout=e,this.scene=e.scene,this.gridMap=t,this.dataStore=ht.CurrentStore,this.currentCells=[]}start(e){this.dataStore=ht.CurrentStore}stop(){}update(){if(this.dataStore!=ht.CurrentStore&&(this.gridMap.clear(),this.dataStore=ht.CurrentStore,ht.CurrentStore.directMedia)){let e=ht.CurrentStore.directMedia,t=this.gridMap.getOrCreateCell(0,0);this.gridLayout.cellPlacer.placeMediaData(e,t),ht.CurrentStore.directMedia=null}const e=this.scene.gridCamera;ol[0]=-1,ol[1]=-1,ol[2]=1,rl[0]=1,rl[1]=1,rl[2]=1,this.scene.cameraUtils.cameraScreenToWorldPoint(al,e,ol),this.scene.cameraUtils.cameraScreenToWorldPoint(ll,e,rl),dl.unproject(ol,e,!1),cl.unproject(rl,e,!1),ul.normal.set([0,0,-1]),W.vec3.transformMat4(ul.normal,ul.normal,e._parent._wmatrix),Bi(al,dl,ul),Bi(ll,cl,ul),W.vec3.scale(ul.normal,ul.normal,.01),W.vec3.sub(al,al,ul.normal),W.vec3.add(ll,ll,ul.normal),W.mat4.invert(hl,this.gridMap.root._parent._wmatrix),W.vec3.transformMat4(al,al,hl),W.vec3.transformMat4(ll,ll,hl);let t=Math.floor(al[0]),n=Math.ceil(ll[0]+1),i=Math.floor(al[1]),s=Math.ceil(ll[1]+1);this.deltaMinMaxX=Math.abs(t-n);let o=[];for(let e=t;e<n;e+=1)for(let t=i;t<s;t+=1){let n=this.gridMap.getOrCreateCell(e,t);if(!n.mediaData){let e=ht.CurrentStore.currentData();if(null==e)continue;this.gridLayout.cellPlacer.placeMediaData(e,n),ht.CurrentStore.movePointer()}o.push(n)}let r=this.currentCells.filter(e=>-1===o.indexOf(e));for(var a=0;a<r.length;a++){let e=!1;for(let t=0;t<o.length;t++)o[a]&&r[a].mediaData==o[a].mediaData&&(e=!0);r[a]&&!e&&r[a].mediaData&&(r[a].mediaData.unlockThumb(),r[a].mediaData.unlockCity())}this.currentCells=o}getCurrentCells(){return this.currentCells}preRender(e){}}const _l=W.vec3.create(),gl=W.vec3.create(),ml=W.vec3.create(),vl=W.vec3.create(),fl=W.vec3.create();class bl{constructor(e,t){this.activeCell=null,this.nextCell=null,this.prevCell=null,this._touchTime=0,this._moved=!1,this._sdeltaDrag=0,this._deltaDrag=0,this._startTouchX=0,this._currentCamPos=W.vec3.create(),this.touchstart=e=>{this._sliding||this._entering||this._leaving||(this._touchTime=Date.now(),this._moved=!1,this._tdown=!0,this._wasVideoPending=ft.store.sliderVideoPending,this._deltaDrag=0,this._startTouchX=e.touches&&e.touches.length>0?e.touches[0].clientX:e.clientX,a.currentState!==i.POINT&&a.pushState(i.POINT))},this.touchmove=e=>{if(this._tdown&&!this._sliding&&!this._entering&&!this._leaving){if(this._tdown){let t=e.touches&&e.touches.length>0?e.touches[0].clientX:e.clientX;this._deltaDrag=(t-this._startTouchX)/ft.screen.width,this._deltaDrag=Y(1.5*this._deltaDrag,-1,1)}this._moved||(this._wasVideoPending=ft.store.sliderVideoPending,ft.store.sliderVideoPending=!1),this._moved=!0}},this.touchend=()=>{if(this._tdown&&!this._entering&&!this._leaving&&!this._sliding){if(a.currentState===i.POINT&&a.releaseState(i.POINT),this._tdown=!1,Date.now()-this._touchTime<300&&!this._moved)return this.scene.transitionController.setAutoProgress(!0),this.scene.closeSlider(),void(this._deltaDrag=0);Math.abs(this._deltaDrag)>.3?(this._wasVideoPending=!1,this.slide(-Math.sign(this._deltaDrag))):ft.store.sliderVideoPending=this._wasVideoPending,this._deltaDrag=0}},this.gridLayout=e,this.scene=e.scene,this.gridMap=t,this.dataStore=ht.CurrentStore,this.currentCells=[],this.activeCell=null,this._leaving=!1,this._entering=!1,this._stateProgress=0,this._stopped=!1,this._slideFinished=!0,this._sliding=!1,this._wasVideoPending=!1}bindEvents(){document.body;this.scene.inputs.el.addEventListener("mousedown",this.touchstart),this.scene.inputs.el.addEventListener("touchstart",this.touchstart),this.scene.inputs.el.addEventListener("mousemove",this.touchmove),this.scene.inputs.el.addEventListener("touchmove",this.touchmove),this.scene.inputs.el.addEventListener("mouseup",this.touchend),this.scene.inputs.el.addEventListener("touchend",this.touchend)}unbindEvents(){document.body;this.scene.inputs.el.removeEventListener("mousedown",this.touchstart),this.scene.inputs.el.removeEventListener("touchstart",this.touchstart),this.scene.inputs.el.removeEventListener("mousemove",this.touchmove),this.scene.inputs.el.removeEventListener("touchmove",this.touchmove),this.scene.inputs.el.removeEventListener("mouseup",this.touchend),this.scene.inputs.el.removeEventListener("touchend",this.touchend)}setActiveCell(e){this.activeCell=e}getCellTargetPos(e,t){const n=t.primitive;fl.set(t.root.position),fl[2]=0,W.vec3.transformMat4(_l,n.bounds.min,t.root._matrix),W.vec3.transformMat4(gl,n.bounds.max,t.root._matrix),_l[2]=0,gl[2]=0,W.vec3.sub(_l,_l,fl),W.vec3.sub(gl,gl,fl),W.vec3.cross(e,_l,gl),W.vec3.add(e,e,fl);let i=ft.screen.width>ft.screen.height,s=i?1.1:1.2,o=i?1.5:t.scale>1?.9:.25;e[2]+=s+t.scale*o}moveToCell(e){return this.getCellTargetPos(ml,e),this._currentCamPos.set(ml),this.scene.gridItemInteraction.currentHoverItem={cell:e,hoverTime:Date.now(),mediaData:e.mediaData,hoverPos:W.vec3.create()},this.scene.transitionController.duration=.75,this.scene.transitionController.setTargetPos(ml)}start(e){this._stopped=!1,this._leaving=!1,this._entering=!0,this._sliding=!0;let t,n=[];this.bindEvents(),this.currentCells=e,ft.store.sliderState=!0,a.currentState!==i.CROSS&&a.pushState(i.CROSS),this.moveToCell(this.activeCell).then(()=>{this.scene.transitionController.setAutoProgress(!(this._entering||this._leaving))}),_l.set(this.activeCell.root.position),this.activeCell.setCloseup(!0),this.activeCell.mediaData.lockMedia();for(let e=0;e<this.currentCells.length;e++){if(t=this.currentCells[e],t.uuid===this.activeCell.uuid||-1!==n.indexOf(t.uuid))continue;gl.set(t.root.position),W.vec3.sub(ml,gl,_l);let i=2*-W.vec3.length(ml);W.vec3.scale(ml,ml,1.85),W.vec3.add(ml,gl,ml),gl[2]=t.root.position[2],t.transition={startPos:W.vec3.fromValues(gl[0],gl[1],gl[2]),targetPos:W.vec3.fromValues(ml[0],ml[1],gl[2]),progress:i},n.push(t.uuid)}}stop(){if(this._stopped)return;ft.store.sliderState=!1,a.releaseState(i.CROSS),this.unbindEvents(),this.scene.transitionController.reset(),this._stopped=!0,this._leaving=!0,this._entering=!1,this._slideFinished=!0,this._sliding=!1;let e,t=[];ml.set(this.scene.camera.position),ml[2]=$e.WALL_DIST,this.scene.gridCamera.position.set(ml),this.scene.gridCamera.invalidate(),this.scene.gridCamera.updateWorldMatrix(),this.scene.gridCamera.updateViewProjectionMatrix(this.scene.glview.width,this.scene.glview.height),_l.set(this.activeCell.root.position),this.activeCell.mediaData.unlockMedia(),this.scene.gridItemInteraction.currentHoverItem=null,this.activeCell.setCloseup(!1),this.gridLayout.overviewCtrl.update(),this.currentCells=this.gridLayout.overviewCtrl.getCurrentCells();for(let n=0;n<this.currentCells.length;n++){if(e=this.currentCells[n],-1!==t.indexOf(e.uuid))continue;gl.set(e.idlePos);let i=0;e.uuid!==this.activeCell.uuid&&e.uuid!==this.nextCell.uuid&&e.uuid!==this.prevCell.uuid?(W.vec3.sub(ml,gl,_l),i=2*-W.vec3.length(ml),W.vec3.scale(ml,ml,1.85),W.vec3.add(ml,gl,ml)):ml.set(e.root.position),e.transition={startPos:W.vec3.fromValues(ml[0],ml[1],gl[2]),targetPos:W.vec3.fromValues(gl[0],gl[1],gl[2]),progress:i},t.push(e.uuid)}return ml.set(this.scene.camera.position),ml[2]=$e.WALL_DIST,this.scene.transitionController.duration=1.1,this.scene.transitionController.setAutoProgress(!0),this.scene.transitionController.setTargetPos(ml),this._leavePromise=new Promise(e=>{this._touchTime=0,this._deltaDrag=0,this._sdeltaDrag=0,this._leaveResolve=e}),this._leavePromise}onEntered(){this.fetchSiblings(),this._sliding=!0,this._slideFinished=!0,this._entering=!1,this._tdown=!1;let e=[this.activeCell.uuid,this.nextCell.uuid,this.prevCell.uuid];for(let t=0;t<this.currentCells.length;t++)this.currentCells[t].mediaData&&(this.currentCells[t].mediaData.unlockThumb(),this.currentCells[t].mediaData.unlockCity(),-1===e.indexOf(this.currentCells[t].uuid)&&this.currentCells[t].restoreIdle());this.currentCells=[],this.currentCells.push(this.activeCell),this.currentCells.push(this.nextCell),this.currentCells.push(this.prevCell),this.nextCell.transition={startPos:W.vec3.fromValues(this.nextCell.idlePos[0]+2,this.nextCell.idlePos[1],this.nextCell.idlePos[2]),targetPos:this.nextCell.idlePos,progress:0},this.prevCell.transition={startPos:W.vec3.fromValues(this.prevCell.idlePos[0]-2,this.prevCell.idlePos[1],this.prevCell.idlePos[2]),targetPos:this.prevCell.idlePos,progress:0}}onLeaved(){let e;for(let t=0;t<this.currentCells.length;t++)e=this.currentCells[t],e.transition=null;this._tdown=!1,this.activeCell=null,this._leaveResolve&&this._leaveResolve()}onSlided(){this._sliding=!1,this.scene.transitionController.setAutoProgress(!1),this._tdown=!1}fetchSiblings(){const e=this.activeCell;let t,n,i,s=1;do{n=this.gridMap.getOrCreateCell(e.position[0]+s,e.position[1]),s+=1}while(n.uuid==e.uuid);void 0===n.mediaData&&(t=ht.CurrentStore.currentData(),this.gridLayout.cellPlacer.placeMediaData(t,n),ht.CurrentStore.movePointer()),this.nextCell=n,s=1;do{i=this.gridMap.getOrCreateCell(e.position[0]-s,e.position[1]),s+=1}while(i.uuid==e.uuid);void 0===i.mediaData&&(t=ht.CurrentStore.currentData(),this.gridLayout.cellPlacer.placeMediaData(t,i),ht.CurrentStore.movePointer()),this.prevCell=i}slide(e){if(this._stopped||this._sliding||this._entering||this._leaving)return;ft.store.hasSlide=!0,this._sdeltaDrag=0,this._deltaDrag=0;const t=this.activeCell;let n;this._sliding=!0,this._slideFinished=!1;let i=1;do{n=this.gridMap.getOrCreateCell(t.position[0]+i*e,t.position[1]),i+=1}while(n.uuid==t.uuid);this.scene.halolight.unlockMiddle(),this.scene.transitionController.setAutoProgress(!0),this.scene.transitionController.ease=Ki,this.scene.transitionController.duration=.65,n.setCloseup(!0),this.moveToCell(n).then(()=>{this._slideFinished=!0,this.scene.halolight.lockMiddle();for(let e=0;e<this.currentCells.length;e++)this.currentCells[e].mediaData&&(this.currentCells[e].mediaData.unlockThumb(),this.currentCells[e].mediaData.unlockMedia(),this.currentCells[e].setCloseup(!1));this.activeCell=n,this.fetchSiblings(),this.currentCells=[],this.currentCells.push(this.activeCell),this.currentCells.push(this.nextCell),this.currentCells.push(this.prevCell);for(let e=0;e<this.currentCells.length;e++)this.currentCells[e].mediaData&&(this.currentCells[e].mediaData.lockThumb(),this.currentCells[e].mediaData.lockCity());this.activeCell.setCloseup(!0),this.activeCell.mediaData.lockMedia();let t=this.nextCell;-1===e&&(t=this.prevCell),t.transition={startPos:W.vec3.fromValues(t.idlePos[0]+.8*e,t.idlePos[1],t.idlePos[2]),targetPos:t.idlePos,progress:0,speed:1.3}})}update(){}updateDrag(){if(this._entering||this._sliding||this._leaving)return;this._sdeltaDrag+=(this._deltaDrag-this._sdeltaDrag)*$(this.scene.dt*(this._tdown?10:5));let e=this._sdeltaDrag>0?this.prevCell:this.nextCell;this.getCellTargetPos(vl,e),W.vec3.lerp(this.scene.camera.position,this._currentCamPos,vl,Math.abs(this._sdeltaDrag)),this.scene.camera.invalidate()}preRender(e){let t,n=[],i=0;for(let s=0;s<this.currentCells.length;s++)t=this.currentCells[s],-1===n.indexOf(t.uuid)&&(i+=t.updateTransition(e),n.push(t.uuid));i/=n.length,this._stateProgress=i,1===i&&this._slideFinished&&this._sliding&&this.onSlided(),1===i&&this._leaving&&this.onLeaved(),1===i&&this._entering&&this.onEntered(),this.updateDrag()}getCurrentCells(){return this.currentCells}}const Tl=W.vec2.create();class El{constructor(e,t){this.gridLayout=e,this.gridMap=t}placeMediaData(e,t){let n=et[e.type];n[0]>1.5||n[1]>1.5?this.gridLayout.cellPlacer.place2X2(e,t):this.gridLayout.cellPlacer.place1x1(e,t)}place1x1(e,t){t.setMediaData(e,this.gridLayout.primitives[e.type]),t.setScale(.65+.25*Math.random()),t.setRotation((Math.random()-.5)*Math.PI*.03)}place2X2(e,t){let n=[-1,-1,0,0],i=[-1,0,-1,0];for(let s=0;s<4;s++){let o=[],r=!0;for(let e=n[s];e<=n[s]+1;e++)for(let n=i[s];n<=i[s]+1;n++){let i=this.gridMap.getOrCreateCell(t.position[0]+e,t.position[1]+n);o.push(i),i.mediaData&&(r=!1)}if(r){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;Tl[0]=0,Tl[1]=0;for(let e=0;e<o.length;e++){let i=o[e].position[0]+o[e].xmargin;i+.5<t&&(t=i+.5),i-.5>n&&(n=i-.5),Tl[0]+=o[e].position[0]+o[e].xmargin,Tl[1]+=o[e].position[1]}let i=Math.abs(n-t);i=1.8-i;let s=(Math.random()-.5)*Math.PI*.03;Tl[0]/=o.length,Tl[1]/=o.length,o[0].setMediaData(e,this.gridLayout.primitives[e.type]),o[0].root.x=Tl[0],o[0].root.y=Tl[1],o[0].idlePos.set(o[0].root.position),o[0].setScale(i),o[0].setRotation(s);for(let e=1;e<o.length;e++)o[e].setProxy(o[0])}}}}const wl=W.vec3.create();class Cl{constructor(e){this.inTransition=!1,this.leaving=!1,this.entering=!1,this.slideProgress=0,this.targetPos=W.vec3.create(),this.startPos=W.vec3.create(),this.gridLayout=e,this.gridMap=e.gridMap}changeFilter(){this.inTransition=!0,this.leaving=!1,this.entering=!1,this.setupLeave()}setupLeave(){this.leaving=!0,this.entering=!1,this.startPos.set(this.gridMap.root.position),this.targetPos.set(this.gridMap.root.position),this.targetPos[0]-=1.1*this.gridLayout.overviewCtrl.deltaMinMaxX,this.slideProgress=0}setupEnter(){this.leaving=!1,this.entering=!0,this.startPos.set(wl),this.startPos[0]+=1.1*this.gridLayout.overviewCtrl.deltaMinMaxX,this.targetPos.set(wl),this.slideProgress=0}preRender(e){this.inTransition&&(1===this.slideProgress&&this.leaving&&this.setupEnter(),W.vec3.lerp(this.gridMap.root.position,this.startPos,this.targetPos,Zi(this.slideProgress)),this.gridMap.root.invalidate(),1===this.slideProgress&&this.entering&&(this.inTransition=!1,this.entering=!1),this.slideProgress+=.9*e,this.slideProgress=$(this.slideProgress))}}var Al=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class Sl{constructor(e){this.primitives={},this.enabled=!0,this.inSlider=!1,this._zoomedCell=null,this._leavingSlider=!1,this.enterSliderProgress=0,this.onGltfLoaded=()=>{const e=this.primitives,t=this.gltf.getElementByName.bind(this.gltf);e[qe.Picture]=t("meshes","picture").primitives[0],e[qe.Video]=t("meshes","video").primitives[0],e[qe.Text]=t("meshes","text").primitives[0],e[qe.Fanart]=t("meshes","fanart").primitives[0],e[qe.PicturePoster]=t("meshes","picture-poster").primitives[0],e[qe.PictureResistencia]=t("meshes","picture-resistencia").primitives[0],e[qe.PictureWhiteBorder]=t("meshes","picture-white-border").primitives[0],e[qe.QuoteAllWhite]=t("meshes","quote-all-white").primitives[0],e[qe.QuoteHalfImage]=t("meshes","quote-half-image").primitives[0],e[qe.QuoteRed]=t("meshes","quote-red").primitives[0],e[qe.VideoPlay]=t("meshes","video-play").primitives[0],e[qe.VideoRed]=t("meshes","video-red").primitives[0],e[qe.VideoWhiteBorder]=t("meshes","video-white-border").primitives[0]},this.loadGltf=()=>Al(this,void 0,void 0,(function*(){this.gltf=yield Da.loadGltf("assets/webgl/grid_items.glb",{extensions:[this.gltfOverride]}),yield this.gltf.allocateGl(this.scene.gl),this.root.add(this.gltf.root),this.onGltfLoaded()})),this.scene=e,this.camera=e.camera,this.root=new An.a,this.gridMap=new nl,this.root.add(this.gridMap.root),this.texs=new Oe("gridlayout",e.gl),this.mats=e.matlibGrid.createProvider("gridlayout"),this.dataStore=ht.CurrentStore,this.cellPlacer=new El(this,this.gridMap),this.overviewCtrl=new pl(this,this.gridMap),this.sliderCtrl=new bl(this,this.gridMap),this.filterTransition=new Cl(this),this.setCtrl(this.overviewCtrl),this.gltfOverride=new Ua,this.gltfOverride.overrides=this.mats.materials,this.currentCells=[],this.renderer=new sl(this),this.renderer.generatePool()}initMaterials(){Xs.init(this),ro.init(this.scene,this.scene.hoverRenderer.mats,this.texs)}load(){return[this.loadGltf(),...this.texs.load().getAllLoadables()]}setCtrl(e){this._currentCtrl&&this._currentCtrl.stop(),this._currentCtrl=e,this._currentCtrl.start(this.currentCells)}enterSlider(e){this.sliderCtrl.setActiveCell(e),this.setCtrl(this.sliderCtrl)}leaveSlider(){return this.sliderCtrl.stop().then(()=>{this.setCtrl(this.overviewCtrl)})}preRender(){this.enabled&&(this.renderer.clearAlloc(),null===this.overviewCtrl.dataStore||this.filterTransition.inTransition||this.overviewCtrl.dataStore===ht.CurrentStore||this.filterTransition.changeFilter(),this.filterTransition.leaving||(this._currentCtrl.update(),this._currentCtrl.preRender(this.scene.dt),this.currentCells=this._currentCtrl.getCurrentCells()),this.filterTransition.preRender(this.scene.dt),this.renderer.cellsAlloc(this.currentCells),this.renderer.preRender())}render(e,t,n){this.enabled&&this.renderer.render(e,t,n)}}const Rl=W.mat4.create();class yl{constructor(e){this.wall=e,this.root=new An.a}preRender(){}setPosition(e){this.root.x=e[0],this.root.y=e[1]}prepare(e,t){e.modelViewProjectionMatrix(Rl,this.root._wmatrix),t.pass.prepare(t.getProgram(),this.root,e),t.prepare(this.root,e)}}var xl=n(95),Ml=n.n(xl),Pl=n(96),Nl=n.n(Pl);const Il=Ti.a.create();class Ll extends Si.a{constructor(e="standard-pass"){super({uid:"std",vert:Ml()(),frag:Nl()()}),this.ibl=null;const t=this.inputs;t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),t.add(this.iAlbedo=new hi.c("albedo",3)),t.add(this.iAlpha=new hi.c("alpha",1)),t.add(this.iSpecular=new hi.c("specular",3)),t.add(this.iGloss=new hi.c("gloss",1)),t.add(this.iNormal=new hi.c("normal",3)),t.add(this.iNormalDetail=new hi.c("normalDetail",3)),t.add(this.iNormalDetailStrength=new hi.c("normalDetailStrength",1)),t.add(this.iOcclusion=new hi.c("occlusion",1)),t.add(this.iCavity=new hi.c("cavity",1)),t.add(this.iCavityStrength=new hi.c("cavityStrength",2)),t.add(this.iEmissive=new hi.c("emissive",1)),t.add(this.iEmissiveScale=new hi.c("emissiveScale",1)),t.add(this.iFresnel=new hi.c("fresnel",3)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.iLightmap=new hi.c("Lightmap",3)),t.add(this.iLightmapMultiplier=new hi.c("LightmapMultiplier",1)),t.add(this.iAmbientMultiplier=new hi.c("AmbientMultiplier",1)),t.add(this.iAlbedoTint=new hi.c("albedoTint",3)),t.add(this.iSpecularTint=new hi.c("specularTint",3)),t.add(this.iSecondaryTint=new hi.c("secondaryTint",3)),t.add(this.iSecondaryTintMask=new hi.c("secondaryTintMask",1)),t.add(this.tintBlendMode=new pi.a("tintBlendMode",["TBM_LINEAR_LIGHT","TBM_MULTIPLY"])),t.add(this.alphaBlending=new pi.a("alphaBlending",["ALPHA_CUTOUT","ALPHA_STD"])),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.instanced=new mi.a("instanced",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])),this.iAmbientMultiplier.attachConstant(1)}addTexCoords(e=1,t=e){const n=new Fs("aTexCoord"+e,"vTexCoord"+t);return this.inputs.add(n),n}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}prepare(e,t,n){this.ibl.setupProgram(e),e.uMVP&&(n.modelViewProjectionMatrix(Il,t._wmatrix),e.uMVP(Il)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var Ol;!function(e){e.Wall="Paper"}(Ol||(Ol={}));class Dl{static init(e){this._isInit||(this.depthPass=new xi,this.depthPass.mask=Rs.SHADOW_CASTER,this.createTextures(e),this.createMaterials(e),this.setupMaterials(e),this._isInit=!0)}static createTextures(e){const t=e.texs;let n=new ze({basis:"assets/webgl/wall/wall_Albedo.basis",std:"assets/webgl/wall/wall_Albedo.jpg"}),i=new He("wall_diffuse",n,t);n=new ze({basis:"assets/webgl/wall/wall_Normal.basis",std:"assets/webgl/wall/wall_Normal.png"}),i=new He("wall_normal",n,t),n=new ze({basis:"assets/webgl/wall/wall_CGS.basis",std:"assets/webgl/wall/wall_CGS.jpg"}),i=new He("wall_cgs",n,t)}static createMaterials(e){this.createMaterial(Ol.Wall,e)}static setupMaterials(e){this.setupWallMaterial(e.mats.get(Ol.Wall),e)}static createPass(e,t){const n=new Ll(e);return t.scene.iblMngr.setupMat(n),n.instanced.set($e.isWebgl2||null!==t.instancedExt),this.opaqueConfig(n.glconfig),n.mask=Rs.OPAQUE,n}static setupWallMaterial(e,t){const n=this.createPass("wall",t);n.iAlbedo.attachSampler("tColor","vTexCoord0").set(t.texs.get("wall_diffuse")),n.iNormal.attachSampler("tNormal","vTexCoord0").set(t.texs.get("wall_normal"));const i=new hi.a("tCGS","vTexCoord0");n.iCavity.attach(i,"r"),n.iCavityStrength.attachConstant([.2,.2]),n.iGloss.attach(i,"g"),n.iSpecular.attach(i,"b"),i.set(t.texs.get("wall_cgs")),n.useDerivatives.set(!0),this.opaqueConfig(n.glconfig),e.addPass(n,"color")}static opaqueConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest().depthMask(!0)}static createMaterial(e,t){const n=new js.a(t.scene.gl,e);return t.mats.registerMaterial(n,e),n}}Dl._isInit=!1;const Fl=new Float32Array([-1,-1,0,0,0,1,0,1,-1,1,0,0,0,1,0,0,1,-1,0,0,0,1,1,1,1,1,0,0,0,1,1,0]),Bl=new Int8Array([0,3,1,0,2,3]);class Ul extends yr.a{constructor(e,t=-1,n=-1,i=2,s=2){super(e);const o=Fl;o[0]=o[8]=t,o[1]=o[17]=n,o[16]=o[24]=t+i,o[9]=o[25]=n+s,this.data(o),this.attrib("aPosition",3,e.FLOAT),this.attrib("aNormal",3,e.FLOAT),this.attrib("aTexCoord0",2,e.FLOAT)}render(){this.drawTriangleStrip()}}const Vl=W.vec2.create(),Gl=W.vec2.create(),kl=W.vec2.create(),Hl=W.vec2.create(),zl=W.vec2.create(),Wl=W.vec2.create();class jl{constructor(e){this._tileWidth=3.5,this._tileMapRadius=5,this.scene=e,this.root=new An.a,this.root.z=-.05;const t=this.scene.gl;this.instancedExt=t.getExtension("ANGLE_instanced_arrays"),this.instanceBuffer=new yr.a(t,null,t.DYNAMIC_DRAW),this.instanceBuffer.attrib("aOffset",3,t.FLOAT),this.indexBuffer=new Mr.a(t,t.UNSIGNED_BYTE,Bl),this.generatePool(),this.texs=new Oe("wall",e.gl),this.mats=e.matlib.createProvider("wall"),this.quad=new Ul(this.scene.gl,-.5,-.5,1,1),Dl.init(this)}load(){return this.texs.load().getAllLoadables()}generatePool(){this._tileMapRadius=$e.WALL_DIST+1,this._xTileCount=Math.ceil(this._tileMapRadius/(this._tileWidth/2)),this._yTileCount=this._xTileCount,this._poolWidth=this._xTileCount*this._tileWidth,this._tileCount=this._xTileCount*this._yTileCount,this._tiles=new Array(this._tileCount);let e=W.vec2.create(),t=W.vec3.create(),n=0,i=new Float32Array(3*this._tileCount);for(let s=0;s<this._xTileCount;s++)for(let o=0;o<this._yTileCount;o++){let r=new yl(this);e[0]=this._tileWidth/2+s*this._tileWidth-this._poolWidth/2,e[1]=this._tileWidth/2+o*this._tileWidth-this._poolWidth/2,r.setPosition(e),this.root.add(r.root),r.root.setScale(this._tileWidth),this._tiles[n]=r,t[0]=e[0],t[1]=e[1],t[2]=this._tileWidth,i.set(t,3*n),n+=1}this.instanceBuffer.data(i)}getNearestTilePos(e){const t=W.vec3.create();t[0]=this._tileWidth/2-this._poolWidth/2,t[1]=this._tileWidth/2-this._poolWidth/2;const n=W.vec3.create();n.set([this._tileWidth,this._tileWidth,0]);const i=W.vec3.create();return W.vec3.copy(i,e),W.vec3.div(i,i,n),i[0]=Math.round(i[0]),i[1]=Math.round(i[1]),i[2]=Math.round(i[2]),W.vec3.mul(i,i,n),W.vec3.add(i,i,t),i}preRender(){Gl[0]=this.scene.camera.x,Gl[1]=this.scene.camera.y;let e,t=new Float32Array(3*this._tileCount),n=W.vec3.create();for(var i=0;i<this._tileCount;i++){e=this._tiles[i],kl[0]=e.root.x,kl[1]=e.root.y,Hl.set(Vl),zl.set(Vl),Wl.set(Vl);let s=W.vec2.distance(Gl,kl);if(s>this._tileMapRadius)for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++){zl[0]=e*this._poolWidth,zl[1]=t*this._poolWidth,W.vec2.add(Wl,kl,zl);let n=W.vec2.distance(Gl,Wl);n<s&&(Hl.set(zl),s=n)}W.vec2.add(Wl,kl,Hl),e.setPosition(Wl),n[0]=Wl[0],n[1]=Wl[1],n[2]=this._tileWidth,t.set(n,3*i)}this.instanceBuffer.data(t);for(let e=0;e<this._tiles.length;e++)this._tiles[e].preRender()}render(e,t,n){const i=this.mats.get(Ol.Wall).getPass(n);this.scene.glstate.push(i.pass.glconfig),this.scene.glstate.apply(),i.prepare(this.root,e),this.quad.bind(),this.quad.attribPointer(i.getProgram()),this.indexBuffer.bind();const s=i.getProgram();if($e.isWebgl2){this.instanceBuffer.bind(),this.instanceBuffer.attribPointer(i.getProgram());const e=this.scene.gl;return e.vertexAttribDivisor(s.aOffset(),1),e.drawElementsInstanced(e.TRIANGLES,6,e.UNSIGNED_BYTE,0,this._tileCount),void this.scene.glstate.pop()}if(null!==this.instancedExt){const e=this.scene.gl,t=this.instancedExt;return this.instanceBuffer.bind(),this.instanceBuffer.attribPointer(i.getProgram()),t.vertexAttribDivisorANGLE(s.aOffset(),1),t.drawElementsInstancedANGLE(e.TRIANGLES,6,e.UNSIGNED_BYTE,0,this._tileCount),void this.scene.glstate.pop()}for(let t=0;t<this._tiles.length;t++)this._tiles[t].prepare(e,i),this.indexBuffer.drawTriangles()}}var Xl=n(97),ql=n.n(Xl),$l=n(98),Yl=n.n($l);const Kl=Ti.a.create();class Zl extends Si.a{constructor(e="standard-pass"){super({uid:"std",vert:ql()(),frag:Yl()()}),this.ibl=null;const t=this.inputs;t.add(this.version=new fi.a($e.isWebgl2?"300 es":"100")),t.add(this.precision=new vi.a("highp")),t.add(this.shaderid=new mi.a("id_std",!0)),t.add(this.iTexCoord0=new Fs("aTexCoord0","vTexCoord0")),t.add(this.iMask=new hi.c("mask",3)),t.add(this.iReveal=new hi.c("reveal",1)),t.add(this.iAlbedo=new hi.c("albedo",3)),t.add(this.iAlpha=new hi.c("alpha",1)),t.add(this.iSpecular=new hi.c("specular",3)),t.add(this.iGloss=new hi.c("gloss",1)),t.add(this.iNormal=new hi.c("normal",3)),t.add(this.iNormalDetail=new hi.c("normalDetail",3)),t.add(this.iNormalDetailStrength=new hi.c("normalDetailStrength",1)),t.add(this.iOcclusion=new hi.c("occlusion",1)),t.add(this.iCavity=new hi.c("cavity",1)),t.add(this.iCavityStrength=new hi.c("cavityStrength",2)),t.add(this.iEmissive=new hi.c("emissive",1)),t.add(this.iEmissiveScale=new hi.c("emissiveScale",1)),t.add(this.iFresnel=new hi.c("fresnel",3)),t.add(this.iGamma=new hi.c("gamma",1)),t.add(this.iExposure=new hi.c("exposure",1)),t.add(this.iLightmap=new hi.c("Lightmap",3)),t.add(this.iLightmapMultiplier=new hi.c("LightmapMultiplier",1)),t.add(this.iAmbientMultiplier=new hi.c("AmbientMultiplier",1)),t.add(this.iAlpha2=new hi.c("alpha2",1)),t.add(this.iFlash=new hi.c("flash",1)),t.add(this.iAlbedoTint=new hi.c("albedoTint",3)),t.add(this.iSpecularTint=new hi.c("specularTint",3)),t.add(this.iSecondaryTint=new hi.c("secondaryTint",3)),t.add(this.iSecondaryTintMask=new hi.c("secondaryTintMask",1)),t.add(this.tintBlendMode=new pi.a("tintBlendMode",["TBM_LINEAR_LIGHT","TBM_MULTIPLY"])),t.add(this.alphaBlending=new pi.a("alphaBlending",["ALPHA_CUTOUT","ALPHA_STD"])),t.add(this.conserveEnergy=new mi.a("conserveEnergy",!1)),t.add(this.perVertexIrrad=new mi.a("perVertexIrrad",!1)),t.add(this.glossNearest=new mi.a("glossNearest",!1)),t.add(this.noFresnel=new mi.a("noFresnel",!1)),t.add(this.horizonFading=new mi.a("horizonFading",!1)),t.add(this.useDerivatives=new mi.a("useDerivatives",!1)),t.add(this.gammaMode=new pi.a("gammaMode",["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"])),this.iAmbientMultiplier.attachConstant(1)}addTexCoords(e=1,t=e){const n=new Fs("aTexCoord"+e,"vTexCoord"+t);return this.inputs.add(n),n}setIBL(e){this.ibl=e}setLightSetup(e){this.inputs.addChunks(e.getChunks("std"))}prepare(e,t,n){this.ibl.setupProgram(e),e.uMVP&&(n.modelViewProjectionMatrix(Kl,t._wmatrix),e.uMVP(Kl)),e.uWorldMatrix&&e.uWorldMatrix(t._wmatrix),e.uVP&&e.uVP(n._viewProj),e.uCameraPosition&&e.uCameraPosition(n._wposition)}}var Ql;!function(e){e.CIAOBELLA="Ciaobella"}(Ql||(Ql={}));const Jl=["0c","1i","2a","3o","4b","5e","6l","7l","8a"];class ed{static init(e){this._isInit||(this.depthPass=new xi,this.depthPass.mask=Rs.SHADOW_CASTER,this.createTextures(e),this.createMaterials(e),this.setupMaterials(e),this._isInit=!0)}static createTextures(e){const t=e.texs;let n=new ze({basis:"assets/webgl/ciaobella/ciaobella_text_albedo.basis",std:"assets/webgl/ciaobella/ciaobella_text_albedo.png"}),i=new He("ciaobella_text_albedo",n,t);n=new ze({basis:"assets/webgl/ciaobella/poster_left_albedo.basis",std:"assets/webgl/ciaobella/poster_left_albedo.png"}),i=new He("poster_left_albedo",n,t),n=new ze({basis:"assets/webgl/ciaobella/poster_right_albedo.basis",std:"assets/webgl/ciaobella/poster_right_albedo.png"}),i=new He("poster_right_albedo",n,t),n=new ze({basis:"assets/webgl/ciaobella/stroke_horizontal_albedo.basis",std:"assets/webgl/ciaobella/stroke_horizontal_albedo.png"}),i=new He("stroke_horizontal_albedo",n,t),n=new ze({basis:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.basis",std:"assets/webgl/ciaobella/stroke_horizontal_mask_albedo.png"}),i=new He("stroke_horizontal_mask_albedo",n,t),n=new ze({basis:"assets/webgl/ciaobella/stroke_vertical_albedo.basis",std:"assets/webgl/ciaobella/stroke_vertical_albedo.png"}),i=new He("stroke_vertical_albedo",n,t),n=new ze({basis:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.basis",std:"assets/webgl/ciaobella/stroke_vertical_mask_albedo.png"}),i=new He("stroke_vertical_mask_albedo",n,t)}static createMaterials(e){let t=new js.a(e.scene.gl,Ql.CIAOBELLA);for(const n of Jl){const i="letter_"+n;e.mats.registerMaterial(t,i)}this.setupTextMaterial(t,e),t=new js.a(e.scene.gl,Ql.CIAOBELLA),e.mats.registerMaterial(t,"poster_left"),t=new js.a(e.scene.gl,Ql.CIAOBELLA),e.mats.registerMaterial(t,"poster_right"),t=new js.a(e.scene.gl,Ql.CIAOBELLA),e.mats.registerMaterial(t,"horizontal_lines"),t=new js.a(e.scene.gl,Ql.CIAOBELLA),e.mats.registerMaterial(t,"vertical_lines")}static setupMaterials(e){this.setupPosterMaterial(e.mats.get("poster_left"),e),this.setupPosterMaterial(e.mats.get("poster_right"),e),this.setupLinesMaterial(e.mats.get("horizontal_lines"),e),this.setupLinesMaterial(e.mats.get("vertical_lines"),e)}static createPass(e,t){const n=new Zl(e);return t.scene.iblMngr.setupMat(n),this.blendConfig(n.glconfig),n.mask=Rs.BLENDED,n}static setupTextMaterial(e,t){const n=this.createPass(Ql.CIAOBELLA,t),i=new hi.a("tColor","vTexCoord0");i.set(t.texs.get("ciaobella_text_albedo")),n.iAlbedo.attach(i,"rgb"),n.iAlpha.attach(i,"a"),n.iAlpha2.attachUniform("alpha2",1).set(0),n.iSpecular.attachConstant([.9,.9,.9]),n.iGloss.attachConstant(.1),this.blendConfig(n.glconfig),e.addPass(n,"color"),n.alphaBlending.set("ALPHA_STD")}static setupPosterMaterial(e,t){const n=this.createPass(Ql.CIAOBELLA,t),i=new hi.a("tColor","vTexCoord0");i.set(t.texs.get(`poster_${e.name.indexOf("left")>-1?"left":"right"}_albedo`)),n.iAlbedo.attach(i,"rgb"),n.iAlpha.attach(i,"a"),n.iSpecular.attachConstant([.15,.15,.15]),n.iGloss.attachConstant(.1),n.iAlpha2.attachUniform("alpha2",1).set(0),n.iFlash.attachUniform("flash",1).set(0),this.blendConfig(n.glconfig),e.addPass(n,"color"),n.alphaBlending.set("ALPHA_STD")}static setupLinesMaterial(e,t){const n=this.createPass(Ql.CIAOBELLA,t),i=e.name.indexOf("horizontal")>-1?"horizontal":"vertical",s=t.texs.get(`stroke_${i}_albedo`),o=t.texs.get("poster_right_albedo");let r=new hi.a("tColor","vTexCoord0");r.set(s),n.iAlbedo.attach(r,"rgb"),n.iAlpha.attach(r,"a");let a=new hi.a("tMask","vTexCoord0");a.set(o),n.iMask.attach(a),n.iSpecular.attachConstant([1,1,1]),n.iGloss.attachConstant(.1),n.iAlbedoTint.attachConstant([1,1,1]),n.iAlbedoTint.attachConstant([50,50,50]),n.iReveal.attachUniform("reveal",1).set(0),this.blendConfig(n.glconfig),e.addPass(n,"color"),n.alphaBlending.set("ALPHA_STD")}static blendConfig(e){e.enableCullface(!0).cullFace(Ss.BACK).enableDepthTest(!0).depthMask(!1).enableBlend(!0).blendFunc(Ss.SRC_ALPHA,Ss.ONE_MINUS_SRC_ALPHA)}}ed._isInit=!1;var td=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const nd=W.quat.create(),id=[-.837176,.15897,-11.1568,-.632461,-.126633,9.25106,-.536208,.125183,-2.17605,-.326026,-.162983,6.72293,-.1116115152835846,.063286,7.81992,.20945239067077637,-.097981,5.84398,.4325653612613678,.067183,3.8004,.6705952882766724,-.029785,-6.54473,.9622739553451538,.092172,-7.35692],sd=[-2.31459,-32.5033,0,3.85362,27.9957,0];class od{constructor(e){this.hidden=!0,this.loadGltf=()=>td(this,void 0,void 0,(function*(){this.gltf=yield Da.loadGltf("assets/webgl/ciaobella/ciaobella.glb",{extensions:[this.gltfOverride]}),yield this.gltf.allocateGl(this.scene.gl),this.root.add(this.gltf.root),this.onGltfLoaded()})),this.playIntro=()=>{const e=ce.a.defer();this.hidden=!1;for(let e=0;e<this.lettersAnimProxies.length;e++){const t=this.lettersAnimProxies[e];Object(o.a)({targets:t,duration:1100+30*e,roty:0,delay:75*e+850+300+250,easing:"cubicBezier(0.305, 0.260, 0.000, 1.000)"}),Object(o.a)({targets:t,opacity:1,duration:200,delay:75*e+850+300+250})}for(let t=0;t<this.postersAnimProxies.length;t++){const n=this.postersAnimProxies[t];Object(o.a)({targets:n,duration:2500,delay:850+350*(this.postersAnimProxies.length-t),posx:[n.fromx,n.posx],posy:[n.fromy,n.posy],easing:"easeOutQuart",update:e=>{const t=e.currentTime;n.flash=1+-1*(t-0)/2200,n.flash=Math.max(0,n.flash)},complete:()=>{e.resolve()}})}for(let e=0;e<this.linesAnimProxies.length;e++){const t=this.linesAnimProxies[e];Object(o.a)({targets:t,duration:4e3,revealProgress:1.2,delay:850+300*e,easing:"cubicBezier(0.305, 0.260, 0.000, 1.000)"})}return e.promise},this.playOutro=()=>{const e=ce.a.defer();for(let e=0;e<this.lettersAnimProxies.length;e++){const t=this.lettersAnimProxies[e],n=id[3*e+0],i=id[3*e+1],s=id[3*e+2]*Math.PI/180;Object(o.a)({targets:t,duration:1200,posx:n,posy:i,rotz:s,delay:500,easing:"cubicBezier(0.610, 0.005, 0.045, 1.000)"}),Object(o.a)({targets:t,opacity:0,duration:1200,delay:500,easing:"cubicBezier(0.610, 0.005, 0.045, 1.000)"})}for(let e=0;e<this.postersAnimProxies.length;e++){const t=this.postersAnimProxies[e],n=sd[3*e+0],i=sd[3*e+1];Object(o.a)({targets:t,duration:2e3,posx:n,posy:i,delay:0+200*(this.postersAnimProxies.length-e),easing:"cubicBezier(0.610, 0.005, 0.045, 1.000)",complete:()=>{}})}for(let e=0;e<this.linesAnimProxies.length;e++){const t=this.linesAnimProxies[e];Object(o.a)({targets:t,duration:4e3,revealProgress:-.2,delay:1e3,easing:"cubicBezier(0.305, 0.260, 0.000, 1.000)"})}return setTimeout(()=>{this.hidden=!0,e.resolve()},2e3),e.promise},this.onResize=()=>{let e=1/1440*ft.screen.width;e=Math.min(e,1),this.lettersNode.setScale(e),this.linesNode.setScale(e)},this.scene=e,this.root=new An.a,this.texs=new Oe("ciaobella",e.gl),this.mats=e.matlib.createProvider("ciaobella"),ed.init(this),this.gltfOverride=new Ua,this.gltfOverride.overrides=this.mats.materials,this.postersAnimProxies=[],this.lettersAnimProxies=[],this.linesAnimProxies=[],this.lettersDesktop=[],this.lettersMobile=[]}load(){return[this.loadGltf(),...this.texs.load().getAllLoadables()]}onGltfLoaded(){this.lettersNode=this.gltf.getElementByName("nodes","letters"),this.lettersMobileNode=this.gltf.getElementByName("nodes","letters_mobile"),this.postersNode=this.gltf.getElementByName("nodes","posters"),this.linesNode=this.gltf.getElementByName("nodes","lines");for(const e of this.lettersNode._children)e.renderable&&this.lettersDesktop.push(e.renderable);for(let e=0;e<2;e++){const t=this.gltf.renderables[e],n=t.node.position[0],i=t.node.position[1];let s=0,o=0;0==e?(s=-9.20403,o=25.6343):(s=-1.2901,o=-25.1167),this.postersAnimProxies.push({renderable:t,opacity:1,fromx:s,fromy:o,posx:n,posy:i,flash:50})}for(let e=0;e<this.linesNode._children.length;e++){const t=this.linesNode._children[e].renderable;this.linesAnimProxies.push({renderable:t,revealProgress:-.5})}this.createProxiesForLettersRenderables(this.lettersDesktop),this.lettersAnimProxies.sort((e,t)=>e.renderable.node.name>t.renderable.node.name?1:-1),g.resize.on(this.onResize),this.onResize(),this.preRender()}createProxiesForLettersRenderables(e){W.vec3.create()[2]=1;for(let t=0;t<e.length;t++){const n=e[t],i=n.node.x,s=n.node.y,o=i,r=s;this.lettersAnimProxies.push({renderable:n,roty:-Math.PI/2,rotz:0,opacity:0,fromx:o,fromy:r,posx:i,posy:s})}}preRender(){if(!this.hidden){for(let e=0;e<this.lettersAnimProxies.length;e++){const t=this.lettersAnimProxies[e],n=t.renderable;n.node.position[0]=t.posx,n.node.position[1]=t.posy,W.quat.identity(nd),W.quat.rotateY(nd,nd,t.roty),W.quat.rotateZ(nd,nd,t.rotz),n.node.rotation.set(nd),n.node.invalidate()}for(let e=0;e<this.postersAnimProxies.length;e++){const t=this.postersAnimProxies[e],n=t.renderable;n.node.position[0]=t.posx,n.node.position[2]=t.posy,n.node.invalidate();const i=t.opacity;n.materials[0].getPass("color").pass.iAlpha2.param.set(i)}for(let e=0;e<this.linesAnimProxies.length;e++){const t=this.linesAnimProxies[e],n=t.renderable,i=t.revealProgress;n.materials[0].getPass("color").pass.iReveal.param.set(i)}}}render(e,t,n){if(this.hidden)return;for(let i=0;i<this.postersAnimProxies.length;i++){const s=this.postersAnimProxies[i],o=s.renderable;o.materials[0].getPass(n).pass.iFlash.param.set(s.flash,s.flash,s.flash),o.render(this.scene,e,t,n)}if(ft.screen.width<1023)return;for(let i=0;i<this.linesAnimProxies.length;i++){this.linesAnimProxies[i].renderable.render(this.scene,e,t,n)}const i=this.lettersAnimProxies[0].renderable.materials[0].getPass(n);i.prepare(this.root,e);const s=i.getProgram();for(let t=0;t<this.lettersAnimProxies.length;t++){const n=this.lettersAnimProxies[t].renderable.mesh.primitives[0],o=i.pass;o.iAlpha2.param.set(this.lettersAnimProxies[t].opacity),o.iAlpha2.param.setup(s),o.prepare(s,this.lettersAnimProxies[t].renderable.node,e),n.bindVao(s),n.render(),n.unbindVao()}}}function rd(e){for(var t=4022871197,n=e.toString(),i=0;i<n.length;i++){var s=.02519603282416938*(t+=n.charCodeAt(i));s-=t=s>>>0,t=(s*=t)>>>0,t+=4294967296*(s-=t)}return 2.3283064365386963e-10*(t>>>0)}class ad{constructor(e){this.c=1,this.s0=rd(0),this.s1=rd(0),this.s2=rd(0),this.s0-=rd(e),this.s0<0&&(this.s0+=1),this.s1-=rd(e),this.s1<0&&(this.s1+=1),this.s2-=rd(e),this.s2<0&&(this.s2+=1)}next(){var e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=0|e)}double(){return this.next()+11102230246251565e-32*(2097152*this.next()|0)}int32(){return 4294967296*this.next()|0}}class ld{constructor(e=0){this.seed=0|e,this.index=0,this.impl=new ad(e)}static next(){return this.global.next()}reset(e=this.seed){this.seed=e,this.index=0,this.impl=new ad(this.seed)}next(){return this.impl.double()}}ld.global=new ld(51623);class dd{constructor(e,t=1,n=1){this.prng=new ld(e),this.factors=new Float64Array(256),this.amplitude=n,this.scale=t,this._val=0,this._p=0,this.reset()}reset(){this._p=0;var e=this.factors,t=this.prng;t.reset();for(var n=0;n<256;n++)e[n]=t.next()}next(){var e=this.factors;this._p+=this.scale;var t=this._p,n=Math.floor(t),i=t-n,s=i*i*(3-2*i),o=255&n,r=o+1&255;return(function(e,t,n){return e*(1-n)+t*n}(e[o],e[r],s)-.5)*this.amplitude}}const cd=W.vec2.create(),ud=W.vec2.create(),hd=W.vec2.create(),pd=.015,_d={x:0,y:0};function gd(e,t){var n=Math.cos(t),i=Math.sin(t);return _d.x=e[0]*n-e[1]*i,_d.y=e[0]*i+e[1]*n,_d}class md{constructor(e){this.render=()=>{if(0==this.nbActivePoints)return;const e=this.scene.programs.cursorRibbon;e.use(),e.uResolution([ft.screen.width,ft.screen.height]),e.tGrunge(this.tGrunge),this.cfg.apply(),this.buffer.bind(),this.buffer.attribPointer(e),this.buffer.drawTriangleStrip(2*this.nbActivePoints)},this.onMouseDown=()=>{this.resetPointsAtPosition(this._inputs.mpos),this.updateData(.16),this._canUpdatePoints=!0,this._canRetract=!1},this.onMouseUp=()=>{this._canUpdatePoints=!1,this._canRetract=!0},this.onMouseMove=()=>{if(!this._canUpdatePoints)return;const e=this._inputs.mpos;W.vec2.distance(e,this._lastCoords)<.025||(this.shiftData(),this.points[0]=e[0],this.points[1]=e[1],this.points[2]=pd,W.vec2.copy(this._lastCoords,e))},this.scene=e;const t=e.gl;this._inputs=new pn(document.body),this._inputs.start(),this.cfg=e.glstate.config(),this.cfg.enableCullface(!1).enableDepthTest().depthMask(!0).enableBlend(!0).blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.points=[],this._canUpdatePoints=!1,this._canRetract=!1,this.nbActivePoints=0,this._lastCoords=W.vec2.create(),this.chaos=new dd(0),this.setupGeom(),this.bindEvents(),this.tGrunge=this.scene.cmnTexs.get("cursor_grunge")}setupGeom(){const e=this.scene.gl;this.verticesData=new Float32Array(400);for(let e=0;e<50;e++){const t=0,n=0,i=2*e*4,s=i+4;this.verticesData[i]=t,this.verticesData[i+1]=n,this.verticesData[i+2]=0,this.verticesData[i+3]=0,this.verticesData[s]=t,this.verticesData[s+1]=n,this.verticesData[s+2]=0,this.verticesData[s+3]=0,this.points.push(t,n,0)}this.buffer=new yr.a(e,this.verticesData,e.DYNAMIC_DRAW),this.buffer.attrib("aPosition",4,e.FLOAT)}bindEvents(){const e=document.body;this.scene.inputs.el.addEventListener("mousedown",this.onMouseDown),this.scene.inputs.el.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseleave",this.onMouseUp)}unbindEvents(){const e=document.body;this.scene.inputs.el.removeEventListener("mousedown",this.onMouseDown),this.scene.inputs.el.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseleave",this.onMouseUp)}shiftData(){this.points=[0,0,pd].concat(this.points.splice(0,this.points.length-3))}updatePoints(e){let t=0;for(let e=1;e<50;e++){const n=3*e;this.points[n+2]>0&&t++}this.nbActivePoints=t}retract(e){if(0==this.nbActivePoints)return;const t=3*this.nbActivePoints,n=Math.max(0,this.points[t+2]-.85*e);this.points[t+2]=n,0==n&&this.nbActivePoints>0&&this.nbActivePoints--}resetPointsAtPosition(e){for(let t=0;t<50;t++){const n=3*t;this.points[n]=e[0],this.points[n+1]=e[1]}}updateData(e){for(let e=0;e<50;e++){const t=3*e;let n=3*(e-1),i=3*(e+1);n=0==e?3*e:3*(e-1),i=49==e?3*e:3*(e+1);const s=2*e*4,o=s+4,r=this.points[t],a=this.points[t+1],l=this.points[t+2],d=(this.points[n],this.points[n-1],this.points[i]),c=this.points[i+1];ud[0]=r,ud[1]=a,hd[0]=d,hd[1]=c,W.vec2.sub(cd,ud,hd),W.vec2.normalize(cd,cd);const u=Math.PI/2,h=gd(cd,u);cd[0]=h.x,cd[1]=h.y;const p=.001*this.chaos.next();cd[0]*=.003+p,cd[1]*=.003+p,this.verticesData[s]=r+cd[0],this.verticesData[s+1]=a+cd[1],this.verticesData[s+2]=0,this.verticesData[s+3]=l,this.verticesData[o]=r-cd[0],this.verticesData[o+1]=a-cd[1],this.verticesData[o+2]=0,this.verticesData[o+3]=l}this.chaos.reset()}preRender(e=16){this._canUpdatePoints||this.retract(e),this._canUpdatePoints&&this.updatePoints(e),this.updateData(e),this.buffer.data(this.verticesData)}}var vd=n(99),fd=n.n(vd),bd=n(28),Td=n.n(bd),Ed=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class wd{constructor(){this.name="basis"}static GetTranscoder(){return null===this._transcoder&&(this._transcoder=new Td.a(fd.a)),this._transcoder}getBasisFormat(e){return null!==e.astc?Td.a.BasisOutputFormat.ASTC:null!==e.dxt?Td.a.BasisOutputFormat.DXT:null!==e.etc?Td.a.BasisOutputFormat.ETC:null!==e.pvr?Td.a.BasisOutputFormat.PVRTC:Td.a.BasisOutputFormat.RGB565}decodeLod(e,t,n){return Ed(this,void 0,void 0,(function*(){const i=e.lods[t],s=this.getBasisFormat(n),o=(yield wd.GetTranscoder().transcode(i.buffers[0],s)).images[0],r=o.levels.map(e=>({width:e.alignedWidth,height:e.alignedHeight,data:new Uint8Array(e.data)})),a={datatype:s!==Td.a.BasisOutputFormat.RGB565?Te.RAW_COMPRESSED:Te.RAW,textureType:Ie.a.TEXTURE_2D,width:o.width,height:o.height,internalformat:o.format.internalformat,format:o.format.format,type:o.format.type,sources:[{surfaces:[r]}]};e.datas=a}))}isSupported(e){return null!=window.WebAssembly}}wd._transcoder=null;var Cd=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const Ad=void 0!==window.createImageBitmap;function Sd(e){return 1196314761===new Uint32Array(e,0,2)[0]?"image/png":"image/jpeg"}class Rd{constructor(e,t){this.uid=t,this.lib=e,this.matlist=[],this.materials={}}registerMaterial(e,t){void 0===this.materials[t]&&(this.materials[t]=e,this.matlist.push(e),this.lib.registerMaterial(e,this.uid+"/"+t))}get(e){return this.materials[e]||this.lib.get(e)}dispose(){}}function yd(e){const t=new M,n=e.concat();return function i(){for(var s=0;n.length>0&&s<1;){n.pop().getProgram(),s++}0===n.length?t.resolve(e):window.requestAnimationFrame(i)}(),t.promise}function xd(e){const t=new M,n=e.concat();return function i(){for(var s=0;n.length>0&&s<1;){var o=n.pop().getProgram();o.ready||(o.use(),s++)}0===n.length?t.resolve(e):window.requestAnimationFrame(i)}(),t.promise}const Md=n(151);function Pd(){}var Nd=class{constructor(e){this.scene=e,this.gl=e.gl,this.materials={},this.matlist=[],this.defaultMaterial=null}dummy(){return{compile:Pd,prg:{use:Pd}}}dispose(){this.gl=null,this.scene=null,this.materials=null,this.matlist=null,this.defaultMaterial=null}createProvider(e){return new Rd(this,e)}registerMaterial(e,t){void 0===this.materials[t]&&(this.materials[t]=e,e.name=t,this.matlist.push(e))}get(e){var t=this.materials[e];return void 0===t&&(console.log("        -> not found",e),t=this.defaultMaterial),t}compileAllAsync(){return function(e){const t=[];return function(e,t){const n=e.length;for(let i=0;i<n;i++)t.push(...e[i].getAllPasses())}(e=e.concat(),t),Promise.resolve(t).then(yd).then(xd)}(this.matlist)}compileAll(){this.matlist.forEach(e=>{e.getPass("color").getProgram().use()});var e=new Md(this.gl);return e.insert(),e.promise}},Id=n(16);var Ld=new class{constructor(){this.cfg=(new Id.c).enableCullface(!1).enableDepthTest(!1).enableBlend(!0).blendFunc(Ss.SRC_ALPHA,Ss.ONE_MINUS_SRC_ALPHA),this.fbo=null}debug(e){this.fbo=e}render(e){if(null!==this.fbo){var t=e.quad,n=e.programs.debugFbo;n.use(),n.tTex(this.fbo.getColor()),t.attribPointer(n),e.glstate.push(this.cfg),e.glstate.apply(),t.render(),e.glstate.pop()}}};const Od=W.vec3.create(),Dd=new Oi;class Fd{constructor(e){this._touchTime=0,this._moved=!1,this.scene=e,this.currentHoverItem=null,this._selectionLocked=!1,this.touchmove=this._touchmove.bind(this),this.touchstart=this._touchstart.bind(this),this.touchend=this._touchend.bind(this),this.onItemSelect=new r;const t=document.body;this.scene.inputs.el.addEventListener("mousedown",this.touchstart),this.scene.inputs.el.addEventListener("touchstart",this.touchstart),this.scene.inputs.el.addEventListener("mousemove",this.touchmove),this.scene.inputs.el.addEventListener("touchmove",this.touchmove),t.addEventListener("mouseup",this.touchend),t.addEventListener("touchend",this.touchend)}lockSelection(){null!==this.currentHoverItem&&a.releaseState(i.CROSS),this._selectionLocked=!0}unlockSelection(){this._selectionLocked=!1}release(){const e=document.body;this.scene.inputs.el.removeEventListener("mousedown",this.touchstart),this.scene.inputs.el.removeEventListener("touchstart",this.touchstart),this.scene.inputs.el.removeEventListener("mousemove",this.touchmove),this.scene.inputs.el.removeEventListener("touchmove",this.touchmove),e.removeEventListener("mouseup",this.touchend),e.removeEventListener("touchend",this.touchend),this.onItemSelect.release()}_touchstart(){this._touchTime=Date.now(),this._moved=!1}_touchmove(){this._moved=!0}_touchend(){Date.now()-this._touchTime>400||this._moved||!this.currentHoverItem||this._selectionLocked||this.onItemSelect.emit(this.currentHoverItem)}hitTest(e){return Dd.unproject(this.scene.inputs.mpos,this.scene.camera),0!==e.raycast(Dd,Od)}update(e){if(this._selectionLocked)return;const t=this.currentHoverItem;let n=null;for(let t=0;t<e.length;t++)e[t].mediaData&&this.hitTest(e[t].Picking)&&(n=e[t]);this.scene.inputs.hasMouse||(n=null),n&&a.currentState!=i.EYE&&a.currentState!=i.POINT&&a.pushState(i.EYE),null===n&&a.currentState==i.EYE&&a.releaseState(i.EYE),null!==n?((null===t||t.cell!==n)&&(this.currentHoverItem={cell:n,hoverTime:Date.now(),mediaData:n.mediaData,hoverPos:W.vec3.create()}),this.currentHoverItem&&this.currentHoverItem.hoverPos.set(Od)):this.currentHoverItem=null}}const Bd=W.quat.create(),Ud=W.quat.create(),Vd=W.quat.create(),Gd=W.vec3.create(),kd=W.vec3.create(),Hd=W.vec3.create(),zd=W.mat3.create(),Wd=new Float32Array(zd.buffer,0,3),jd=new Float32Array(zd.buffer,12,3),Xd=new Float32Array(zd.buffer,24,3),qd=W.vec3.fromValues(0,1,0);class $d{constructor(){this.release=!1,this.released=!1,this.reveal=0,this.circle=0,this.root=new An.a,this.root.z=-.03,this.root.setScale(1.5),this._cellRotation=W.quat.create(),this._targetRotation=W.quat.create(),this.root.rotateZ(Math.random()*Math.PI*2)}setHover(e){this.hoverItem=e,this.hoverItem&&(this.root.position.set(this.hoverItem.cell.root.position),this.root.setScale(1.5*this.hoverItem.cell.root.scale[0]),this.root.z=-.03,this._baseZ=0,W.quat.setAxisAngle(Vd,[0,0,1],e.cell.angle),this._cellRotation.set(Vd),W.quat.identity(Vd),this._targetRotation.set(Vd),this._baseScale=this.hoverItem.cell.root.scale[0])}lookAtRotation(e,t,n){W.vec3.subtract(Xd,n,t),W.vec3.normalize(Xd,Xd),W.vec3.cross(Wd,qd,Xd),W.vec3.normalize(Wd,Wd),W.vec3.cross(jd,Xd,Wd),W.quat.fromMat3(e,zd)}preRender(e,t){let n=-1,i=.8*e;!this.release&&this.hoverItem&&(i=8e-4*(Date.now()-this.hoverItem.hoverTime)-this.reveal,n=1),this.reveal+=n*i,this.reveal=$(this.reveal);let s=Qi($(2*this.reveal));W.quat.slerp(Bd,this._cellRotation,this._targetRotation,$(2*s)),Hd.set(t),Hd[2]+=12*this.hoverItem.cell.scale,this.lookAtRotation(Vd,this.hoverItem.cell.root.position,Hd);let o=2*(s-.5);o=ft.store.isMobile?0:o,W.quat.slerp(Ud,Bd,Vd,$(o)),this.hoverItem.cell.root.rotation.set(Ud),this.hoverItem.cell.root.z=this._baseZ+.2*s,this.hoverItem.cell.root.setScale(this._baseScale+.18*s),this.hoverItem.cell.root.invalidate(),this.root.invalidate(),n=-1,i=.8*e,this.release||!this.hoverItem||this.hoverItem.cell.isCloseup()||(i=8e-4*(Date.now()-this.hoverItem.hoverTime)-this.circle,n=1),this.circle+=n*i,this.circle=$(this.circle),0===this.reveal&&this.release&&(this.released=!0)}dispose(){this.hoverItem.cell.root.remove(this.root)}render(e,t,n,i){let s=Qi(this.circle);i.pass.iReveal.param.set(s),i.prepare(this.root,e),t.bind(),t.attribPointer(i.getProgram()),n.bind(),n.drawTriangles()}}class Yd{constructor(e,t){this.gl=e.gl,this.scene=e,this.interaction=t,this.quad=new Ul(e.gl,-.5,-.5,1,1),this.indexBuffer=new Mr.a(this.gl,this.gl.UNSIGNED_BYTE,Bl),this.mats=e.matlibGrid.createProvider("hover-renderer"),this._defs=[],this.root=new An.a}preRender(){if(!this.scene.gridLayout.enabled)return;let e=this.interaction.currentHoverItem,t=!1;for(let n=0;n<this._defs.length;n++)e&&this._defs[n].hoverItem.cell.root===e.cell.root?(this._defs[n].release=!1,this._hovering||(this._defs[n].hoverItem.hoverTime=Date.now()),t=!0):this._defs[n].release=!0;if(!t&&null!=e){let t=new $d;this.root.add(t.root),t.setHover(e),this._defs.push(t)}this._defs=this._defs.filter(e=>!e.released),Gd.set(this.scene.inputs.mpos),Gd[2]=this.scene.camera.z,this.scene.cameraUtils.screenToWorldPoint(kd,Gd,!1);for(let e=0;e<this._defs.length;e++)this._defs[e].preRender(this.scene.dt,kd);this._hovering=null!=e}render(e,t,n){if(!this.scene.gridLayout.enabled)return;const i=this.mats.get(oo.HoverCircle).getPass(n);this.scene.glstate.push(i.pass.glconfig),this.scene.glstate.apply();for(let t=0;t<this._defs.length;t++)this._defs[t].render(e,this.quad,this.indexBuffer,i);this.scene.glstate.pop()}}class Kd{constructor(){this._transitionning=!1,this._progress=0,this._startPos=W.vec3.create(),this._startRot=W.quat.create(),this._targetPos=null,this._targetRot=null,this._basepos=W.vec3.create(),this._autoProgress=!0,this.duration=1,this.duration=1,this.ease=Zi}get Progress(){return this._progress}reset(){this.duration=1,this.ease=Zi}start(e){this.camera=e}stop(){this._target=null,this._transitionning=!1,this._progress=0,this._tResolve=null}setupIntro(e,t){W.vec3.copy(e.position,t),W.vec3.sub(e.position,e.position,[.55,.58,0]),this._basepos.set(e.position),e.invalidate(),this.duration=$e.INTRO.DURATION,this.ease=Ki}setTargetRot(e,t=!0){return this._progress=0,this._transitionning=!0,this._startRot.set(this.camera.rotation),this._targetRot=W.quat.create(),this._targetRot.set(e),t?new Promise(e=>{this._tResolve=e}):null}setTargetPos(e,t=!0){return this._progress=0,this._transitionning=!0,this._startPos.set(this.camera.position),this._targetPos=W.vec3.create(),this._targetPos.set(e),t?new Promise(e=>{this._tResolve=e}):null}moveTo(e){return this._progress=0,this._target=e,this.setTargetRot(e.rotation,!1),this.setTargetPos(e.position,!1),new Promise(e=>{this._tResolve=e})}setAutoProgress(e){this._autoProgress=e}moveToIndex(e,t=3){this._progress=0;const n=W.vec3.create();n.set(this.camera.position),n[0]=this._basepos[0]+t*e,this.setTargetPos(n,!1)}update(e){if(!this._transitionning)return;let t=this._autoProgress?this.ease(this._progress):this._progress;if(this._targetPos&&W.vec3.lerp(this.camera.position,this._startPos,this._targetPos,t),this._targetRot&&W.quat.slerp(this.camera.rotation,this._startRot,this._targetRot,t),this.camera.invalidate(),1==this._progress)return this._transitionning=!1,this._target=null,this._progress=0,void(this._tResolve&&this._tResolve());this._autoProgress&&(this._progress+=e*(1/this.duration),this._progress=$(this._progress))}}const Zd=new Oi,Qd=new Oi,Jd=W.vec2.create();class ec{constructor(e){this.revealed=!1,this.revealProgress=0,this.lockedMiddle=!1,this.sliderProgress=0,this.ratio=[1,1,0],this.scene=e,this.prg=e.programs.halolight,this.gl=this.scene.gl;const t=this.gl;this.mpos=W.vec2.create();const n=new Float32Array([0,0,1,0,0,1,1,1]);this.fsPlane=new yr.a(t,n),this.fsPlane.attrib("aTexCoord0",2,t.FLOAT),this.mask=this.scene.cmnTexs.get("window_light"),this.config=new Cn.a(this.scene.glstate),this.config.enableBlend(!0),this.config.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.config.enableDepthTest(!1),this.inputs=new pn(document.body),this.inputs.start()}reveal(){this.revealed=!0}preRender(){this.revealed&&(this.revealProgress+=this.scene.dt,this.revealProgress=Y(this.revealProgress,0,$e.INTRO.DURATION))}lockMiddle(){this.lockedMiddle=!0}unlockMiddle(){this.lockedMiddle=!1}render(e){const t=this.prg;t.use();let n=this.inputs.mpos;this.lockedMiddle&&(n=Jd),ft.store.sliderState?this.sliderProgress+=this.scene.dt:this.sliderProgress-=this.scene.dt,this.sliderProgress=$(this.sliderProgress),W.vec2.lerp(this.mpos,this.mpos,n,$(2*this.scene.dt));const i=this.revealProgress/$e.INTRO.DURATION;t.uReveal(i),this.scene.glview.height<this.scene.glview.width?(this.ratio[0]=1,this.ratio[1]=this.scene.glview.height/this.scene.glview.width):(this.ratio[0]=this.scene.glview.width/this.scene.glview.height,this.ratio[1]=.7),this.ratio[2]=this.sliderProgress,t.uScreenRatio_Light(this.ratio),t.tMask(this.mask),t.uMousePos(this.mpos),Zd.unprojectProjOnly([-1,0],this.scene.camera),Qd.unprojectProjOnly([1,0],this.scene.camera);let s=Qd.pos[0]-Zd.pos[0];t.uCamX(this.scene.camera.x*s*.5),this.config.apply(),this.fsPlane.bind(),this.fsPlane.attribPointer(this.prg),this.fsPlane.drawTriangleStrip()}}class tc{constructor(e){this.currentSource=null,this._playing=!1,this._ready=!1,this.gl=e,this.texture=new De.a(e,e.RGB),this.texture.setFilter(!0,!1,!1),this.texture.clamp(),this.videoEl=document.createElement("video"),this.videoSource=document.createElement("source"),this.videoEl.loop=!0,this.videoEl.crossOrigin="Anonymous",this.videoEl.autoplay=!1,this.videoEl.muted=!1,this.videoEl.loop=!0,this.videoSource.type="video/mp4",this.videoEl.classList.add("hide"),this.videoEl.style.position="absolute",this.videoEl.style.top="0",this.videoEl.style.left="0",this.videoEl.style.width="512px",this.videoEl.style.height="512px",this.videoEl.preload="auto",this.videoEl.width=512,this.videoEl.height=512,this.videoEl.setAttribute("webkit-playsinline","webkit-playsinline"),this.videoEl.setAttribute("playsinline","playsinline"),this.videoEl.appendChild(this.videoSource),document.body.appendChild(this.videoEl),ft.videoTexture=this}setSrc(e,t=512,n=512){if(this.currentSource=e,null===e)return this.videoSource.oncanplay=null,this.videoEl.pause(),this.videoEl.currentTime=0,this._playing=!1,this.videoSource.src="about:blank",ft.store.sliderVideoPending=!1,void ge.setVolume(1);this.videoEl.width=t,this.videoEl.height=n,this._ready=!1,this.videoSource.src=e,this.videoEl.load(),We.a.isDesktop?this.videoEl.oncanplay=this.onCanPlay.bind(this):ft.store.sliderVideoPending=!0}onCanPlay(){this._playing||null===this.currentSource||(We.a.isDesktop?this.play():ft.store.sliderVideoPending=!0)}play(){ft.store.sliderVideoPending=!1,this._playing=!0,this.videoEl.play(),ge.setVolume(.1)}update(){this._playing&&(this._ready=this.videoEl.readyState>3,this._ready&&(this.texture.fromImage(this.videoEl),this.texture.setFilter(!0,!1,!1),this.texture.clamp(),this.gl.bindTexture(this.gl.TEXTURE_2D,null)))}getTex(){return this.texture}}class nc{constructor(e){this._hasDragged=!1,this._instructionDelay=2,this._time=0,this._releasable=!1,this._controller=e}update(e){this._controller.running&&(this._time+=e,this._time>this._instructionDelay&&(this._hasDragged&&(this._releasable=!0),this._hasDragged||(ft.store.dragPending=!0)),this._controller._tdown&&(ft.store.dragPending=!1,this._hasDragged=!0))}}ci(),Fe.registerCodec(new wd),Fe.registerCodec(new class{constructor(){this.name="std"}decodeImage(e){const t=new Blob([e],{type:Sd(e)});if(Ad)return createImageBitmap(t);{const e=new M,n=URL.createObjectURL(t),i=new Image;return i.onload=e.resolve,i.onerror=e.reject,i.src=n,e.promise.finally(()=>URL.revokeObjectURL(n)),e.promise.then(()=>i)}}decodeLod(e,t){return Cd(this,void 0,void 0,(function*(){const n=e.lods[t],i=yield this.decodeImage(n.buffers[0]),s={width:i.width,height:i.height,data:i};e.datas={datatype:Te.IMAGE,format:6408,internalformat:6408,type:5121,textureType:Ie.a.TEXTURE_2D,width:1024,height:1024,sources:[{surfaces:[[s]]}]}}))}isSupported(e){return!0}});class ic{constructor(){this._inContrib=!1,this.setDebugCam=()=>{this.camera=this.devCamera,this.cameraController.setController(this.maxController),this.camera.add(this.iblMngr.lights.spot),this.invalidate()},this.setGridCam=()=>{this.camera&&(this.gridCamera.setMatrix(this.camera._matrix),this.gridCamera.updateViewProjectionMatrix(this.glview.width,this.glview.height),this.gridCamera.updateWorldMatrix()),this.transitionController.reset(),this.camera=this.gridCamera,this.cameraController.setController(this.dragController),this.camera.add(this.iblMngr.lights.spot),this.invalidate(),this.gridCamera.updateViewProjectionMatrix(this.glview.width,this.glview.height),this.gridCamera.updateWorldMatrix()},this.setTransitionCam=()=>{this.camera&&(this.transitionCamera.setMatrix(this.camera._matrix),this.transitionCamera.updateViewProjectionMatrix(this.glview.width,this.glview.height),this.transitionCamera.updateWorldMatrix()),this.camera=this.transitionCamera,this.cameraController.setController(this.transitionController),this.camera.add(this.iblMngr.lights.spot),this.invalidate(),this.transitionCamera.updateViewProjectionMatrix(this.glview.width,this.glview.height),this.transitionCamera.updateWorldMatrix()},this.closeSlider=()=>{this.halolight.unlockMiddle(),this.gridLayout.leaveSlider().then(()=>{this.setGridCam(),this.cameraController.setController(this.dragController),this.gridItemInteraction.unlockSelection()})},this.preCompileGridMats=()=>(this.iblMngr.lights.setup.update(),this.matlibGrid.compileAllAsync()),this.preCompileMats=()=>(this.iblMngr.lights.setup.update(),this.matlib.compileAllAsync()),this.onPreloaded=()=>{},this.onGridLoaded=()=>{this.gridLayout.enabled=!0},this.onLoaded=()=>{},this.dt=0,this.time=0,this.ratio=1,this.ilayer=null,this.onSelectItem=this._onSelectItem.bind(this),ci()}init(e){this.glview=e,this.gl=this.glview.gl,this.sroot=new An.a,this.root=new An.a,this.glstate=new Cn.b(this.gl),this.devCamera=this.makeCamera(500),this.transitionCamera=this.makeCamera(),this.gridCamera=this.makeCamera(),this.camera=this.gridCamera,this.cameraUtils=new ws(this),this.thumbStreamingGroup=new Qe("thumbgroup",this.gl,40),this.mediaStreamingGroup=new Qe("media",this.gl,3,"stream_empty_1024.png"),this.cityStreamingGroup=new Qe("from",this.gl,40,"stream_empty_128.png"),this.videoTexture=new tc(this.gl),this.programs=new ni(this),this.matlib=new Nd(this),this.matlibGrid=new Nd(this),this.iblMngr=new $i(this),this.cmnTexs=new Oe("cmn",this.gl),class{static setupTextures(e){let t=new ze({std:$e.asset_url("window_light.png")}),n=new He("window_light",t,e);n.texture.repeat(),t=new ze({std:$e.asset_url("cursor_grunge.jpg")}),n=new He("cursor_grunge",t,e),n.texture.repeat()}}.setupTextures(this.cmnTexs),this.inputs=new pn(this.ilayer),this.inputs.start(),this.cameraController=new Yi(this),this.maxController=new ds(this.glview.canvas),this.dragController=new ns(this.inputs,this.cameraUtils),this.transitionController=new Kd,this.cameraController.setController(this.dragController),this.root.add(this.devCamera),this.root.add(this.transitionCamera),this.root.add(this.gridCamera),this.sroot.add(this.root),this.cameraUtils.updateBounds(),this.gridLayout=new Sl(this),this.gridLayout.enabled=!1,this.wall=new jl(this),this.halolight=new ec(this),this.ciaobella=new od(this),this.cursorRibbon=new md(this),this.root.add(this.gridLayout.root),this.root.add(this.wall.root),this.root.add(this.ciaobella.root),this.gridItemInteraction=new Fd(this),this.gridItemInteraction.onItemSelect.on(this.onSelectItem),this.hoverRenderer=new Yd(this,this.gridItemInteraction),this.root.add(this.hoverRenderer.root);let t=ui.addFolder("camera");t.add(this,"setDebugCam"),t.add(this,"setTransitionCam"),t.add(this,"setGridCam"),this.envRotation=1.8,ui.add(this,"envRotation",0,6.3),this.goToGrid=()=>this.gridMode(),ui.add(this,"goToGrid"),this.quad=new wn.a(this.gl),Ld.debug(this.iblMngr.lights.spot._fbo),ui.close();const n=W.vec3.fromValues(-5,2,0);W.vec3.add(n,n,this.gridCamera.position);const i=this.wall.getNearestTilePos(n);i[2]=$e.INTRO.DIST,this.setTransitionCam(),this.transitionController.setupIntro(this.transitionCamera,i),this.ciaobella.root.position.set(this.transitionCamera.position),this.ciaobella.root.position[2]=0,this.ciaobella.root.invalidate(),this.dragWatch=new nc(this.dragController)}gridMode(e=!1,t=1){this.halolight.revealed||this.halolight.reveal(),this.transitionController.duration=t,this.transitionController.ease=Qi;const n=this.transitionController.moveTo(this.gridCamera).then(this.setGridCam);e&&ht.CurrentStore.directMedia&&n.then(()=>{let e=this.gridLayout.gridMap.getCell(0,0),t={cell:e,hoverTime:Date.now(),mediaData:e.mediaData,hoverPos:W.vec3.create()};this._onSelectItem(t)})}enterIntro(){ft.store.phase===gc.Xp&&(ge.stopIntro(4e3),ge.playBackground(6e3));const e=W.vec3.create();e.set(this.transitionCamera.position),e[2]=$e.INTRO.ZOOMED_DIST,this.transitionController.setTargetPos(e),this.halolight.reveal();const t=Promise.all([this.transitionController.setTargetPos(e),this.ciaobella.playIntro()]).then(()=>{this.transitionController.reset()});return this.transitionCamera.updateMatrix(),t}setContributionMode(e){this._inContrib=e,e?(this.gridItemInteraction.lockSelection(),this.transitionCamera.position.set(this.camera.position),this.setTransitionCam(),this.transitionController.duration=2.5,this.transitionController.setTargetPos([this.camera.x+11,this.camera.y,4.2])):(this.setTransitionCam(),this.transitionController.duration=2.5,this.transitionController.setTargetPos(this.gridCamera.position).then(()=>{this.gridItemInteraction.unlockSelection(),this.setGridCam()}))}replaceCiaoBella(){this.ciaobella.root.position.set(this.transitionController._targetPos),this.ciaobella.root.position[2]=0,this.ciaobella.root.invalidate()}hideTitle(){return this.ciaobella.playOutro()}_onSelectItem(e){this.openSlider(e)}openSlider(e){this.setTransitionCam(),this.halolight.lockMiddle(),this.gridItemInteraction.lockSelection(),this.transitionController.duration=.5,this.transitionController.setTargetPos([e.cell.root.x,e.cell.root.y,this.camera.z],!0).then(()=>{this.gridLayout.enterSlider(e.cell)})}slide(e){this.gridLayout.sliderCtrl.slide(e)}render(e){this.dragWatch&&(this.dragWatch.update(this.dt),this.dragWatch._releasable&&(this.dragWatch._controller=null,this.dragWatch=null)),this.hoverRenderer.preRender(),this.gridItemInteraction.update(this.gridLayout.currentCells),this.thumbStreamingGroup.prepare(e),this.mediaStreamingGroup.prepare(e),this.cityStreamingGroup.prepare(e),this.dt=e,this.time+=e,this.root.rotation.set([0,0,0,1]),this.root.rotateY(this.envRotation),this.cameraUtils.updateBounds(),this.iblMngr.preRender(),this.iblMngr.lights.setup.update(),this.cameraController.preRender(),this.wall.preRender(),this.ciaobella.preRender(),this.gridLayout.preRender(),this.halolight.preRender(),this.cursorRibbon.preRender(e),this.root.updateWorldMatrix(),this.drawScene(this.camera)}drawScene(e,t=null,n=!1){const i=this.gl,s=t?t.width:this.glview.width,o=t?t.height:this.glview.height;this.ratio=s/o,e.updateViewProjectionMatrix(s,o),this.transitionCamera.updateViewProjectionMatrix(s,o),this.gridCamera.updateViewProjectionMatrix(s,o),this.renderLightmaps(),this.videoTexture.update(),this.glstate.apply(),i.viewport(0,0,s,o),i.bindFramebuffer(i.FRAMEBUFFER,t?t.fbo:null),i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.gridLayout.render(this.camera,Rs.OPAQUE,"color"),this.wall.render(this.camera,Rs.OPAQUE,"color"),this.hoverRenderer.render(this.camera,Rs.BLENDED,"color"),this.ciaobella.render(this.camera,Rs.BLENDED,"color"),this.cursorRibbon.render(),this.halolight.render(this.camera),this.glstate.apply()}renderLightmaps(){const e=this.gl,t=this.iblMngr.lights;for(var n of t.list)n._castShadows&&(n.prepareShadowmap(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.gridLayout.render(n._camera,Rs.SHADOW_CASTER,"depth"))}preload(){const e=[...P.default.load().getAllLoadables(),...this.cmnTexs.load().getAllLoadables(),...this.wall.load(),...this.ciaobella.load(),this.preCompileMats()];return Promise.all(e).then(this.onPreloaded),e}loadgrid(){this.gridLayout.initMaterials(),ht.registerMediaResouresGroup({thumbStreaming:this.thumbStreamingGroup,mediaStreaming:this.mediaStreamingGroup,cityStreaming:this.cityStreamingGroup,videoTexture:this.videoTexture});const e=new URLSearchParams(window.location.search);let t=Xe.All;e.get("goodbye-cast")&&(t=Xe.GoodbyeCast),e.get("best-moments")&&(t=Xe.Best);const n=[...this.gridLayout.load(),this.preCompileGridMats(),this.thumbStreamingGroup.alloc(),this.mediaStreamingGroup.alloc(),this.cityStreamingGroup.alloc(),ht.setCurrentFilter(t)];return e.get("uuid")&&n.push(ht.directAccess(e.get("uuid"))),Promise.all(n).then(this.onGridLoaded),n}invalidate(){}handleResize(){this.invalidate()}makeCamera(e=8){const t=new Sn.a(new Rn.a);return t.lens.setAutoFov(35*q),t.lens.near=.3,t.lens.far=e,t.lens.aspect=this.glview.canvasWidth/this.glview.canvasHeight,t.z=$e.WALL_DIST,t}}var sc=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var oc,rc={template:n(152),components:{},data:()=>({}),computed:{},mounted(){this.glview=new En(this.$refs.cvs,{alpha:!1,depth:!0}),this.scene=new ic,this.scene.ilayer=this.$refs.cvs,this.scene.init(this.glview),this.glview.scene=this.scene,this.bindEvents()},beforeDestroy(){this.unbindEvents()},methods:{preload(){return this.scene.preload()},load(){return this.scene.loadgrid()},bindEvents(){g.changeFilter.on(this.changeFilter),g.slide.on(this.onSlide),g.closeSlider.on(this.onCoseSlider)},unbindEvents(){g.changeFilter.off(this.changeFilter),g.slide.off(this.onSlide),g.closeSlider.off(this.onCoseSlider)},startGL(){this.glview.play()},enterIntro(){return sc(this,void 0,void 0,(function*(){return this.scene.enterIntro()}))},leaveIntro(){return sc(this,void 0,void 0,(function*(){return this.scene.hideTitle()}))},gridMode(e=!1,t=5){return sc(this,void 0,void 0,(function*(){return this.scene.gridMode(e,t)}))},setContributionMode(e){this.scene.setContributionMode(e)},changeFilter(e){ht.setCurrentFilter(e)},onSlide(e){this.scene.slide(e)},onCoseSlider(){this.scene.closeSlider()}}};!function(e){e.GDPR_COOKIE="accept_cookies"}(oc||(oc={}));const ac=new class{constructor(){this.duration=129600,this.acceptedCookies=!1}hasAcceptedCookies(){return!!this.acceptedCookies||!!this.getCookie(oc.GDPR_COOKIE)&&(this.acceptedCookies=!0,!0)}acceptCookies(){this.registerCookie(oc.GDPR_COOKIE,!0),this.acceptedCookies=!0}registerCookie(e,t,n){if(!e)return;t||(t=!0);let i=this.duration;n&&(i=n);const s=new Date;s.setTime(s.getTime()+60*i*1e3);const o={name:e,endDate:s,value:t},r="expires="+o.endDate.toUTCString();document.cookie=o.name+"="+o.value+";"+r+";path=/"}unregisterCookie(e){if(!e)return;const t=new Date;t.setTime(t.getTime()-864e5);const n="expires="+t.toUTCString();document.cookie=e+"=; "+n}getCookie(e){if(!e)return;const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}checkCookie(e){return this.getCookie(e)}},lc=/\#\#/g,dc=/\#\#(.)+\#\#/g;var cc={template:n(153),components:{"ui-button":d},data:()=>({hasAcceptedCookies:!1,cookieText:""}),created(){this.hasAcceptedCookies=ac.hasAcceptedCookies()},mounted(){"ar"===h.locale?this.cookieText=`<a href="${this.setPdfLink()}" target="_blank">لماذا نستخدم ملفات تعريف الارتباط؟</a> يمثل تفاعلك على الموقع موافقة منك على استخدامنا لملفات تعريف الارتباط.`:this.setTermsLink(h.t("common.disclaimer_cookie"))},methods:{setTermsLink(e){let t=e.trim();(e.match(dc)||[]).forEach(e=>{const n=e.replace(lc,"");t=t.replace(e,`<a href="${this.setPdfLink()}" target="_blank">${n}</a>`)}),this.cookieText=t},setPdfLink(){let e="assets/legals/"+h.defaultLocale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";const t="assets/legals/"+h.locale+"/LCDP_Nairobi_Privacy_and_Terms-Registration_and_UGC.pdf";return t||e},acceptCookies(){ac.acceptCookies(),this.hasAcceptedCookies=!0}}};const uc={template:n(154),components:{Xp:wt,Contribution:cn,CustomCursor:fn,"ui-footer":T,"ui-header":A,grid:rc,"ui-button":d,"ui-cookie":cc},data:()=>({currentMode:mc.Xp,startView:bt.Video}),created(){this.gridIntroComplete=!1,this.gridContentReady=!1;const e=new URLSearchParams(window.location.search);Promise.all(ge.load()).then(()=>{this.$appdatas.store.audioReady=!0});const t=null!=e.get("skipvid")&&!1;this.$appdatas.store.phase=gc.Xp,t?this.startView=bt.Grid:g.videoIntroPlay.on(this.startPreload)},mounted(){this.preloadTriggered=!1,this.enterTrigerred=!1,this.gridContentReady=!1,this.introComplete=!1,this.bindEvents(),this.startView===bt.Grid&&this.startPreload().then(this.enterGrid)},beforeDestroy(){this.unbindEvents()},methods:{startPreload(){if(!this.preloadTriggered)return this.preloadTriggered=!0,te.attachResources(J),te.watchResources(this.$refs.grid.preload()),te.load().then(this.onPreloaded)},bindEvents(){g.changeMode.on(this.changeMode)},onPreloaded(){this.$appdatas.store.preloaded=!0,g.loaderEnded.dispatch(),this.$refs.grid.startGL()},enterGrid(){if(!this.enterTrigerred){if(this.enterTrigerred=!0,this.startView===bt.Grid){const e=this.$refs.grid.load();return te.watchResources(e),Promise.all(e).then(()=>{this.$refs.grid.gridMode(!0,.8),this.$refs.component.$refs.component.onEnterAnimation()})}this.$refs.grid.enterIntro().then(this.onIntroComplete),te.watchResources(this.$refs.grid.load()),g.loaderEnded.on(this.onGridContentReady)}},onGridContentReady(){te.releaseWatchingResources(),this.gridContentReady=!0,this.introComplete&&this.goToNext()},onIntroComplete(){this.introComplete=!0,this.gridContentReady&&this.goToNext()},goToNext(){this.$refs.grid.leaveIntro(),this.$refs.grid.gridMode(!0),this.$refs.component.onNextView(bt.Grid)},unbindEvents(){g.changeMode.off(this.changeMode)},onNextView(e){this.prevModeSlug=this.currentMode,e&&(this.currentMode=e)},onPrevView(e){this.prevModeSlug=this.currentMode,e&&(this.currentMode=e)},enter(e,t){const n=this.$refs.component.$refs.component;n.onXpEnterAnimation?n.onXpEnterAnimation(t):t()},leave(e,t){Object(o.a)({targets:e,duration:1e3,opacity:[1,0],easing:"linear",complete:t})},changeMode(e){switch(this.currentMode=e,e){case mc.Contribution:this.startView=Gt.Onboarding,this.$refs.grid.setContributionMode(!0);break;case mc.Xp:this.startView=bt.Grid,this.$refs.grid.setContributionMode(!1)}}}};var hc=n(100);function pc(e){return u.global.assets[e]?u.global.assets[e].output.url:e}function _c(e){return u.global.assets[e]?u.global.assets[e].output.url:e}Object(hc.pipe_sync)(Object.keys(u.global.assets).map(e=>u.global.assets[e]));var gc,mc;s.a.config.productionTip=!1,function(e){e.Xp="xp",e.Contribution="contribution"}(gc||(gc={})),function(e){e.Xp="xp",e.Contribution="contribution"}(mc||(mc={}));var vc=function(){function e(){g.resize.dispatch([window.innerWidth,window.innerHeight])}h.setLocale(window.user_lang),ft.register(),window.addEventListener("resize",e),e(),s.a.mixin({methods:{asset_url:pc,asset_path:_c,t:(e,t)=>h.t(e,t)}}),new s.a({render:e=>e(uc)}).$mount("#app")},fc=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};window.addEventListener("DOMContentLoaded",(function(){return fc(this,void 0,void 0,(function*(){vc()}))}))}]));